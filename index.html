<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Retreaver Core 0.1 API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #f8f8f2;
  background-color: #272822;
}
.highlight .err {
  color: #151515;
  background-color: #ac4142;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #505050;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #d0d0d0;
}
.highlight .p, .highlight .pi {
  color: #d0d0d0;
}
.highlight .gi {
  color: #90a959;
}
.highlight .gd {
  color: #ac4142;
}
.highlight .gh {
  color: #6a9fb5;
  background-color: #151515;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #aa759f;
}
.highlight .kc {
  color: #d28445;
}
.highlight .kt {
  color: #d28445;
}
.highlight .kd {
  color: #d28445;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #90a959;
}
.highlight .sr {
  color: #75b5aa;
}
.highlight .si {
  color: #8f5536;
}
.highlight .se {
  color: #8f5536;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #6a9fb5;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #90a959;
}
.highlight .ss {
  color: #90a959;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">cURL</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='https://retreaver.com/users/sign_up'>Sign Up for a Developer Key</a></li>
            <li><a href='https://support.retreaver.com/'>Knowledge Base</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="introduction">Introduction</h1>

<p>The Retreaver Core API can be used to automate core business processes, like changing where calls are routed, and many other
features that would normally be accessed through our account portal.</p>

<p>If you&rsquo;re looking for information on tracking visitors and displaying phone numbers on your landing pages, please see
our <a href="https://github.com/retreaver/retreaver-js">Retreaver.js</a> library.</p>

<p>The API can be used to automate core business processes, but does not currently support all functionality.</p>

<p><em>Please note: We&rsquo;re currently working on a better, versioned replacement for this API. But don&rsquo;t worry, this API isn&rsquo;t going away.</em></p>

<h2 id="version">Version</h2>

<p>This is our <em>unversioned</em> API and for sake of clarity we&rsquo;ll refer to it henceforth as: </p>

<p><code class="prettyprint">Retreaver Core API</code></p>

<h2 id="multi-format">Multi-format</h2>

<p>The Retreaver Core API can be accessed by JSON or XML. Simply change the file extension and Content-Type header to match your preferences.</p>

<p>We recommend using JSON since XML is archaic, has high overhead, and is generally awful.</p>

<table><thead>
<tr>
<th>Format</th>
<th>Content-Type</th>
<th>Extension</th>
</tr>
</thead><tbody>
<tr>
<td>JSON</td>
<td>application/json</td>
<td>json</td>
</tr>
<tr>
<td>XML</td>
<td>text/xml</td>
<td>xml</td>
</tr>
</tbody></table>

<h2 id="paginated">Paginated</h2>

<p>Retreaver is a RESTful paginated API that returns 25 results per page. Each relevant index response will have a <a href="https://www.w3.org/wiki/LinkHeader">Link HTTP header</a> present.</p>

<p><code class="prettyprint">Link: &lt;https://retreaver.com/calls.json?api_key=woofwoofwoof&amp;company_id=1&amp;sort_by=created_at&amp;order=asc&amp;page=6996&gt;; rel=&quot;last&quot;, &lt;https://retreaver.com/calls.json?api_key=woofwoofwoof&amp;company_id=1&amp;sort_by=created_at&amp;order=asc&amp;page=2&gt;; rel=&quot;next&quot;</code></p>

<p>By parsing the Link header, you can determine the last, next, and previous pages.</p>

<h2 id="trees">Trees</h2>

<p>Please note, for brevity, in appropriate places we have truncated the API output by eliminating properties of certain objects. We&rsquo;re also trying to save some trees in case someone actually tries to print this.</p>

<h1 id="authentication">Authentication</h1>

<blockquote>
<p>To authorize, use this code:</p>
</blockquote>
<pre class="highlight shell"><code><span class="c"># With cURL, you can just pass the correct API key and company_id with each request.</span>
curl <span class="s2">"https://api.retreaver.com/call.json?api_key=woofwoofwoof&amp;company_id=1"</span>
</code></pre>

<blockquote>
<p>Make sure to replace <code class="prettyprint">woofwoofwoof</code> with your API key.</p>
</blockquote>

<p>Retreaver uses API keys to allow access to the API. You can register a new Retreaver Core API key at our <a href="https://retreaver.com/users/sign_up">account portal</a>.</p>

<p>If you have a Retreaver account, you can find your Core API key at the bottom of your <a href="https://retreaver.com/users/edit">user page</a>.</p>

<p>Retreaver expects for the API key to be included in all API requests to the server in a query string parameter that looks like the following:</p>

<p><code class="prettyprint">?api_key=woofwoofwoof</code></p>

<aside class="notice">
You must replace <code>woofwoofwoof</code> with your personal API key.
</aside>

<p>If you have access to more than one company on Retreaver, you must also pass in the company ID of the company you want to work with:</p>

<p><code class="prettyprint">?api_key=woofwoofwoof&amp;company_id=1</code></p>

<p>You can <a href="https://retreaver.com/company">find your company ID here</a>. We suggest passing it in anyways.</p>

<aside class="warning">
You should <strong>never, ever expose your Retreaver Core API key publicly</strong> as it can be used to access your entire Retreaver account without restriction!
</aside>

<p>If you suspect your API key has been publicly exposed, <a href="https://support.retreaver.com/faq/how-do-i-get-my-api-key/">reset it</a>.</p>

<h1 id="calls">Calls</h1>

<p>Or, more precisely, phone calls.</p>

<h2 id="get-recent-calls">Get recent Calls</h2>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.retreaver.com/calls.json?api_key=woofwoofwoof&amp;company_id=1"</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[{</span><span class="w">
   </span><span class="nt">"call"</span><span class="p">:{</span><span class="w">
      </span><span class="nt">"uuid"</span><span class="p">:</span><span class="s2">"addcf985-017e-4962-be34-cf5d55e74afc"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"caller"</span><span class="p">:</span><span class="s2">"+17195220377"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"caller_zip"</span><span class="p">:</span><span class="s2">"80920"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"caller_state"</span><span class="p">:</span><span class="s2">"CO"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"caller_city"</span><span class="p">:</span><span class="s2">"COLORADO SPRINGS"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"caller_country"</span><span class="p">:</span><span class="s2">"US"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"dialed_call_duration"</span><span class="p">:</span><span class="mi">193</span><span class="p">,</span><span class="w">
      </span><span class="nt">"total_duration"</span><span class="p">:</span><span class="mi">204</span><span class="p">,</span><span class="w">
      </span><span class="nt">"status"</span><span class="p">:</span><span class="s2">"finished"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"start_time"</span><span class="p">:</span><span class="s2">"2012-04-29T12:29:40Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"forwarded_time"</span><span class="p">:</span><span class="s2">"2012-04-29T12:29:51Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"end_time"</span><span class="p">:</span><span class="s2">"2012-04-29T12:32:46Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"cid"</span><span class="p">:</span><span class="s2">"0003"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"afid"</span><span class="p">:</span><span class="s2">"03994"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sid"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"dialed_number"</span><span class="p">:</span><span class="s2">"+18668987878"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="s2">"2012-04-29T12:29:46Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="s2">"2012-04-29T12:29:40Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"recording_url"</span><span class="p">:</span><span class="s2">"http://callpixels.com/recordings/87d43a5f5c88041687f9fd1bb6a58d6f/call_17192096019_1342303189.mp3"</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">},</span><span class="w">
</span><span class="p">{</span><span class="w">
   </span><span class="nt">"call"</span><span class="p">:{</span><span class="w">
      </span><span class="nt">"uuid"</span><span class="p">:</span><span class="s2">"8ae0aa38-0173-4e62-5342-cf5d55e74afe"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"caller"</span><span class="p">:</span><span class="s2">"+14166686981"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"caller_zip"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"caller_state"</span><span class="p">:</span><span class="s2">"ON"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"caller_city"</span><span class="p">:</span><span class="s2">"TORONTO"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"caller_country"</span><span class="p">:</span><span class="s2">"CA"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"dialed_call_duration"</span><span class="p">:</span><span class="mi">33</span><span class="p">,</span><span class="w">
      </span><span class="nt">"total_duration"</span><span class="p">:</span><span class="mi">40</span><span class="p">,</span><span class="w">
      </span><span class="nt">"status"</span><span class="p">:</span><span class="s2">"finished"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"start_time"</span><span class="p">:</span><span class="s2">"2012-04-29T12:29:40Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"forwarded_time"</span><span class="p">:</span><span class="s2">"2012-04-29T12:29:51Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"end_time"</span><span class="p">:</span><span class="s2">"2012-04-29T12:32:46Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"cid"</span><span class="p">:</span><span class="s2">"0003"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"afid"</span><span class="p">:</span><span class="s2">"03994"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sid"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"dialed_number"</span><span class="p">:</span><span class="s2">"+18668987878"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="s2">"2012-04-29T12:29:46Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="s2">"2012-04-29T12:29:40Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"recording_url"</span><span class="p">:</span><span class="s2">"http://callpixels.com/recordings/87d43a5f5c88041687f9fd1bb6a58d6f/call_17192096019_1342303189.mp3"</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre>

<p>Provides access to the call log. The call log contains all the Calls which have been made through Numbers under your control.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://retreaver.com/calls.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>created_at_start</td>
<td>-4712-01-01T00:00:00+00:00</td>
<td>Return any Calls that were created after this date.</td>
</tr>
<tr>
<td>created_at_end</td>
<td>4712-01-01T00:00:00+00:00</td>
<td>Return any Calls that were created before this date.</td>
</tr>
<tr>
<td>order</td>
<td>desc</td>
<td><code class="prettyprint">asc</code> or <code class="prettyprint">desc</code>, for ascending or descending.</td>
</tr>
<tr>
<td>sort_by</td>
<td>created_at</td>
<td><code class="prettyprint">created_at</code> or <code class="prettyprint">updated_at</code>, Calls will be sorted by this value. If you only want recently updated Calls, sort by updated_at.</td>
</tr>
</tbody></table>

<h2 id="enumerate-through-all-calls">Enumerate through all calls</h2>

<blockquote>
<p>First page&hellip;</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.retreaver.com/calls.json?api_key=woofwoofwoof&amp;company_id=1&amp;sort_by=created_at&amp;order=asc&amp;page=1"</span>
</code></pre>

<blockquote>
<p>Second page&hellip;</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.retreaver.com/calls.json?api_key=woofwoofwoof&amp;company_id=1&amp;sort_by=created_at&amp;order=asc&amp;page=2"</span>
</code></pre>

<blockquote>
<p>etc&hellip;</p>
</blockquote>

<p>To fetch all Calls on your Account, use the <code class="prettyprint">sort_by</code> and <code class="prettyprint">order</code> params to return your Calls in the order they were
created, and then paginate through all your calls.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">https://api.retreaver.com/calls.json?api_key=woofwoofwoof&amp;company_id=1&amp;sort_by=created_at&amp;order=asc&amp;page=1</code></p>

<p><code class="prettyprint">https://api.retreaver.com/calls.json?api_key=woofwoofwoof&amp;company_id=1&amp;sort_by=created_at&amp;order=asc&amp;page=2</code></p>

<h2 id="enumerate-through-calls-in-a-specific-date-time-range">Enumerate through Calls in a specific date/time range.</h2>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.retreaver.com/calls.json?api_key=woofwoofwoof&amp;company_id=1&amp;created_at_start=2016-01-01T00:00:00+00:00&amp;created_at_end=2016-01-02T00:00:00+00:00&amp;page=1"</span>
</code></pre>

<p>By passing in <code class="prettyprint">created_at_start</code> and <code class="prettyprint">created_at_end</code> parameters, you can control the start and end time of Calls returned.</p>

<p>The timestamp should be formatted according to <a href="https://validator.w3.org/feed/docs/error/InvalidRFC3339Date.html">rfc3339</a></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.retreaver.com/calls.json?api_key=woofwoofwoof&amp;company_id=1&amp;created_at_start=2016-01-01T00:00:00+00:00&amp;created_at_end=2016-01-02T00:00:00+00:00&amp;page=1</code></p>

<h2 id="get-a-specific-call">Get a specific Call</h2>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.retreaver.com/calls/addcf985-017e-4962-be34-cf5d55e74afc.json?api_key=woofwoofwoof&amp;company_id=1"</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nt">"call"</span><span class="p">:{</span><span class="w">
      </span><span class="nt">"uuid"</span><span class="p">:</span><span class="s2">"addcf985-017e-4962-be34-cf5d55e74afc"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"caller"</span><span class="p">:</span><span class="s2">"+17195220377"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"caller_zip"</span><span class="p">:</span><span class="s2">"80920"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"caller_state"</span><span class="p">:</span><span class="s2">"CO"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"caller_city"</span><span class="p">:</span><span class="s2">"COLORADO SPRINGS"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"caller_country"</span><span class="p">:</span><span class="s2">"US"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"dialed_call_duration"</span><span class="p">:</span><span class="mi">193</span><span class="p">,</span><span class="w">
      </span><span class="nt">"total_duration"</span><span class="p">:</span><span class="mi">204</span><span class="p">,</span><span class="w">
      </span><span class="nt">"status"</span><span class="p">:</span><span class="s2">"finished"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"start_time"</span><span class="p">:</span><span class="s2">"2012-04-29T12:29:40Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"forwarded_time"</span><span class="p">:</span><span class="s2">"2012-04-29T12:29:51Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"end_time"</span><span class="p">:</span><span class="s2">"2012-04-29T12:32:46Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"cid"</span><span class="p">:</span><span class="s2">"0003"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"afid"</span><span class="p">:</span><span class="s2">"03994"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sid"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"dialed_number"</span><span class="p">:</span><span class="s2">"+18668987878"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="s2">"2012-04-29T12:29:46Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="s2">"2012-04-29T12:29:40Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"recording_url"</span><span class="p">:</span><span class="s2">"http://callpixels.com/recordings/87d43a5f5c88041687f9fd1bb6a58d6f/call_17192096019_1342303189.mp3"</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Calls can be accessed by their UUID.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://retreaver.com/calls/addcf985-017e-4962-be34-cf5d55e74afc.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<h1 id="affiliates">Affiliates</h1>

<p>Entering Affiliates into our system allows you to attribute calls back to the Affiliate who created them, and to update any external tracking systems. </p>

<p>If you&rsquo;re not in affiliate marketing, Affiliate objects can be used for whatever source attribution is relevant. Affiliates exist for your reference.</p>

<h2 id="get-all-affiliates">Get all Affiliates</h2>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.retreaver.com/affiliates.xml?api_key=woofwoofwoof&amp;company_id=1"</span>
</code></pre>

<blockquote>
<p>The above command returns XML structured like this:</p>
</blockquote>
<pre class="highlight xml"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;affiliates</span> <span class="na">type=</span><span class="s">"array"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;affiliate&gt;</span>
    <span class="nt">&lt;afid&gt;</span>0002<span class="nt">&lt;/afid&gt;</span>
    <span class="nt">&lt;first-name&gt;</span>Nancy<span class="nt">&lt;/first-name&gt;</span>
    <span class="nt">&lt;last-name&gt;</span>Drew<span class="nt">&lt;/last-name&gt;</span>
    <span class="nt">&lt;company-name&gt;</span>Acme<span class="nt">&lt;/last-name&gt;</span>
    <span class="nt">&lt;updated-at</span> <span class="na">type=</span><span class="s">"datetime"</span><span class="nt">&gt;</span>2012-05-03T15:56:01Z<span class="nt">&lt;/updated-at&gt;</span>
    <span class="nt">&lt;created-at</span> <span class="na">type=</span><span class="s">"datetime"</span><span class="nt">&gt;</span>2012-05-03T15:56:01Z<span class="nt">&lt;/created-at&gt;</span>
  <span class="nt">&lt;/affiliate&gt;</span>
<span class="nt">&lt;/affiliates&gt;</span>
</code></pre>

<p>Provides a complete list of Affiliates.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://retreaver.com/affiliates.xml?api_key=woofwoofwoof&amp;company_id=1</code></p>

<h2 id="get-a-specific-affiliate-by-your-id">Get a specific Affiliate by your ID</h2>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.retreaver.com/affiliates/afid/0002.json?api_key=woofwoofwoof&amp;company_id=1"</span>
</code></pre>

<p>Finds an Affiliate by AFID.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.retreaver.com/affiliates/afid/0002.xml?api_key=woofwoofwoof&amp;company_id=1</code></p>

<h2 id="create-an-affiliate">Create an Affiliate</h2>
<pre class="highlight shell"><code>curl -s <span class="se">\</span>
    -X POST <span class="se">\</span>
    https://api.retreaver.com/affiliates.json?api_key<span class="o">=</span>woofwoofwoof&amp;company_id<span class="o">=</span>1 <span class="se">\</span>
    -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    -d <span class="s1">'{"affiliate":{"first_name":"Nancy", "last_name":"Drew", "afid":"0002"}}'</span>
</code></pre>

<p>Creates an Affiliate.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.retreaver.com/affiliates.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<p><code class="prettyprint">Content-Type: application/json</code></p>

<p><code class="prettyprint">{&quot;affiliate&quot;:{&quot;first_name&quot;:&quot;Nancy&quot;, &quot;last_name&quot;:&quot;Drew&quot;, &quot;afid&quot;:&quot;0002&quot;}}</code></p>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>afid</td>
<td>string</td>
<td>null</td>
<td>required</td>
<td>The affiliate&rsquo;s ID. This should align with any external tracking systems you may be using.</td>
</tr>
<tr>
<td>first_name</td>
<td>string</td>
<td>null</td>
<td></td>
<td>The affiliate&rsquo;s first name, for your reference.</td>
</tr>
<tr>
<td>last_name</td>
<td>string</td>
<td>null</td>
<td></td>
<td>Their last name.</td>
</tr>
<tr>
<td>company_name</td>
<td>string</td>
<td>null</td>
<td></td>
<td>Their company name.</td>
</tr>
</tbody></table>

<h2 id="update-an-affiliate">Update an Affiliate</h2>
<pre class="highlight shell"><code>curl -s <span class="se">\</span>
    -X PUT <span class="se">\</span>
    https://api.retreaver.com/affiliates/afid/002.json <span class="se">\</span>
    -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    -d <span class="s1">'{"affiliate":{"first_name":"Nathan"}}'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"affiliate"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"afid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"002"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nathan"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Drew"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"company_name"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-05-03T20:20:03Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-05-03T14:29:37Z"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Changes any attributes you have passed in on the Affiliate.</p>

<aside class="notice">
You must replace <code>0002</code> with the afid of the Affiliate you want to delete.
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT https://api.retreaver.com/affiliates/afid/0002.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<p><code class="prettyprint">Content-Type: application/json</code></p>

<p><code class="prettyprint">{&quot;affiliate&quot;:{&quot;first_name&quot;:&quot;Nathan&quot;}}</code></p>

<h2 id="remove-an-affiliate">Remove an affiliate</h2>
<pre class="highlight shell"><code>curl -X DELETE https://api.retreaver.com/affiliates/afid/0002.json?api_key<span class="o">=</span>woofwoofwoof&amp;company_id<span class="o">=</span>1
</code></pre>

<p>Deletes the given Affiliate. You must delete any Numbers the Affiliate has before deleting the Affiliate.</p>

<h1 id="targets">Targets</h1>

<p>Targets are the destination phone numbers that calls are routed to, for instance, your call center.</p>

<h2 id="get-all-targets">Get all Targets</h2>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.retreaver.com/targets.json?api_key=woofwoofwoof&amp;company_id=1"</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[{</span><span class="w">
   </span><span class="nt">"target"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
     </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6588</span><span class="p">,</span><span class="w">
     </span><span class="nt">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+18668987878"</span><span class="p">,</span><span class="w">
     </span><span class="nt">"sip_username"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
     </span><span class="nt">"sip_password"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
     </span><span class="nt">"cid_number_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
     </span><span class="nt">"obfuscate_cid"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
     </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-08-14T20:46:01.158-04:00"</span><span class="p">,</span><span class="w">
     </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-28T13:02:52.964-04:00"</span><span class="p">,</span><span class="w">
     </span><span class="nt">"object_key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"40a9a73ff97cb35a0a16d1ec89fd9eddcf3727df932cea9f0f7a5a8ba1684fed"</span><span class="p">,</span><span class="w">
     </span><span class="nt">"tid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
     </span><span class="nt">"priority"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
     </span><span class="nt">"weight"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
     </span><span class="nt">"timeout_seconds"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
     </span><span class="nt">"timer_offset"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
     </span><span class="nt">"send_digits"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
     </span><span class="nt">"concurrency_cap"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
     </span><span class="nt">"calls_in_progress"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
     </span><span class="nt">"inband_signals"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
     </span><span class="nt">"time_zone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Eastern Time (US &amp; Canada)"</span><span class="p">,</span><span class="w">
     </span><span class="nt">"paused"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
     </span><span class="nt">"paused_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
     </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jason Cell"</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://retreaver.com/targets.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<h2 id="get-a-specific-target">Get a specific Target</h2>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.retreaver.com/targets/6588.json?api_key=woofwoofwoof&amp;company_id=1"</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nt">"target"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
     </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6588</span><span class="p">,</span><span class="w">
     </span><span class="nt">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+18668987878"</span><span class="p">,</span><span class="w">
     </span><span class="nt">"sip_username"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
     </span><span class="nt">"sip_password"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
     </span><span class="nt">"cid_number_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
     </span><span class="nt">"obfuscate_cid"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
     </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-08-14T20:46:01.158-04:00"</span><span class="p">,</span><span class="w">
     </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-28T13:02:52.964-04:00"</span><span class="p">,</span><span class="w">
     </span><span class="nt">"object_key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"40a9a73ff97cb35a0a16d1ec89fd9eddcf3727df932cea9f0f7a5a8ba1684fed"</span><span class="p">,</span><span class="w">
     </span><span class="nt">"tid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
     </span><span class="nt">"priority"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
     </span><span class="nt">"weight"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
     </span><span class="nt">"timeout_seconds"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
     </span><span class="nt">"timer_offset"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
     </span><span class="nt">"send_digits"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
     </span><span class="nt">"concurrency_cap"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
     </span><span class="nt">"calls_in_progress"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
     </span><span class="nt">"inband_signals"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
     </span><span class="nt">"time_zone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Eastern Time (US &amp; Canada)"</span><span class="p">,</span><span class="w">
     </span><span class="nt">"paused"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
     </span><span class="nt">"paused_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
     </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jason Cell"</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.retreaver.com/targets/6588.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<h2 id="create-a-target">Create a Target</h2>
<pre class="highlight shell"><code>curl -s <span class="se">\</span>
 -X POST <span class="se">\</span>
 https://api.retreaver.com/targets.json?api_key<span class="o">=</span>woofwoofwoof&amp;company_id<span class="o">=</span>1 <span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
 -d <span class="s1">'{"target":{"number":"+18668987878", "name":"Retreaver Support"}}'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"target"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">22592</span><span class="p">,</span><span class="w">
        </span><span class="nt">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+18668987878"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"sip_username"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"sip_password"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"cid_number_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"obfuscate_cid"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-28T23:13:51.434Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-28T23:13:51.434Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"object_key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"97bbce7555b96322e81155eb4b1ff5aa9a6a1ffc478a7ab21ed2e830483f0b20"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"tid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"priority"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"weight"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"timeout_seconds"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
        </span><span class="nt">"timer_offset"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"send_digits"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"concurrency_cap"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"calls_in_progress"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"inband_signals"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"time_zone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UTC"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"paused"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"paused_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Retreaver Support"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"caps"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">707900</span><span class="p">,</span><span class="w">
                </span><span class="nt">"filled"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nt">"cap"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Daily"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">707898</span><span class="p">,</span><span class="w">
                </span><span class="nt">"filled"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nt">"cap"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hard"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">707899</span><span class="p">,</span><span class="w">
                </span><span class="nt">"filled"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nt">"cap"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hourly"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">707901</span><span class="p">,</span><span class="w">
                </span><span class="nt">"filled"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nt">"cap"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Monthly"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"business_hours"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">156838</span><span class="p">,</span><span class="w">
                </span><span class="nt">"target_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">22592</span><span class="p">,</span><span class="w">
                </span><span class="nt">"work_day"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="nt">"time_open"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nt">"time_close"</span><span class="p">:</span><span class="w"> </span><span class="mi">2400</span><span class="p">,</span><span class="w">
                </span><span class="nt">"day_of_week"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nt">"invert"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-28T23:13:52.924Z"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-28T23:13:52.924Z"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">156839</span><span class="p">,</span><span class="w">
                </span><span class="nt">"target_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">22592</span><span class="p">,</span><span class="w">
                </span><span class="nt">"work_day"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="nt">"time_open"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nt">"time_close"</span><span class="p">:</span><span class="w"> </span><span class="mi">2400</span><span class="p">,</span><span class="w">
                </span><span class="nt">"day_of_week"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="nt">"invert"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-28T23:13:53.093Z"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-28T23:13:53.093Z"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">156840</span><span class="p">,</span><span class="w">
                </span><span class="nt">"target_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">22592</span><span class="p">,</span><span class="w">
                </span><span class="nt">"work_day"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="nt">"time_open"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nt">"time_close"</span><span class="p">:</span><span class="w"> </span><span class="mi">2400</span><span class="p">,</span><span class="w">
                </span><span class="nt">"day_of_week"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
                </span><span class="nt">"invert"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-28T23:13:53.281Z"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-28T23:13:53.281Z"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">156841</span><span class="p">,</span><span class="w">
                </span><span class="nt">"target_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">22592</span><span class="p">,</span><span class="w">
                </span><span class="nt">"work_day"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="nt">"time_open"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nt">"time_close"</span><span class="p">:</span><span class="w"> </span><span class="mi">2400</span><span class="p">,</span><span class="w">
                </span><span class="nt">"day_of_week"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
                </span><span class="nt">"invert"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-28T23:13:53.684Z"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-28T23:13:53.684Z"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">156842</span><span class="p">,</span><span class="w">
                </span><span class="nt">"target_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">22592</span><span class="p">,</span><span class="w">
                </span><span class="nt">"work_day"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="nt">"time_open"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nt">"time_close"</span><span class="p">:</span><span class="w"> </span><span class="mi">2400</span><span class="p">,</span><span class="w">
                </span><span class="nt">"day_of_week"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
                </span><span class="nt">"invert"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-28T23:13:53.846Z"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-28T23:13:53.846Z"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">156843</span><span class="p">,</span><span class="w">
                </span><span class="nt">"target_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">22592</span><span class="p">,</span><span class="w">
                </span><span class="nt">"work_day"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="nt">"time_open"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nt">"time_close"</span><span class="p">:</span><span class="w"> </span><span class="mi">2400</span><span class="p">,</span><span class="w">
                </span><span class="nt">"day_of_week"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
                </span><span class="nt">"invert"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-28T23:13:54.008Z"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-28T23:13:54.008Z"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">156844</span><span class="p">,</span><span class="w">
                </span><span class="nt">"target_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">22592</span><span class="p">,</span><span class="w">
                </span><span class="nt">"work_day"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="nt">"time_open"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nt">"time_close"</span><span class="p">:</span><span class="w"> </span><span class="mi">2400</span><span class="p">,</span><span class="w">
                </span><span class="nt">"day_of_week"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
                </span><span class="nt">"invert"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-28T23:13:54.165Z"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-28T23:13:54.165Z"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"tag_values"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Creates a new Target.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.retreaver.com/targets.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<p><code class="prettyprint">Content-Type: application/json</code></p>

<p><code class="prettyprint">{&quot;target&quot;:{&quot;number&quot;:&quot;+18668987878&quot;, &quot;name&quot;:&quot;Retreaver Support&quot;}}</code></p>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>string</td>
<td></td>
<td></td>
<td>A descriptive moniker for this target so you&rsquo;ll know what it is.</td>
</tr>
<tr>
<td>number</td>
<td>string</td>
<td></td>
<td>required</td>
<td>Either a phone number or <code class="prettyprint">sip:user@domain.com</code> formatted SIP endpoint. PSTN numbers should be <a href="https://en.wikipedia.org/wiki/E.164">E.164 formatted</a>.</td>
</tr>
<tr>
<td>sip_username</td>
<td>string</td>
<td></td>
<td></td>
<td>The SIP username, if using SIP-authentication to call a SIP endpoint.</td>
</tr>
<tr>
<td>sip_password</td>
<td>string</td>
<td></td>
<td></td>
<td>The SIP password, if using SIP-authentication to call a SIP endpoint.</td>
</tr>
<tr>
<td>tid</td>
<td>string</td>
<td></td>
<td></td>
<td>Your own internal ID for this target.</td>
</tr>
<tr>
<td>priority</td>
<td>integer</td>
<td>1</td>
<td></td>
<td>The target with the lowest priority value gets considered first when routing calls to a set of targets.</td>
</tr>
<tr>
<td>weight</td>
<td>integer</td>
<td>1</td>
<td></td>
<td>When more than one target has the same priority, the cumulative weight of the targets being considered is used to randomize their order.</td>
</tr>
<tr>
<td>timeout_seconds</td>
<td>integer</td>
<td>30</td>
<td></td>
<td>The maximum number of seconds we&rsquo;ll wait while the target number is ringing before moving on.</td>
</tr>
<tr>
<td>inband_signals</td>
<td>boolean</td>
<td>false</td>
<td></td>
<td>Enables detection of in-band ringing in conjunction with <code class="prettyprint">timer_offset</code>.</td>
</tr>
<tr>
<td>timer_offset</td>
<td>integer</td>
<td>0</td>
<td></td>
<td>Offsets any timers on Tracking URLs or Conversion Criteria when routing to this target. Can be used to simplify campaign management.</td>
</tr>
<tr>
<td>send_digits</td>
<td>string</td>
<td></td>
<td></td>
<td>Send these digits as DTMF tones when the call recipient picks up. Use <code class="prettyprint">w</code> to make a 0.5 second pause. This can be used to bypass IVR systems.</td>
</tr>
<tr>
<td>concurrency_cap</td>
<td>integer</td>
<td>null</td>
<td></td>
<td>Used to limit the maximum number of concurrent calls a target can receive.</td>
</tr>
<tr>
<td>paused</td>
<td>boolean</td>
<td>false</td>
<td></td>
<td>Targets which are paused will not be considered when routing calls.</td>
</tr>
<tr>
<td>time_zone</td>
<td>string</td>
<td>UTC</td>
<td></td>
<td>The time zone used when determining if a call is occuring during business hours.</td>
</tr>
<tr>
<td>business_hours_attributes</td>
<td>array</td>
<td></td>
<td></td>
<td>An optional array of business hours. Targets are set to be open 24/7 by default.</td>
</tr>
</tbody></table>

<p><strong>Nested Attribute: Business Hours</strong></p>

<p>We&rsquo;ll only attempt to route calls to your target during its Business Hours. These hours are based on the Target <code class="prettyprint">time_zone</code>. Note that when <em>updating</em> business hours on a Target, you must pass in the existing <code class="prettyprint">id</code> attribute that gets created on this request.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>day_of_week</td>
<td>integer</td>
<td></td>
<td>required</td>
<td>A zero-indexed day of the week, with 0 being Sunday and 6 being Saturday.</td>
</tr>
<tr>
<td>work_day</td>
<td>boolean</td>
<td>true</td>
<td></td>
<td>Whether or not the target is open on this day.</td>
</tr>
<tr>
<td>time_open</td>
<td>integer</td>
<td>0</td>
<td></td>
<td>The 24 hour time the target opens, formatted <code class="prettyprint">HHMM</code>.</td>
</tr>
<tr>
<td>time_close</td>
<td>integer</td>
<td>2400</td>
<td></td>
<td>The 24 hour time the target closes, formatted <code class="prettyprint">HHMM</code>.</td>
</tr>
<tr>
<td>inverted</td>
<td>boolean</td>
<td>false</td>
<td></td>
<td>Open hours become closed! Closed become open! Oh the insanity! Great if you have overnight shifts.</td>
</tr>
</tbody></table>

<h3 id="valid-time-zones">Valid Time Zones</h3>

<table><thead>
<tr>
<th>&nbsp;</th>
<th>&nbsp;</th>
<th>&nbsp;</th>
<th>&nbsp;</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>International Date Line West</td>
<td>Midway Island</td>
<td>American Samoa</td>
<td>Hawaii</td>
<td>Alaska</td>
</tr>
<tr>
<td>Pacific Time (US &amp; Canada)</td>
<td>Tijuana</td>
<td>Mountain Time (US &amp; Canada)</td>
<td>Arizona</td>
<td>Chihuahua</td>
</tr>
<tr>
<td>Mazatlan</td>
<td>Central Time (US &amp; Canada)</td>
<td>Saskatchewan</td>
<td>Guadalajara</td>
<td>Mexico City</td>
</tr>
<tr>
<td>Monterrey</td>
<td>Central America</td>
<td>Eastern Time (US &amp; Canada)</td>
<td>Indiana (East)</td>
<td>Bogota</td>
</tr>
<tr>
<td>Lima</td>
<td>Quito</td>
<td>Atlantic Time (Canada)</td>
<td>Caracas</td>
<td>La Paz</td>
</tr>
<tr>
<td>Santiago</td>
<td>Newfoundland</td>
<td>Brasilia</td>
<td>Buenos Aires</td>
<td>Montevideo</td>
</tr>
<tr>
<td>Georgetown</td>
<td>Greenland</td>
<td>Mid-Atlantic</td>
<td>Azores</td>
<td>Cape Verde Is.</td>
</tr>
<tr>
<td>Dublin</td>
<td>Edinburgh</td>
<td>Lisbon</td>
<td>London</td>
<td>Casablanca</td>
</tr>
<tr>
<td>Monrovia</td>
<td>UTC</td>
<td>Belgrade</td>
<td>Bratislava</td>
<td>Budapest</td>
</tr>
<tr>
<td>Ljubljana</td>
<td>Prague</td>
<td>Sarajevo</td>
<td>Skopje</td>
<td>Warsaw</td>
</tr>
<tr>
<td>Zagreb</td>
<td>Brussels</td>
<td>Copenhagen</td>
<td>Madrid</td>
<td>Paris</td>
</tr>
<tr>
<td>Amsterdam</td>
<td>Berlin</td>
<td>Bern</td>
<td>Rome</td>
<td>Stockholm</td>
</tr>
<tr>
<td>Vienna</td>
<td>West Central Africa</td>
<td>Bucharest</td>
<td>Cairo</td>
<td>Helsinki</td>
</tr>
<tr>
<td>Kyiv</td>
<td>Riga</td>
<td>Sofia</td>
<td>Tallinn</td>
<td>Vilnius</td>
</tr>
<tr>
<td>Athens</td>
<td>Istanbul</td>
<td>Minsk</td>
<td>Jerusalem</td>
<td>Harare</td>
</tr>
<tr>
<td>Pretoria</td>
<td>Moscow</td>
<td>St. Petersburg</td>
<td>Volgograd</td>
<td>Kuwait</td>
</tr>
<tr>
<td>Riyadh</td>
<td>Nairobi</td>
<td>Baghdad</td>
<td>Tehran</td>
<td>Abu Dhabi</td>
</tr>
<tr>
<td>Muscat</td>
<td>Baku</td>
<td>Tbilisi</td>
<td>Yerevan</td>
<td>Kabul</td>
</tr>
<tr>
<td>Ekaterinburg</td>
<td>Islamabad</td>
<td>Karachi</td>
<td>Tashkent</td>
<td>Chennai</td>
</tr>
<tr>
<td>Kolkata</td>
<td>Mumbai</td>
<td>New Delhi</td>
<td>Kathmandu</td>
<td>Astana</td>
</tr>
<tr>
<td>Dhaka</td>
<td>Sri Jayawardenepura</td>
<td>Almaty</td>
<td>Novosibirsk</td>
<td>Rangoon</td>
</tr>
<tr>
<td>Bangkok</td>
<td>Hanoi</td>
<td>Jakarta</td>
<td>Krasnoyarsk</td>
<td>Beijing</td>
</tr>
<tr>
<td>Chongqing</td>
<td>Hong Kong</td>
<td>Urumqi</td>
<td>Kuala Lumpur</td>
<td>Singapore</td>
</tr>
<tr>
<td>Taipei</td>
<td>Perth</td>
<td>Irkutsk</td>
<td>Ulaanbaatar</td>
<td>Seoul</td>
</tr>
<tr>
<td>Osaka</td>
<td>Sapporo</td>
<td>Tokyo</td>
<td>Yakutsk</td>
<td>Darwin</td>
</tr>
<tr>
<td>Adelaide</td>
<td>Canberra</td>
<td>Melbourne</td>
<td>Sydney</td>
<td>Brisbane</td>
</tr>
<tr>
<td>Hobart</td>
<td>Vladivostok</td>
<td>Guam</td>
<td>Port Moresby</td>
<td>Magadan</td>
</tr>
<tr>
<td>Solomon Is.</td>
<td>New Caledonia</td>
<td>Fiji</td>
<td>Kamchatka</td>
<td>Marshall Is.</td>
</tr>
<tr>
<td>Auckland</td>
<td>Wellington</td>
<td>Nuku&#39;alofa</td>
<td>Tokelau Is.</td>
<td>Chatham Is.</td>
</tr>
<tr>
<td>Samoa</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>

<h2 id="update-a-target">Update a Target</h2>
<pre class="highlight shell"><code>curl -s <span class="se">\</span>
 -X PUT <span class="se">\</span>
 https://api.retreaver.com/targets/22592.json <span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
 -d <span class="s1">'{"target":{"paused":true}}'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"target"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">22592</span><span class="p">,</span><span class="w">
        </span><span class="nt">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+18668987878"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"sip_username"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"sip_password"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"cid_number_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-28T23:13:51.434Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-28T23:30:00.529Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"paused"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"paused_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-28T23:30:01.251Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Retreaver Support"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Changes any attributes you have passed in on the Target.</p>

<aside class="notice">
You must replace <code>22592</code> with the Retreaver ID of the Target you want to delete.
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT https://api.retreaver.com/targets/22592.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<p><code class="prettyprint">Content-Type: application/json</code></p>

<p><code class="prettyprint">{&quot;target&quot;:{&quot;paused&quot;:true}}</code></p>

<h2 id="remove-a-target">Remove a Target</h2>
<pre class="highlight shell"><code>curl -X DELETE https://api.retreaver.com/targets/22592.json?api_key<span class="o">=</span>woofwoofwoof&amp;company_id<span class="o">=</span>1
</code></pre>

<p>Deletes the given Target.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE https://api.retreaver.com/targets/22592.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<h2 id="tagging-a-target">Tagging a Target</h2>
<pre class="highlight shell"><code>curl -s <span class="se">\</span>
 -X PUT <span class="se">\</span>
 https://api.retreaver.com/targets/22592.json <span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
 -d <span class="s1">'{"target":{"tag_list":"&lt;&lt;&lt;calling_about:support&gt;&gt;&gt;,&lt;&lt;&lt;calling_about:other&gt;&gt;&gt;"}}'</span>
</code></pre>

<blockquote>
<p>Upon reloading the Target, the following JSON is returned with the tags included:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"target"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">22592</span><span class="p">,</span><span class="w">
        </span><span class="nt">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+18668987878"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Retreaver Support"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"tag_values"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"calling_about"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"support"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"operator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"=="</span><span class="p">,</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">67589</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"calling_about"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"other"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"operator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"=="</span><span class="p">,</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">67591</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>To set tags on a Target, pass in a comma delineated, triple-angle-bracket enclosed string of tags as the <code class="prettyprint">tag_list</code> value.</p>

<p>The system will create/find whatever tags you have set given this input without you having to track tagIDs. You must include the full list of tags you want set any time a tag_list parameter is passed in. To clear the tags, just pass in a blank string.</p>

<p>There is a limit of 100 tags added in this manner, but the system will automatically concatenate US zip <code class="prettyprint">geo</code> tags.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT https://api.retreaver.com/targets/22592.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<p><code class="prettyprint">Content-Type: application/json</code></p>

<p><code class="prettyprint">{&quot;target&quot;:{&quot;tag_list&quot;:&quot;&lt;&lt;&lt;calling_about:support&gt;&gt;&gt;,&lt;&lt;&lt;calling_about:other&gt;&gt;&gt;&quot;}}</code></p>

<h2 id="changing-a-target-39-s-caps">Changing a Target&rsquo;s Caps</h2>
<pre class="highlight shell"><code>curl -s <span class="se">\</span>
 -X PUT <span class="se">\</span>
 https://api.retreaver.com/targets/22592.json <span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
 -d <span class="s1">'{"target": { \
         "hard_cap_attributes": { \
             "cap": 100 \ 
             } \
         }'</span> <span class="se">\</span>
     <span class="o">}</span><span class="s1">'
</span></code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"target"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">22592</span><span class="p">,</span><span class="w">
        </span><span class="nt">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+18668987878"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Retreaver Support"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"caps"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">707900</span><span class="p">,</span><span class="w">
                </span><span class="nt">"filled"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nt">"cap"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Daily"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">707898</span><span class="p">,</span><span class="w">
                </span><span class="nt">"filled"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nt">"cap"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
                </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hard"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">707899</span><span class="p">,</span><span class="w">
                </span><span class="nt">"filled"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nt">"cap"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hourly"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">707901</span><span class="p">,</span><span class="w">
                </span><span class="nt">"filled"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nt">"cap"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Monthly"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>There are 4 types of caps: Hard Cap, Hourly Cap, Daily Cap, and Monthly Cap. Hard cap is a hard limit, and once it is reached, the target will not receive more Calls until the Cap is reset. This is useful when routing Calls to buyers that have insertion orders for a set number of leads.</p>

<p>The other types of Cap reset periodically as expected.</p>

<p>You can modify these Caps by updating your Target with nested objects <code class="prettyprint">hard_cap_attributes</code>, <code class="prettyprint">hourly_cap_attributes</code>, <code class="prettyprint">daily_cap_attributes</code>, and <code class="prettyprint">monthly_cap_attributes</code>.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT https://api.retreaver.com/targets/22592.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<p><code class="prettyprint">Content-Type: application/json</code></p>

<p><code class="prettyprint">{&quot;target&quot;:{&quot;hard_cap_attributes&quot;:{&quot;cap&quot;:100}}}</code></p>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>cap</td>
<td>integer</td>
<td></td>
<td>required</td>
<td>The value for the cap.</td>
</tr>
</tbody></table>

<h2 id="resetting-a-hard-cap">Resetting a Hard Cap</h2>
<pre class="highlight shell"><code>curl -s <span class="se">\</span>
 -X POST <span class="se">\</span>
 https://api.retreaver.com/targets/22592/reset_cap.json?api_key<span class="o">=</span>woofwoofwoof&amp;company_id<span class="o">=</span>1 <span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span>
</code></pre>

<p>Clears any Calls contributing to the given Target&rsquo;s hard cap, resetting it to 0. Returns HTTP 200 on success.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.retreaver.com/targets/22592/reset_cap.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<p><code class="prettyprint">Content-Type: application/json</code></p>

<h1 id="campaigns">Campaigns</h1>

<p>By configuring a Campaign, you can reuse the settings of the Campaign when creating Numbers. Campaigns should be configured before creating Numbers.</p>

<h2 id="get-all-campaigns">Get all Campaigns</h2>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.retreaver.com/campaigns.json?api_key=woofwoofwoof&amp;company_id=1"</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[{</span><span class="w">
</span><span class="nt">"campaign"</span><span class="p">:{</span><span class="w">
   </span><span class="nt">"cid"</span><span class="p">:</span><span class="s2">"111"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"SuperFuntime"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="s2">"2012-07-15T03:40:24Z"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"created_at"</span><span class="p">:</span><span class="s2">"2012-04-16T13:50:21Z"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"record_calls"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
   </span><span class="nt">"record_seconds"</span><span class="p">:</span><span class="mi">3600</span><span class="p">,</span><span class="w">
   </span><span class="nt">"dedupe_seconds"</span><span class="p">:</span><span class="mi">86400</span><span class="p">,</span><span class="w">
   </span><span class="nt">"affiliate_can_pull_number"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
   </span><span class="nt">"show_key"</span><span class="p">:</span><span class="s2">"5e2ba674a8a1fb34dddcf850139ffdd9"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"greeting"</span><span class="p">:{</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"Hi There! Press one to continue."</span><span class="p">,</span><span class="w">
      </span><span class="nt">"voice_gender"</span><span class="p">:</span><span class="s2">"Female"</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="nt">"timers"</span><span class="p">:[</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="nt">"timer"</span><span class="p">:{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">195</span><span class="p">,</span><span class="w">
            </span><span class="nt">"seconds"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nt">"url"</span><span class="p">:</span><span class="s2">"http://www.thertrack.com/click.track?CID=[campaign_id]&amp;AFID=[affiliate_id]&amp;SID=[sub_id]"</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="nt">"timer"</span><span class="p">:{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">199</span><span class="p">,</span><span class="w">
            </span><span class="nt">"seconds"</span><span class="p">:</span><span class="mi">90</span><span class="p">,</span><span class="w">
            </span><span class="nt">"url"</span><span class="p">:</span><span class="s2">"http://www.thertrack.com/pixel.track?CID=[campaign_id]&amp;AFID=[affiliate_id]&amp;SID=[sub_id]&amp;MerchantReferenceID=[caller_id]-[called_number]-[call_duration]"</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">],</span><span class="w">
   </span><span class="nt">"menu_options"</span><span class="p">:[</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="nt">"menu_option"</span><span class="p">:{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">61</span><span class="p">,</span><span class="w">
            </span><span class="nt">"option"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"target_cid"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"target_number"</span><span class="p">:</span><span class="s2">"+18987748833"</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre>

<p>List all the Campaigns in your Account.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://retreaver.com/campaigns.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<h2 id="get-a-specific-campaign">Get a specific Campaign</h2>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.retreaver.com/campaigns/cid/0044.json?api_key=woofwoofwoof&amp;company_id=1"</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nt">"campaign"</span><span class="p">:{</span><span class="w">
      </span><span class="nt">"cid"</span><span class="p">:</span><span class="s2">"0044"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"SuperFuntime"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="s2">"2012-07-15T03:40:24Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="s2">"2012-04-16T13:50:21Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"record_calls"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"record_seconds"</span><span class="p">:</span><span class="mi">3600</span><span class="p">,</span><span class="w">
      </span><span class="nt">"dedupe_seconds"</span><span class="p">:</span><span class="mi">86400</span><span class="p">,</span><span class="w">
      </span><span class="nt">"affiliate_can_pull_number"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"show_key"</span><span class="p">:</span><span class="s2">"5e2ba674a8a1fb34dddcf850139ffdd9"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"greeting"</span><span class="p">:{</span><span class="w">
         </span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"Hi There! Press one to continue."</span><span class="p">,</span><span class="w">
         </span><span class="nt">"voice_gender"</span><span class="p">:</span><span class="s2">"Female"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"timers"</span><span class="p">:[</span><span class="w">
         </span><span class="p">{</span><span class="w">
            </span><span class="nt">"timer"</span><span class="p">:{</span><span class="w">
               </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">195</span><span class="p">,</span><span class="w">
               </span><span class="nt">"seconds"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
               </span><span class="nt">"url"</span><span class="p">:</span><span class="s2">"http://www.thertrack.com/click.track?CID=[campaign_id]&amp;AFID=[affiliate_id]&amp;SID=[sub_id]"</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="p">{</span><span class="w">
            </span><span class="nt">"timer"</span><span class="p">:{</span><span class="w">
               </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">199</span><span class="p">,</span><span class="w">
               </span><span class="nt">"seconds"</span><span class="p">:</span><span class="mi">90</span><span class="p">,</span><span class="w">
               </span><span class="nt">"url"</span><span class="p">:</span><span class="s2">"http://www.thertrack.com/pixel.track?CID=[campaign_id]&amp;AFID=[affiliate_id]&amp;SID=[sub_id]&amp;MerchantReferenceID=[caller_id]-[called_number]-[call_duration]"</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"menu_options"</span><span class="p">:[</span><span class="w">
         </span><span class="p">{</span><span class="w">
            </span><span class="nt">"menu_option"</span><span class="p">:{</span><span class="w">
               </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">61</span><span class="p">,</span><span class="w">
               </span><span class="nt">"option"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
               </span><span class="nt">"target_cid"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
               </span><span class="nt">"target_number"</span><span class="p">:</span><span class="s2">"+18987748833"</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Get a campaign by your ID.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://retreaver.com/campaigns/cid/0044.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<h2 id="create-a-campaign">Create a Campaign</h2>
<pre class="highlight shell"><code>curl -s <span class="se">\</span>
    -X POST <span class="se">\</span>
    https://api.retreaver.com/campaigns.json <span class="se">\</span>
    -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    -d <span class="s1">'{ \
            "campaign": { \
                "cid": "000333", \
                "name": "MyCampaign", \
                "message": "Thanks for calling, please press one to continue.", \
                "voice_gender": "Male", \
                "timers_attributes": [{ \
                    "seconds": 0, \
                    "url": "http://callpixels.com/click.html" \
                }, { \
                    "seconds": 90, \
                    "url": "http://callpixels.com/sale.html" \
                }], \
                "menu_options_attributes": [{ \
                    "option": "1", \
                    "target_number": "+16474570424" \
                   } \
                ] \
            } \
        }'</span> <span class="se">\</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nt">"campaign"</span><span class="p">:{</span><span class="w">
      </span><span class="nt">"cid"</span><span class="p">:</span><span class="s2">"0044"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"MyCampaign"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="s2">"2012-07-15T03:34:00Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="s2">"2012-07-15T03:34:00Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"record_calls"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"record_seconds"</span><span class="p">:</span><span class="mi">3600</span><span class="p">,</span><span class="w">
      </span><span class="nt">"dedupe_seconds"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nt">"affiliate_can_pull_number"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"show_key"</span><span class="p">:</span><span class="s2">"5e2ba674a8a1fb34dddcf850139ffdd9"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"greeting"</span><span class="p">:{</span><span class="w">
         </span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"Thanks for calling, please press one to continue."</span><span class="p">,</span><span class="w">
         </span><span class="nt">"voice_gender"</span><span class="p">:</span><span class="s2">"Male"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"timers"</span><span class="p">:[</span><span class="w">
         </span><span class="p">{</span><span class="w">
            </span><span class="nt">"timer"</span><span class="p">:{</span><span class="w">
               </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">217</span><span class="p">,</span><span class="w">
               </span><span class="nt">"seconds"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
               </span><span class="nt">"url"</span><span class="p">:</span><span class="s2">"http://callpixels.com/click.html"</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="p">{</span><span class="w">
            </span><span class="nt">"timer"</span><span class="p">:{</span><span class="w">
               </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">218</span><span class="p">,</span><span class="w">
               </span><span class="nt">"seconds"</span><span class="p">:</span><span class="mi">90</span><span class="p">,</span><span class="w">
               </span><span class="nt">"url"</span><span class="p">:</span><span class="s2">"http://callpixels.com/sale.html"</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"menu_options"</span><span class="p">:[</span><span class="w">
         </span><span class="p">{</span><span class="w">
            </span><span class="nt">"menu_option"</span><span class="p">:{</span><span class="w">
               </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">77</span><span class="p">,</span><span class="w">
               </span><span class="nt">"option"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
               </span><span class="nt">"target_cid"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
               </span><span class="nt">"target_number"</span><span class="p">:</span><span class="s2">"+16474570424"</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Create a new Campaign. </p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.retreaver.com/campaigns.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<p><code class="prettyprint">Content-Type: application/json</code></p>

<p><code class="prettyprint">{&quot;campaign&quot;:{&quot;cid&quot;:&quot;0044&quot;,&quot;name&quot;:&quot;MyCampaign&quot;,&quot;message&quot;:&quot;Thanks for calling, please press one to continue.&quot;,&quot;voice_gender&quot;:&quot;Male&quot;,&quot;timers_attributes&quot;:[{&quot;seconds&quot;:0,&quot;url&quot;:&quot;http://callpixels.com/click.html&quot;},{&quot;seconds&quot;:90,&quot;url&quot;:&quot;http://callpixels.com/sale.html&quot;}],&quot;menu_options_attributes&quot;:[{&quot;option&quot;:&quot;1&quot;,&quot;target_number&quot;:&quot;+16474570424&quot;}]}}</code></p>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>cid</td>
<td>string</td>
<td>Random 8 characters</td>
<td></td>
<td>Your internal campaign ID that will be referenced in the future.</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td></td>
<td></td>
<td>A name for the campaign for your reference.</td>
</tr>
<tr>
<td>dedupe_seconds</td>
<td>integer</td>
<td>0 (Disabled)</td>
<td></td>
<td>Prevent a repeat caller from causing any Connect (timer.seconds == 0) or Sale (timer.seconds &gt; 0) timer from firing within n seconds. Does not affect &lt; 0 second timers.</td>
</tr>
<tr>
<td>affiliate_can_pull_number</td>
<td>boolean</td>
<td>false</td>
<td></td>
<td>Allow affiliates to access this campaign via our LinkTrust integration.</td>
</tr>
<tr>
<td>record_calls</td>
<td>boolean</td>
<td>true</td>
<td></td>
<td>Toggles call recording on and off.</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td></td>
<td></td>
<td><em>Text-to-speech</em>  A message you want read aloud to the caller when they dial your number. Make sure to tell them to press one to continue.</td>
</tr>
<tr>
<td>voice_gender</td>
<td>string</td>
<td>Male</td>
<td></td>
<td><em>Text-to-speech</em>  Male or Female, the gender of the text-to-speech voice you want.</td>
</tr>
<tr>
<td>message_file</td>
<td>file</td>
<td></td>
<td></td>
<td><em>Audio File</em> An audio file you would like played for the caller when they dial your number. Use this field with multipart/form-data submissions.</td>
</tr>
<tr>
<td>message_file_b64_data</td>
<td>string</td>
<td></td>
<td></td>
<td><em>Audio File</em> A Base64-encoded audio file. Only use this field if you&rsquo;re not using the message_file field.</td>
</tr>
<tr>
<td>message_file_b64_filename</td>
<td>string</td>
<td></td>
<td></td>
<td><em>Audio File</em> The original file name for the Base64-encoded audio file. Something like &lsquo;memo.flac&rsquo;. We suggest using the highest quality audio available.</td>
</tr>
<tr>
<td>repeat</td>
<td>integer</td>
<td>4</td>
<td></td>
<td>The number of times to repeat the greeting.</td>
</tr>
<tr>
<td>timers_attributes</td>
<td>array</td>
<td></td>
<td></td>
<td>An array of timers.</td>
</tr>
<tr>
<td>menu_option_attributes</td>
<td>array</td>
<td></td>
<td></td>
<td>An array of menu options.</td>
</tr>
<tr>
<td>destroy_nested</td>
<td>boolean</td>
<td>false</td>
<td></td>
<td>When set, causes existing timers and menu_options to be destroyed. Existing timers and menu options can be updated by including their unique ID. Alternatively, you can simply remove all the existing timers and menu options by setting this to true and resubmit all the values.</td>
</tr>
</tbody></table>

<p><strong>Nested Attribute: Timer</strong></p>

<p>We will fire any 0 second timer (&#39;click timer&rsquo;) before firing a sale timer (&gt; 0 seconds). Only the highest second value sale timer that is applicable to this call will be fired. If you have timers for 30 seconds and 90 seconds and the call lasts 2 minutes, only the 90 second sale timer will be fired.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>seconds</td>
<td>integer</td>
<td></td>
<td>required</td>
<td>The minimum length of time the call must last for this pixel to be fired. If set to 0, the pixel will fire at the beginning of the call, much like a click.</td>
</tr>
<tr>
<td>url</td>
<td>string</td>
<td></td>
<td>required</td>
<td>The URL that should be called for this timer. The URL does not have to be a pixel, and will be passed any cookies that were set on the 0-second timer. Our bot follows redirects intelligently.</td>
</tr>
</tbody></table>

<p><strong>Nested Attribute: Menu Option</strong></p>

<p>Menu options are used to route calls based on what button the caller presses on their phone. Menu options can redirect a caller to a different phone number or another CallPixels campaign. You must provide at least one menu option, and you must provide an option for &#39;1&rsquo;, which is the option used to route calls when there is no greeting configured.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>option</td>
<td>string</td>
<td></td>
<td>required</td>
<td>The button the caller will press. The default menu option for a campaign is the one for button press &#39;1&rsquo;, so if you aren&rsquo;t using an IVR and want the call to forward instantly, set the option to &#39;1&rsquo;. (1 2 3 4 5 6 7 8 9 0 * #)</td>
</tr>
<tr>
<td>target_number</td>
<td>string</td>
<td></td>
<td></td>
<td>A phone number to redirect the caller to. All &gt; 0 second timers will start when the call is answered.</td>
</tr>
<tr>
<td>target_cid</td>
<td>string</td>
<td></td>
<td></td>
<td>A campaign ID to redirect the caller to. The campaign must be configured in the system. If this value is set, it will overrride the target number. This option can be used to allow the caller to replay the greeting.</td>
</tr>
</tbody></table>

<h2 id="update-a-campaign">Update a Campaign</h2>
<pre class="highlight shell"><code>curl -s <span class="se">\</span>
    -X PUT <span class="se">\</span>
    https://api.retreaver.com/campaigns/cid/0044.json <span class="se">\</span>
    -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    -d <span class="s1">'{"campaign":{"name":"My Other Campaign"}}'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nt">"campaign"</span><span class="p">:{</span><span class="w">
      </span><span class="nt">"cid"</span><span class="p">:</span><span class="s2">"0044"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"My Other Campaign"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="s2">"2012-07-15T03:34:00Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="s2">"2012-07-15T03:34:00Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"record_calls"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"record_seconds"</span><span class="p">:</span><span class="mi">3600</span><span class="p">,</span><span class="w">
      </span><span class="nt">"dedupe_seconds"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nt">"affiliate_can_pull_number"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"show_key"</span><span class="p">:</span><span class="s2">"5e2ba674a8a1fb34dddcf850139ffdd9"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"greeting"</span><span class="p">:{</span><span class="w">
         </span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"Thanks for calling, please press one to continue."</span><span class="p">,</span><span class="w">
         </span><span class="nt">"voice_gender"</span><span class="p">:</span><span class="s2">"Male"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"timers"</span><span class="p">:[</span><span class="w">
         </span><span class="p">{</span><span class="w">
            </span><span class="nt">"timer"</span><span class="p">:{</span><span class="w">
               </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">217</span><span class="p">,</span><span class="w">
               </span><span class="nt">"seconds"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
               </span><span class="nt">"url"</span><span class="p">:</span><span class="s2">"http://callpixels.com/click.html"</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="p">{</span><span class="w">
            </span><span class="nt">"timer"</span><span class="p">:{</span><span class="w">
               </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">218</span><span class="p">,</span><span class="w">
               </span><span class="nt">"seconds"</span><span class="p">:</span><span class="mi">90</span><span class="p">,</span><span class="w">
               </span><span class="nt">"url"</span><span class="p">:</span><span class="s2">"http://callpixels.com/sale.html"</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"menu_options"</span><span class="p">:[</span><span class="w">
         </span><span class="p">{</span><span class="w">
            </span><span class="nt">"menu_option"</span><span class="p">:{</span><span class="w">
               </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">77</span><span class="p">,</span><span class="w">
               </span><span class="nt">"option"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
               </span><span class="nt">"target_cid"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
               </span><span class="nt">"target_number"</span><span class="p">:</span><span class="s2">"+16474570424"</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Changes any attributes you have passed in on the Campaign.</p>

<aside class="notice">
You must replace <code>0044</code> with the cid of the Campaign you want to update.
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT https://api.retreaver.com/campaigns/cid/0044.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<p><code class="prettyprint">Content-Type: application/json</code></p>

<p><code class="prettyprint">{&quot;affiliate&quot;:{&quot;first_name&quot;:&quot;Nathan&quot;}}</code></p>

<h2 id="remove-a-campaign">Remove a Campaign</h2>
<pre class="highlight shell"><code>curl -X DELETE https://api.retreaver.com/campaigns/cid/0044.json?api_key<span class="o">=</span>woofwoofwoof&amp;company_id<span class="o">=</span>1
</code></pre>

<p>Delete a Campaign by CID. You must delete all the Numbers belonging to that Campaign first.</p>

<h1 id="numbers">Numbers</h1>

<p>Numbers are the physical phone numbers that you want routed to a Campaign. A Number can be routed directly to the Target phone number, or it can be screened with a greeting which requires the caller to press a button to continue. The IVR can be configured to have options that forward to other Campaigns if desired.</p>

<p>Numbers can be set to use the settings of an existing Campaign.</p>

<h2 id="get-all-numbers">Get all Numbers</h2>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.retreaver.com/numbers.json?api_key=woofwoofwoof&amp;company_id=1"</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[{</span><span class="w">
    </span><span class="nt">"number"</span><span class="p">:{</span><span class="w">
       </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span><span class="w">
       </span><span class="nt">"number"</span><span class="p">:</span><span class="s2">"+16479311232"</span><span class="p">,</span><span class="w">
       </span><span class="nt">"toll_free"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
       </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="s2">"2012-05-03T13:53:23Z"</span><span class="p">,</span><span class="w">
       </span><span class="nt">"created_at"</span><span class="p">:</span><span class="s2">"2012-04-18T06:05:05Z"</span><span class="p">,</span><span class="w">
       </span><span class="nt">"sid"</span><span class="p">:</span><span class="s2">"superaffiliate"</span><span class="p">,</span><span class="w">
       </span><span class="nt">"afid"</span><span class="p">:</span><span class="s2">"0001"</span><span class="p">,</span><span class="w">
       </span><span class="nt">"cid"</span><span class="p">:</span><span class="s2">"111"</span><span class="p">,</span><span class="w">
       </span><span class="nt">"uses_campaign_settings"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
       </span><span class="nt">"greeting"</span><span class="p">:{</span><span class="w">
          </span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"Hi There! Press one to continue."</span><span class="p">,</span><span class="w">
          </span><span class="nt">"voice_gender"</span><span class="p">:</span><span class="s2">"Female"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"inherited"</span><span class="p">:</span><span class="kc">true</span><span class="w">
       </span><span class="p">},</span><span class="w">
       </span><span class="nt">"timers"</span><span class="p">:[</span><span class="w">
          </span><span class="p">{</span><span class="w">
             </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">113</span><span class="p">,</span><span class="w">
             </span><span class="nt">"seconds"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
             </span><span class="nt">"url"</span><span class="p">:</span><span class="s2">"http://www.thertrack.com/click.track?CID=[campaign_id]&amp;AFID=[affiliate_id]&amp;SID=[sub_id]"</span><span class="p">,</span><span class="w">
             </span><span class="nt">"inherited"</span><span class="p">:</span><span class="kc">true</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
             </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">114</span><span class="p">,</span><span class="w">
             </span><span class="nt">"seconds"</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span><span class="w">
             </span><span class="nt">"url"</span><span class="p">:</span><span class="s2">"http://www.thertrack.com/pixel.track?CID=[campaign_id]&amp;AFID=[affiliate_id]&amp;SID=[sub_id]&amp;MerchantReferenceID=[caller_id]-[called_number]-[call_duration]"</span><span class="p">,</span><span class="w">
             </span><span class="nt">"inherited"</span><span class="p">:</span><span class="kc">true</span><span class="w">
          </span><span class="p">}</span><span class="w">
       </span><span class="p">],</span><span class="w">
       </span><span class="nt">"menu_options"</span><span class="p">:[</span><span class="w">
          </span><span class="p">{</span><span class="w">
             </span><span class="nt">"menu_option"</span><span class="p">:{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">44</span><span class="p">,</span><span class="w">
                </span><span class="nt">"option"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"target_cid"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="nt">"target_number"</span><span class="p">:</span><span class="s2">"+18667878878"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"inherited"</span><span class="p">:</span><span class="kc">true</span><span class="w">
             </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
       </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre>

<p>Get all Numbers belonging to the Company.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://retreaver.com/numbers.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>cid</td>
<td>null</td>
<td>Restrict results to Numbers that belong to the given Campaign ID.</td>
</tr>
<tr>
<td>afid</td>
<td>null</td>
<td>Restrict results to Numbers that belong to the given Affiliate ID.</td>
</tr>
<tr>
<td>sid</td>
<td>null</td>
<td>Restrict results to Numbers that belong to the given SubID.</td>
</tr>
</tbody></table>

<h2 id="get-a-specific-number">Get a specific Number</h2>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.retreaver.com/numbers/5.json?api_key=woofwoofwoof&amp;company_id=1"</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nt">"number"</span><span class="p">:{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span><span class="w">
      </span><span class="nt">"number"</span><span class="p">:</span><span class="s2">"+16479311232"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"toll_free"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="s2">"2012-05-03T13:53:23Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="s2">"2012-04-18T06:05:05Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sid"</span><span class="p">:</span><span class="s2">"superaffiliate"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"afid"</span><span class="p">:</span><span class="s2">"0001"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"cid"</span><span class="p">:</span><span class="s2">"111"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"uses_campaign_settings"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"greeting"</span><span class="p">:{</span><span class="w">
         </span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"Hi There! Press one to continue."</span><span class="p">,</span><span class="w">
         </span><span class="nt">"voice_gender"</span><span class="p">:</span><span class="s2">"Female"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"inherited"</span><span class="p">:</span><span class="kc">true</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"timers"</span><span class="p">:[</span><span class="w">
         </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">113</span><span class="p">,</span><span class="w">
            </span><span class="nt">"seconds"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nt">"url"</span><span class="p">:</span><span class="s2">"http://www.thertrack.com/click.track?CID=[campaign_id]&amp;AFID=[affiliate_id]&amp;SID=[sub_id]"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"inherited"</span><span class="p">:</span><span class="kc">true</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">114</span><span class="p">,</span><span class="w">
            </span><span class="nt">"seconds"</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span><span class="w">
            </span><span class="nt">"url"</span><span class="p">:</span><span class="s2">"http://www.thertrack.com/pixel.track?CID=[campaign_id]&amp;AFID=[affiliate_id]&amp;SID=[sub_id]&amp;MerchantReferenceID=[caller_id]-[called_number]-[call_duration]"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"inherited"</span><span class="p">:</span><span class="kc">true</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"menu_options"</span><span class="p">:[</span><span class="w">
         </span><span class="p">{</span><span class="w">
            </span><span class="nt">"menu_option"</span><span class="p">:{</span><span class="w">
               </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">44</span><span class="p">,</span><span class="w">
               </span><span class="nt">"option"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
               </span><span class="nt">"target_cid"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
               </span><span class="nt">"target_number"</span><span class="p">:</span><span class="s2">"+18667878878"</span><span class="p">,</span><span class="w">
               </span><span class="nt">"inherited"</span><span class="p">:</span><span class="kc">true</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Get a Number by our internal ID.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://retreaver.com/numbers/5.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<h2 id="create-a-number">Create a Number</h2>
<pre class="highlight shell"><code>curl -s <span class="se">\</span>
    -X POST <span class="se">\</span>
    https://api.retreaver.com/numbers.json <span class="se">\</span>
    -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    -d <span class="s1">'{"number":{"type":"Toll-free","desired_text":"TEST","afid":"0002","cid":"0001","sid":"superaffiliate"}}'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nt">"number"</span><span class="p">:{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">79</span><span class="p">,</span><span class="w">
      </span><span class="nt">"number"</span><span class="p">:</span><span class="s2">"+18008378206"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"toll_free"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="s2">"2012-07-15T03:15:42Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="s2">"2012-07-15T03:15:42Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sid"</span><span class="p">:</span><span class="s2">"superaffiliate"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"afid"</span><span class="p">:</span><span class="s2">"0002"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"cid"</span><span class="p">:</span><span class="s2">"0001"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"uses_campaign_settings"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"greeting"</span><span class="p">:{</span><span class="w">
         </span><span class="nt">"audio_file_name"</span><span class="p">:</span><span class="s2">"greeting.flac"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"audio_file_content_type"</span><span class="p">:</span><span class="s2">"application/octet-stream"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"audio_file_size"</span><span class="p">:</span><span class="mi">4990865</span><span class="p">,</span><span class="w">
         </span><span class="nt">"audio_file_updated_at"</span><span class="p">:</span><span class="s2">"2012-07-15T01:30:34Z"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"inherited"</span><span class="p">:</span><span class="kc">true</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"timers"</span><span class="p">:[</span><span class="w">
         </span><span class="p">{</span><span class="w">
            </span><span class="nt">"timer"</span><span class="p">:{</span><span class="w">
               </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">201</span><span class="p">,</span><span class="w">
               </span><span class="nt">"seconds"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
               </span><span class="nt">"url"</span><span class="p">:</span><span class="s2">"http://callpixels.com.go2cloud.org/aff_c?offer_id=[campaign_id]&amp;aff_id=[affiliate_id]&amp;aff_sub=[sub_id]"</span><span class="p">,</span><span class="w">
               </span><span class="nt">"inherited"</span><span class="p">:</span><span class="kc">true</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="p">{</span><span class="w">
            </span><span class="nt">"timer"</span><span class="p">:{</span><span class="w">
               </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">202</span><span class="p">,</span><span class="w">
               </span><span class="nt">"seconds"</span><span class="p">:</span><span class="mi">90</span><span class="p">,</span><span class="w">
               </span><span class="nt">"url"</span><span class="p">:</span><span class="s2">"http://callpixels.com.go2cloud.org/[has_offers_code]?adv_sub=[call_log_id]-[caller_id]-[called_number]-[call_duration]-[call_recording_url]"</span><span class="p">,</span><span class="w">
               </span><span class="nt">"inherited"</span><span class="p">:</span><span class="kc">true</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"menu_options"</span><span class="p">:[</span><span class="w">
         </span><span class="p">{</span><span class="w">
            </span><span class="nt">"menu_option"</span><span class="p">:{</span><span class="w">
               </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">66</span><span class="p">,</span><span class="w">
               </span><span class="nt">"option"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
               </span><span class="nt">"target_cid"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
               </span><span class="nt">"target_number"</span><span class="p">:</span><span class="s2">"+18884899999"</span><span class="p">,</span><span class="w">
               </span><span class="nt">"inherited"</span><span class="p">:</span><span class="kc">true</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="p">{</span><span class="w">
            </span><span class="nt">"menu_option"</span><span class="p">:{</span><span class="w">
               </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">71</span><span class="p">,</span><span class="w">
               </span><span class="nt">"option"</span><span class="p">:</span><span class="s2">"2"</span><span class="p">,</span><span class="w">
               </span><span class="nt">"target_cid"</span><span class="p">:</span><span class="s2">"399944"</span><span class="p">,</span><span class="w">
               </span><span class="nt">"target_number"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
               </span><span class="nt">"inherited"</span><span class="p">:</span><span class="kc">true</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Creates a new phone Number.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.retreaver.com/numbers.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<p><code class="prettyprint">Content-Type: application/json</code></p>

<p><code class="prettyprint">{&quot;number&quot;:{&quot;type&quot;:&quot;Toll-free&quot;,&quot;desired_text&quot;:&quot;TEST&quot;,&quot;afid&quot;:&quot;0002&quot;,&quot;cid&quot;:&quot;0001&quot;,&quot;sid&quot;:&quot;superaffiliate&quot;}}</code></p>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>string</td>
<td>Toll-free</td>
<td>required</td>
<td>Toll-free or Local, the kind of number that is desired. Defaults to Toll-free.</td>
</tr>
<tr>
<td>desired_text</td>
<td>string</td>
<td></td>
<td></td>
<td>If you would like us to attempt to get a number that contains a specific word, enter it here. We will fall back to normal numbers if a number containing your word is not found.</td>
</tr>
<tr>
<td>country</td>
<td>string</td>
<td>US</td>
<td></td>
<td>For Local numbers only, the 2 character country code for the country you would like the number to be in. Defaults to US. Possible values: US CA AT BE DK FI FR GB IE IT NL PL SE</td>
</tr>
<tr>
<td>afid</td>
<td>string</td>
<td></td>
<td>required</td>
<td>The affiliate ID this number belongs to. If not found, we will create a new affiliate with this AFID.</td>
</tr>
<tr>
<td>cid</td>
<td>string</td>
<td></td>
<td>required</td>
<td>The campaign ID this number belongs to. You must set up the campaign before creating a number for it.</td>
</tr>
<tr>
<td>sid</td>
<td>string</td>
<td></td>
<td></td>
<td>The SubID this number belongs to.</td>
</tr>
<tr>
<td>destroy_nested</td>
<td>boolean</td>
<td>false</td>
<td></td>
<td>When set, causes existing timers and menu_options on this number to be destroyed.</td>
</tr>
</tbody></table>

<h3 id="optional-parameters">Optional Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>message</td>
<td>string</td>
<td></td>
<td></td>
<td><em>Text-to-speech</em>  A message you want read aloud to the caller when they dial your number. Make sure to tell them to press one to continue.</td>
</tr>
<tr>
<td>voice_gender</td>
<td>string</td>
<td>Male</td>
<td></td>
<td><em>Text-to-speech</em>  Male or Female, the gender of the text-to-speech voice you want.</td>
</tr>
<tr>
<td>message_file</td>
<td>file</td>
<td></td>
<td></td>
<td><em>Audio File</em> An audio file you would like played for the caller when they dial your number. Use this field with multipart/form-data submissions.</td>
</tr>
<tr>
<td>message_file_b64_data</td>
<td>string</td>
<td></td>
<td></td>
<td><em>Audio File</em> A Base64-encoded audio file. Only use this field if you&rsquo;re not using the message_file field.</td>
</tr>
<tr>
<td>message_file_b64_filename</td>
<td>string</td>
<td></td>
<td></td>
<td><em>Audio File</em> The original file name for the Base64-encoded audio file. Something like &#39;memo.flac&rsquo;. We suggest using the highest quality audio available.</td>
</tr>
<tr>
<td>repeat</td>
<td>integer</td>
<td>4</td>
<td></td>
<td>The number of times to repeat the greeting.</td>
</tr>
<tr>
<td>timers_attributes</td>
<td>array</td>
<td></td>
<td></td>
<td>An array of timers.</td>
</tr>
<tr>
<td>menu_options_attributes</td>
<td>array</td>
<td></td>
<td></td>
<td>An array of menu options.</td>
</tr>
</tbody></table>

<p><strong>Nested Attribute: Timer</strong></p>

<p>Only include Timers if you want to override the Campaign settings. For more information on Timers, see <a href="#create-a-campaign">Campaign</a>.</p>

<p>If you do include Timers, the <code class="prettyprint">inherited</code> attribute on them will be set to <code class="prettyprint">false</code>.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>seconds</td>
<td>integer</td>
<td></td>
<td>required</td>
<td>The minimum length of time the call must last for this pixel to be fired. If set to 0, the pixel will fire at the beginning of the call, much like a click.</td>
</tr>
<tr>
<td>url</td>
<td>string</td>
<td></td>
<td>required</td>
<td>The URL that should be called for this timer. The URL does not have to be a pixel, and will be passed any cookies that were set on the 0-second timer. Our bot follows redirects intelligently.</td>
</tr>
</tbody></table>

<p><strong>Nested Attribute: Menu Option</strong></p>

<p>Only include Menu Options if you want to override the Campaign settings. See <a href="#create-a-campaign">Campaign</a> for more details.</p>

<p>If you do include Menu Options, the <code class="prettyprint">inherited</code> attribute on them will be set to <code class="prettyprint">false</code>.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>option</td>
<td>string</td>
<td></td>
<td>required</td>
<td>The button the caller will press. The default menu option for a campaign is the one for button press &#39;1&rsquo;, so if you aren&rsquo;t using an IVR and want the call to forward instantly, set the option to &#39;1&rsquo;. (1 2 3 4 5 6 7 8 9 0 * #)</td>
</tr>
<tr>
<td>target_number</td>
<td>string</td>
<td></td>
<td></td>
<td>A phone number to redirect the caller to. All &gt; 0 second timers will start when the call is answered.</td>
</tr>
<tr>
<td>target_cid</td>
<td>string</td>
<td></td>
<td></td>
<td>A campaign ID to redirect the caller to. The campaign must be configured in the system. If this value is set, it will overrride the target number. This option can be used to allow the caller to replay the greeting.</td>
</tr>
</tbody></table>

<h2 id="update-a-number">Update a Number</h2>
<pre class="highlight shell"><code>curl -s <span class="se">\</span>
    -X PUT <span class="se">\</span>
    https://api.retreaver.com/numbers/79.json?api_key<span class="o">=</span>woofwoofwoof&amp;company_id<span class="o">=</span>1 <span class="se">\</span>
    -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    -d <span class="s1">'{"number":{"afid":"0005"}}'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nt">"number"</span><span class="p">:{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">79</span><span class="p">,</span><span class="w">
      </span><span class="nt">"number"</span><span class="p">:</span><span class="s2">"+15558237206"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"toll_free"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="s2">"2012-07-15T03:15:42Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="s2">"2012-07-15T03:15:42Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sid"</span><span class="p">:</span><span class="s2">"superaffiliate"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"afid"</span><span class="p">:</span><span class="s2">"0005"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"cid"</span><span class="p">:</span><span class="s2">"0001"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"uses_campaign_settings"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"greeting"</span><span class="p">:{</span><span class="w">
         </span><span class="nt">"audio_file_name"</span><span class="p">:</span><span class="s2">"greeting.flac"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"audio_file_content_type"</span><span class="p">:</span><span class="s2">"application/octet-stream"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"audio_file_size"</span><span class="p">:</span><span class="mi">4990865</span><span class="p">,</span><span class="w">
         </span><span class="nt">"audio_file_updated_at"</span><span class="p">:</span><span class="s2">"2012-07-15T01:30:34Z"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"inherited"</span><span class="p">:</span><span class="kc">true</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"timers"</span><span class="p">:[</span><span class="w">
         </span><span class="p">{</span><span class="w">
            </span><span class="nt">"timer"</span><span class="p">:{</span><span class="w">
               </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">201</span><span class="p">,</span><span class="w">
               </span><span class="nt">"seconds"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
               </span><span class="nt">"url"</span><span class="p">:</span><span class="s2">"http://callpixels.com.go2cloud.org/aff_c?offer_id=[campaign_id]&amp;aff_id=[affiliate_id]&amp;aff_sub=[sub_id]"</span><span class="p">,</span><span class="w">
               </span><span class="nt">"inherited"</span><span class="p">:</span><span class="kc">true</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="p">{</span><span class="w">
            </span><span class="nt">"timer"</span><span class="p">:{</span><span class="w">
               </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">202</span><span class="p">,</span><span class="w">
               </span><span class="nt">"seconds"</span><span class="p">:</span><span class="mi">90</span><span class="p">,</span><span class="w">
               </span><span class="nt">"url"</span><span class="p">:</span><span class="s2">"http://callpixels.com.go2cloud.org/[has_offers_code]?adv_sub=[call_log_id]-[caller_id]-[called_number]-[call_duration]-[call_recording_url]"</span><span class="p">,</span><span class="w">
               </span><span class="nt">"inherited"</span><span class="p">:</span><span class="kc">true</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"menu_options"</span><span class="p">:[</span><span class="w">
         </span><span class="p">{</span><span class="w">
            </span><span class="nt">"menu_option"</span><span class="p">:{</span><span class="w">
               </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">66</span><span class="p">,</span><span class="w">
               </span><span class="nt">"option"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
               </span><span class="nt">"target_cid"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
               </span><span class="nt">"target_number"</span><span class="p">:</span><span class="s2">"+18884899999"</span><span class="p">,</span><span class="w">
               </span><span class="nt">"inherited"</span><span class="p">:</span><span class="kc">true</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="p">{</span><span class="w">
            </span><span class="nt">"menu_option"</span><span class="p">:{</span><span class="w">
               </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">71</span><span class="p">,</span><span class="w">
               </span><span class="nt">"option"</span><span class="p">:</span><span class="s2">"2"</span><span class="p">,</span><span class="w">
               </span><span class="nt">"target_cid"</span><span class="p">:</span><span class="s2">"399944"</span><span class="p">,</span><span class="w">
               </span><span class="nt">"target_number"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
               </span><span class="nt">"inherited"</span><span class="p">:</span><span class="kc">true</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Updates the Number with any attributes you have passed in.</p>

<aside class="notice">
You must replace <code>79</code> with the Retreaver ID of the Number you want to update.
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT https://api.retreaver.com/numbers/79.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<p><code class="prettyprint">Content-Type: application/json</code></p>

<p><code class="prettyprint">{&quot;number&quot;:{&quot;afid&quot;:&quot;0005&quot;}}</code></p>

<h2 id="remove-a-number">Remove a Number</h2>
<pre class="highlight shell"><code>curl -X DELETE https://api.retreaver.com/numbers/79.json?api_key<span class="o">=</span>woofwoofwoof&amp;company_id<span class="o">=</span>1
</code></pre>

<p>Deletes the given number. Numbers will be deprovisioned within 24 hours. Do not delete Numbers if you are porting them to another provider, 
until you have confirmed that the port has completed.</p>

<h1 id="number-pools">Number Pools</h1>

<p>Number Pools are used to dynamically assign Numbers whenever a user visits your website. Number Pools are used in lieu of static Numbers when 
you want to track many different attributes.</p>

<h2 id="get-all-number-pools">Get all Number Pools</h2>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.retreaver.com/number_pools.json?api_key=woofwoofwoof&amp;company_id=1"</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[{</span><span class="w">
     </span><span class="nt">"number_pool"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
         </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
         </span><span class="nt">"numbers_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Toll-free"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CA"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"max_pool_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
         </span><span class="nt">"buffer_seconds"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-04-25T16:16:51Z"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-04-25T16:16:51Z"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"google_analytics"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
         </span><span class="nt">"hide_embedded_access"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
         </span><span class="nt">"afid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0001"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"cid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"111"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"reserve_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
     </span><span class="p">}</span><span class="w">
 </span><span class="p">}]</span><span class="w">
</span></code></pre>

<p>Returns all the Number Pools you have in our system.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://retreaver.com/number_pools.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>cid</td>
<td>null</td>
<td>Restrict results to Number Pools that belong to the given Campaign ID.</td>
</tr>
<tr>
<td>afid</td>
<td>null</td>
<td>Restrict results to Number Pools that belong to the given Affiliate ID.</td>
</tr>
</tbody></table>

<h2 id="get-a-specific-number-pool">Get a specific Number Pool</h2>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.retreaver.com/number_pools/1.json?api_key=woofwoofwoof&amp;company_id=1"</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"number_pool"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"numbers_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Toll-free"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CA"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"max_pool_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="nt">"buffer_seconds"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-04-25T16:16:51Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-04-25T16:16:51Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"google_analytics"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"hide_embedded_access"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"afid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0001"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"cid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"111"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"reserve_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Returns a single Number Pool based on our internal ID.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://retreaver.com/number_pools/1.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<h2 id="create-a-number-pool">Create a Number Pool</h2>
<pre class="highlight shell"><code>curl -s <span class="se">\</span>
    -X POST <span class="se">\</span>
    https://api.retreaver.com/number_pools.json?api_key<span class="o">=</span>woofwoofwoof&amp;company_id<span class="o">=</span>1 <span class="se">\</span>
    -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    -d <span class="s1">'{ \
            "number_pool": { \
                "cid": "111", \
                "max_pool_size": 100, \           
                "hide_embedded_access": true, \
                "google_analytics": true \
            } \                             
        }'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"number_pool"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">49</span><span class="p">,</span><span class="w">
        </span><span class="nt">"numbers_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"max_pool_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
        </span><span class="nt">"buffer_seconds"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-04-25T16:53:52Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-04-25T16:53:52Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"hide_embedded_access"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"google_analytics"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"afid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"cid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"111"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Toll-free"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"reserve_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"google_analytics_paths"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Network timer (always)"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/callpixels/8ddc04aa-0020-45eb-89df-ed45b8ed43a7"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Network timer (connect)"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/callpixels/18135f62-00ff-4818-941d-d88b6a93f27d"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Creates a new Number Pool.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.retreaver.com/number_pools.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<p><code class="prettyprint">Content-Type: application/json</code></p>

<p><code class="prettyprint">{&quot;number_pool&quot;:{&quot;cid&quot;:&quot;111&quot;,&quot;max_pool_size&quot;:100,&quot;hide_embedded_access&quot;:true,&quot;google_analytics&quot;:true}}</code></p>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>cid</td>
<td>string</td>
<td></td>
<td>required</td>
<td>The campaign ID this number pool belongs to. You must set up the campaign before creating a number pool for it.</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>Toll-free</td>
<td></td>
<td>Toll-free or Local, the type of number that is desired for this number pool.</td>
</tr>
<tr>
<td>country</td>
<td>string</td>
<td>US</td>
<td></td>
<td>For Local number pools only, the 2 character country code for the country you would like the numbers to be in. Possible values: US CA AT BE DK FI FR GB IE IT NL PL SE</td>
</tr>
<tr>
<td>afid</td>
<td>string</td>
<td></td>
<td></td>
<td>The affiliate ID this number pool belongs to. You must set up the affiliate before you create the number pool.</td>
</tr>
<tr>
<td>max_pool_size</td>
<td>integer</td>
<td>10</td>
<td></td>
<td>The maximum number of numbers you want in this number pool.</td>
</tr>
<tr>
<td>buffer_seconds</td>
<td>integer</td>
<td>0</td>
<td></td>
<td>The number of seconds for a number to retain its assignment after the visitor has left your site.</td>
</tr>
<tr>
<td>hide_embedded_access</td>
<td>boolean</td>
<td>false</td>
<td></td>
<td>When true, will not show the embedded affiliate phone number management interface for this campaign.</td>
</tr>
<tr>
<td>google_analytics</td>
<td>boolean</td>
<td>false</td>
<td></td>
<td>Enables our Google Analytics integration. Incompatible with number pools that have an assigned affiliate.</td>
</tr>
<tr>
<td>reserve_size</td>
<td>integer</td>
<td>1</td>
<td></td>
<td>The number of numbers to pre-provision and hold in reserve. Allows numbers to be instantly assigned and helps avoid delays in provisioning numbers.</td>
</tr>
</tbody></table>

<h2 id="update-a-number-pool">Update a Number Pool</h2>
<pre class="highlight shell"><code>curl -s <span class="se">\</span>
    -X PUT <span class="se">\</span>
    https://api.retreaver.com/number_pools/49.json <span class="se">\</span>
    -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    -d <span class="s1">'{"number_pool":{"max_pool_size":"1000"}}'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"number_pool"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">49</span><span class="p">,</span><span class="w">
        </span><span class="nt">"numbers_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"max_pool_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
        </span><span class="nt">"buffer_seconds"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-04-25T18:53:52Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-04-25T16:53:52Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"hide_embedded_access"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"google_analytics"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"afid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"cid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"111"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Toll-free"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"reserve_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"google_analytics_paths"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Network timer (always)"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/callpixels/8ddc04aa-0020-45eb-89df-ed45b8ed43a7"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Network timer (connect)"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/callpixels/18135f62-00ff-4818-941d-d88b6a93f27d"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Updates the Number Pool with any attributes you have passed in.</p>

<aside class="notice">
You must replace <code>49</code> with the Retreaver ID of the Number Pool you want to update.
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT https://api.retreaver.com/number_pools/49.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<p><code class="prettyprint">Content-Type: application/json</code></p>

<p><code class="prettyprint">{&quot;number_pool&quot;:{&quot;max_pool_size&quot;:&quot;1000&quot;}}</code></p>

<h2 id="remove-a-number-pool">Remove a Number Pool</h2>
<pre class="highlight shell"><code>curl -X DELETE https://api.retreaver.com/number_pools/49.json?api_key<span class="o">=</span>woofwoofwoof&amp;company_id<span class="o">=</span>1
</code></pre>

<p>Deletes the given Number Pool.</p>

<aside class="warning">
This will also delete all Numbers associated with this Number Pool!
</aside>

<h1 id="companies">Companies</h1>

<p>Company exists to allow resellers to separate their resources by Company. AFID and CID collisions will not occur between Companies.</p>

<h2 id="get-the-active-company">Get the active Company</h2>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.retreaver.com/company.json?api_key=woofwoofwoof"</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"company"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CallPixels"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"default_click_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://callpixels.com/?a=[affiliate_id]&amp;c=[campaign_id]&amp;cp=js&amp;s1=[sub_id]"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"default_sale_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://callpixels.com/p.ashx?o=[campaign_id]&amp;t=[call_log_id]-[caller_id]-[called_number]-[call_duration]-[call_recording_url]"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-04-15T05:44:10Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-05-07T15:32:44Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Returns the currently active Company. This is the Company that will be modified if a request is sent in without a specific company_id.</p>

<aside class="warning">
You should always pass in the <code>company_id</code> parameter when requesting other objects, because switching Companies in the web interface will also switch Companies in the API.
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://retreaver.com/company.json?api_key=woofwoofwoof</code></p>

<h2 id="get-a-specific-company">Get a specific Company</h2>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.retreaver.com/companies/1.json?api_key=woofwoofwoof"</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"company"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CallPixels"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"default_click_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://callpixels.com/?a=[affiliate_id]&amp;c=[campaign_id]&amp;cp=js&amp;s1=[sub_id]"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"default_sale_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://callpixels.com/p.ashx?o=[campaign_id]&amp;t=[call_log_id]-[caller_id]-[called_number]-[call_duration]-[call_recording_url]"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-04-15T05:44:10Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-05-07T15:32:44Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Returns the Company matching our internal ID.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://retreaver.com/companies/1.json?api_key=woofwoofwoof</code></p>

<h2 id="get-all-companies">Get all Companies</h2>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.retreaver.com/companies.json?api_key=woofwoofwoof"</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[{</span><span class="w">
     </span><span class="nt">"company"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
         </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
         </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CallPixels"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"default_click_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://callpixels.com/?a=[affiliate_id]&amp;c=[campaign_id]&amp;cp=js&amp;s1=[sub_id]"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"default_sale_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://callpixels.com/p.ashx?o=[campaign_id]&amp;t=[call_log_id]-[caller_id]-[called_number]-[call_duration]-[call_recording_url]"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-04-15T05:44:10Z"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-05-07T15:32:44Z"</span><span class="w">
     </span><span class="p">}</span><span class="w">
 </span><span class="p">}]</span><span class="w">
</span></code></pre>

<p>Provides a complete list of Companies accessible via your Account.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://retreaver.com/companies.json?api_key=woofwoofwoof</code></p>

<h2 id="create-a-company">Create a Company</h2>
<pre class="highlight shell"><code>curl -s <span class="se">\</span>
    -X POST <span class="se">\</span>
    https://api.retreaver.com/companies.json <span class="se">\</span>
    -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    -d <span class="s1">'{"company":{"name":"CallPixels.com"}}'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
     </span><span class="nt">"company"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
         </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
         </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CallPixels"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"default_click_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://callpixels.com/?a=[affiliate_id]&amp;c=[campaign_id]&amp;cp=js&amp;s1=[sub_id]"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"default_sale_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://callpixels.com/p.ashx?o=[campaign_id]&amp;t=[call_log_id]-[caller_id]-[called_number]-[call_duration]-[call_recording_url]"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-04-15T05:44:10Z"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-05-07T15:32:44Z"</span><span class="w">
     </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Creates a Company.</p>

<aside class="info">
The Companies you create each have their own Accounts and payment settings.
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.retreaver.com/companies.json?api_key=woofwoofwoof</code></p>

<p><code class="prettyprint">Content-Type: application/json</code></p>

<p><code class="prettyprint">{&quot;company&quot;:{&quot;name&quot;:&quot;CallPixels.com&quot;}}</code></p>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>string</td>
<td></td>
<td>required</td>
<td>The company name.</td>
</tr>
<tr>
<td>default_click_url</td>
<td>string</td>
<td></td>
<td></td>
<td>The default click URL to set as a Timer @ 0 seconds when creating a campaign.</td>
</tr>
<tr>
<td>default_sale_url</td>
<td>string</td>
<td></td>
<td></td>
<td>The default sale URL to set as a Timer @ 90 seconds when creating a campaign</td>
</tr>
</tbody></table>

<h2 id="update-a-company">Update a Company</h2>
<pre class="highlight shell"><code>curl -s <span class="se">\</span>
    -X PUT <span class="se">\</span>
    https://api.retreaver.com/companies/2.json <span class="se">\</span>
    -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    -d <span class="s1">'{"company":{"name":"Retreaver"}}'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
     </span><span class="nt">"company"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
         </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
         </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Retreaver"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"default_click_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://callpixels.com/?a=[affiliate_id]&amp;c=[campaign_id]&amp;cp=js&amp;s1=[sub_id]"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"default_sale_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://callpixels.com/p.ashx?o=[campaign_id]&amp;t=[call_log_id]-[caller_id]-[called_number]-[call_duration]-[call_recording_url]"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-04-15T05:44:10Z"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-05-07T15:32:44Z"</span><span class="w">
     </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Updates the given Company with any attributes you have passed in.</p>

<aside class="notice">
You must replace <code>2</code> with the Retreaver ID of the Company you want to update.
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT https://api.retreaver.com/companies/2.json?api_key=woofwoofwoof</code></p>

<p><code class="prettyprint">Content-Type: application/json</code></p>

<p><code class="prettyprint">{&quot;company&quot;:{&quot;name&quot;:&quot;Retreaver&quot;}}</code></p>

<h2 id="remove-a-company">Remove a Company</h2>
<pre class="highlight shell"><code>curl -X DELETE https://api.retreaver.com/companies/2.json?api_key<span class="o">=</span>woofwoofwoof
</code></pre>

<p>Deletes the given Company. You must delete any Numbers and Number Pools the Company has first.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE https://api.retreaver.com/companies/2.json?api_key=woofwoofwoof</code></p>

<h1 id="contacts">Contacts</h1>

<p>Contacts allow you to tie individual Calls from many Contact Numbers back to one person. You can also tag Contacts, and calls from their Contact Numbers will automatically inherit the tags.</p>

<h2 id="get-all-contacts">Get all Contacts</h2>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.retreaver.com/contacts.json?api_key=woofwoofwoof&amp;company_id=1"</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[{</span><span class="w">
    </span><span class="nt">"contact"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nt">"contact_numbers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+18668987878"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Landline"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"tag_values"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"name"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Retreaver Support"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"operator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"=="</span><span class="p">,</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">154060720</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre>

<p>Provides a complete list of Contacts.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://retreaver.com/contacts.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<h2 id="get-a-specific-contact-by-id">Get a Specific Contact by ID</h2>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.retreaver.com/contacts/2.json?api_key=woofwoofwoof&amp;company_id=1"</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"contact"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nt">"contact_numbers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+18668987878"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Landline"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"tag_values"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"name"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Retreaver Support"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"operator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"=="</span><span class="p">,</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">154060720</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Finds a Contact by its Retreaver ID.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.retreaver.com/contacts/2.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<h2 id="create-a-contact">Create a Contact</h2>
<pre class="highlight shell"><code>curl -s <span class="se">\</span>
    -X POST <span class="se">\</span>
    https://api.retreaver.com/contacts.json <span class="se">\</span>
    -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    -d <span class="s1">'{"contact":{"tag_list":"&lt;&lt;&lt;name:Retreaver Support&gt;&gt;&gt;","contact_numbers_attributes":[{"number":"8668987878", "description":"Landline"}]}}'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"contact"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nt">"contact_numbers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+18668987878"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Landline"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"tag_values"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"name"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Retreaver Support"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"operator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"=="</span><span class="p">,</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">154060720</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Creates a Contact and associated Contact Number(s).</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.retreaver.com/contacts.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<p><code class="prettyprint">Content-Type: application/json</code></p>

<p><code class="prettyprint">{&quot;contact&quot;:{&quot;tag_list&quot;:&quot;&lt;&lt;&lt;name:Retreaver Support&gt;&gt;&gt;&quot;,&quot;contact_numbers_attributes&quot;:[{&quot;number&quot;:&quot;8668987878&quot;, &quot;description&quot;:&quot;Landline&quot;}]}}</code></p>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>tag_list</td>
<td>string</td>
<td></td>
<td></td>
<td>See notes below.</td>
</tr>
<tr>
<td>contact_numbers_attributes</td>
<td>array</td>
<td></td>
<td>required</td>
<td>An array of Contact Numbers.</td>
</tr>
</tbody></table>

<p><strong>Nested Attribute: Contact Number</strong></p>

<p>These are the phone numbers that are associated with your Contact.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>number</td>
<td>string</td>
<td></td>
<td>required</td>
<td>Either a phone number or <code class="prettyprint">sip:user@domain.com</code> formatted SIP endpoint. PSTN numbers should be <a href="https://en.wikipedia.org/wiki/E.164">E.164 formatted</a>.</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td></td>
<td></td>
<td>A description of the phone number, like &#39;Home&rsquo;, &#39;Mobile&rsquo;, &#39;Work&rsquo;, &#39;iPhone&rsquo;, etc.</td>
</tr>
</tbody></table>

<h3 id="tag_list-notes">tag_list notes</h3>

<p>To set tags on a Contact, pass in a comma delineated, triple-angle-bracket enclosed string of tags as the <code class="prettyprint">tag_list</code> value.</p>

<p>The system will create/find whatever tags you have set given this input without you having to track tagIDs. You must include the full list of tags you want set any time a tag_list parameter is passed in. To clear the tags, just pass in a blank string.</p>

<p>There is a limit of 100 tags added in this manner, but the system will automatically concatenate US zip <code class="prettyprint">geo</code> tags.</p>

<h2 id="update-a-contact">Update a Contact</h2>
<pre class="highlight shell"><code>curl -s <span class="se">\</span>
    -X PUT <span class="se">\</span>
    https://api.retreaver.com/contacts/2.json?api_key<span class="o">=</span>woofwoofwoof&amp;company_id<span class="o">=</span>1 <span class="se">\</span>
    -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    -d <span class="s1">'{"contact":{"contact_numbers_attributes":[{"id":2,"number":"+18001234567"}]}}'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"contact"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nt">"contact_numbers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+18001234567"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Landline"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"tag_values"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"name"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Retreaver Support"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"operator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"=="</span><span class="p">,</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">154060720</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Changes any attributes you have passed in on the Contact. To change a Contact Number, you must pass in the ID of the 
existing Contact Number, or see <a href="#update-a-contact-number-by-phone-number">below</a> for an easier method.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT https://api.retreaver.com/contacts/2.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<p><code class="prettyprint">Content-Type: application/json</code></p>

<p><code class="prettyprint">{&quot;contact&quot;:{&quot;contact_numbers_attributes&quot;:[{&quot;id&quot;:2,&quot;number&quot;:&quot;+18001234567&quot;}]}}</code></p>

<h2 id="remove-a-contact">Remove a Contact</h2>
<pre class="highlight shell"><code>curl -X DELETE https://api.retreaver.com/contacts/2.json?api_key<span class="o">=</span>woofwoofwoof&amp;company_id<span class="o">=</span>1
</code></pre>

<p>Deletes the given Contact and all Contact Numbers associated with it.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE https://api.retreaver.com/contacts/2.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<h2 id="get-a-specific-contact-by-phone-number">Get a specific Contact by phone number</h2>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.retreaver.com/contact_numbers/+18001234567/contact.json?api_key=woofwoofwoof&amp;company_id=1"</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"contact"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nt">"contact_numbers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+18001234567"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Landline"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"tag_values"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"name"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Retreaver Support"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"operator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"=="</span><span class="p">,</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">154060720</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Finds a Contact by phone number.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.retreaver.com/contact_numbers/+18001234567/contact.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<h2 id="update-a-contact-by-phone-number">Update a Contact by phone number</h2>
<pre class="highlight shell"><code>curl -s <span class="se">\</span>
    -X PUT <span class="se">\</span>
    https://api.retreaver.com/contact_numbers/+18001234567/contact.json?api_key<span class="o">=</span>woofwoofwoof&amp;company_id<span class="o">=</span>1 <span class="se">\</span>
    -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    -d <span class="s1">'{"contact":{"tag_list":"&lt;&lt;&lt;name:Invalid Number&gt;&gt;&gt;"}}'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"contact"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nt">"contact_numbers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+18001234567"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Landline"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"tag_values"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"name"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid Number"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"operator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"=="</span><span class="p">,</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">154060721</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Updates a Contact by phone number.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT https://api.retreaver.com/contact_numbers/+18001234567/contact.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<p><code class="prettyprint">Content-Type: application/json</code></p>

<p><code class="prettyprint">{&quot;contact&quot;:{&quot;tag_list&quot;:&quot;&lt;&lt;&lt;name:Invalid Number&gt;&gt;&gt;&quot;}}</code></p>

<h2 id="delete-a-contact-by-phone-number">Delete a Contact by phone number</h2>
<pre class="highlight shell"><code>curl -X DELETE https://api.retreaver.com/contact_numbers/+18001234567/contact.json?api_key<span class="o">=</span>woofwoofwoof&amp;company_id<span class="o">=</span>1
</code></pre>

<p>Deletes the contact associated with the phone number and all other contact numbers associated with the contact.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE https://api.retreaver.com/contact_numbers/+18001234567/contact.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<h1 id="contact-numbers">Contact Numbers</h1>

<p>A convenience API for removing and updating Contact Numbers.</p>

<h2 id="delete-a-contact-number-from-a-contact-by-phone-number">Delete a Contact Number from a Contact by phone number</h2>
<pre class="highlight shell"><code>curl -X DELETE https://api.retreaver.com/contact_numbers/+18668987878.json?api_key<span class="o">=</span>woofwoofwoof&amp;company_id<span class="o">=</span>1
</code></pre>

<p>Deletes the contact number from the Contact it is associated with, as long as the Contact has more than one Contact Number.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE https://api.retreaver.com/contact_numbers/+18668987878.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<h2 id="update-a-contact-number-by-phone-number">Update a Contact Number by phone number</h2>
<pre class="highlight shell"><code>curl -s <span class="se">\</span>
    -X PUT <span class="se">\</span>
    https://api.retreaver.com/contact_numbers/+18001234567.json?api_key<span class="o">=</span>woofwoofwoof&amp;company_id<span class="o">=</span>1 <span class="se">\</span>
    -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    -d <span class="s1">'{"contact_number":{"number":"+18005551234"}}'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"contact_number"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+18005551234"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Landline"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Easily updates a Contact Number.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT https://api.retreaver.com/contact_numbers/+18001234567.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<p><code class="prettyprint">Content-Type: application/json</code></p>

<p><code class="prettyprint">{&quot;contact_number&quot;:{&quot;number&quot;:&quot;+18005551234&quot;}}</code></p>

<h1 id="suppressed-numbers">Suppressed Numbers</h1>

<p>Check and modify whether or not a Contact Number is blocked by your Suppression List.</p>

<aside class="warning">
Suppressed Numbers exist regardless of whether or not there is a corresponding Contact Number or Contact.
</aside>

<h2 id="check-whether-or-not-you-have-any-suppressed-numbers">Check whether or not you have any Suppressed Numbers</h2>
<pre class="highlight shell"><code>curl https://api.retreaver.com/suppression_list/check.json?api_key<span class="o">=</span>woofwoofwoof&amp;company_id<span class="o">=</span>1
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="nt">"suppression_list"</span><span class="p">:</span><span class="kc">true</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Returns true if the Company has any numbers suppressed.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.retreaver.com/suppression_list/check.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<h2 id="delete-a-contact-number-from-the-suppression-list-by-phone-number">Delete a Contact Number from the Suppression List by phone number</h2>
<pre class="highlight shell"><code>curl -X DELETE https://api.retreaver.com/contact_numbers/+18668987878/suppressed_number.json?api_key<span class="o">=</span>woofwoofwoof&amp;company_id<span class="o">=</span>1
</code></pre>

<p>Removes the Contact Number from your Suppression List.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE https://api.retreaver.com/contact_numbers/+18668987878/suppressed_number.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<h2 id="suppress-a-contact-number-by-phone-number">Suppress a Contact Number by phone number</h2>
<pre class="highlight shell"><code>curl -s <span class="se">\</span>
    -X POST <span class="se">\</span>
    https://api.retreaver.com/contact_numbers/+18668987878/suppressed_number.json?api_key<span class="o">=</span>woofwoofwoof&amp;company_id<span class="o">=</span>1 <span class="se">\</span>
    -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    -d <span class="s1">'{"suppressed_number":{"can_resubscribe":false}}'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"suppressed_number"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">502997</span><span class="p">,</span><span class="w">
        </span><span class="nt">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+18668987878"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"can_resubscribe"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-10-02T14:36:14.166-04:00"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Adds a Contact Number to the Company&rsquo;s Suppression List. The <code class="prettyprint">can_resubscribe</code> value toggles whether or not the contact
can unblock themselves by pressing 7 if there is a &ldquo;Caller Blocked&rdquo; Prompt on the Campaign/Number they are calling.</p>

<p>The entire body of the post is optional, simply posting to 
<code class="prettyprint">https://api.retreaver.com/contact_numbers/+18668987878/suppressed_number.json?api_key=woofwoofwoof&amp;company_id=1</code>
would block +18668987878; <code class="prettyprint">can_resubscribe</code> is <code class="prettyprint">true</code> by default. The intended use case is to allow callers to restore 
contact with a company after choosing to be routed to a &ldquo;add caller to suppression list and hang up&rdquo; routing option.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.retreaver.com/contact_numbers/+18668987878/suppressed_number.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<p><code class="prettyprint">Content-Type: application/json</code></p>

<p><code class="prettyprint">{&quot;suppressed_number&quot;:{&quot;can_resubscribe&quot;:false}}</code></p>

          <h1 id="errors">Errors</h1>

<p>The Retreaver Core API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request &ndash; Your request was unintelligible. Check your formatting.</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong or missing.</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; You didn&rsquo;t pass in your Company ID or you&rsquo;re using the wrong API key.</td>
</tr>
<tr>
<td>404</td>
<td>Not Found &ndash; It actually, really doesn&rsquo;t exist.</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed &ndash; It doesn&rsquo;t respond to the HTTP action you used.</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable &ndash; You requested a format that isn&rsquo;t JSON, or, sigh, XML.</td>
</tr>
<tr>
<td>410</td>
<td>Gone &ndash; It up and left or was otherwise deleted.</td>
</tr>
<tr>
<td>418</td>
<td>I&rsquo;m a little teapot!</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests &ndash; Slow down. Highly concurrent requests are frowned upon.</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error &ndash; We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable &ndash; We&rsquo;re temporarially offline for maintanance. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">cURL</a>
          </div>
      </div>
    </div>
  </body>
</html>
