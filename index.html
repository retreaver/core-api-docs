
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Retreaver Core 0.1 API Reference</title>

    <style media="screen">
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .nl {
  color: #f92672;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <style media="print">
      * {
        -webkit-transition:none!important;
        transition:none!important;
      }
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #586e75;
}
.highlight .err {
  color: #002b36;
  background-color: #dc322f;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #657b83;
}
.highlight .cp {
  color: #b58900;
}
.highlight .nt {
  color: #b58900;
}
.highlight .o, .highlight .ow {
  color: #93a1a1;
}
.highlight .p, .highlight .pi {
  color: #93a1a1;
}
.highlight .gi {
  color: #859900;
}
.highlight .gd {
  color: #dc322f;
}
.highlight .gh {
  color: #268bd2;
  background-color: #002b36;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #6c71c4;
}
.highlight .kc {
  color: #cb4b16;
}
.highlight .kt {
  color: #cb4b16;
}
.highlight .kd {
  color: #cb4b16;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #859900;
}
.highlight .sa {
  color: #6c71c4;
}
.highlight .sr {
  color: #2aa198;
}
.highlight .si {
  color: #d33682;
}
.highlight .se {
  color: #d33682;
}
.highlight .nn {
  color: #b58900;
}
.highlight .nc {
  color: #b58900;
}
.highlight .no {
  color: #b58900;
}
.highlight .na {
  color: #268bd2;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #859900;
}
.highlight .ss {
  color: #859900;
}
    </style>
    <link href="stylesheets/screen-ecb29c9b.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print-c62cd32f.css" rel="stylesheet" media="print" />
      <script src="javascripts/all-1badf9fd.js"></script>


    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap" rel="stylesheet">
  </head>

  <body class="index" data-languages="[&quot;shell&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar-cad8cdcb.png" alt="" />
      </span>
    </a>
    <div class="toc-wrapper">
      <div class="logo">
        <img src="images/logo-0415ad27.svg" alt="" />
        <h3>API REFERENCE</h3>
      </div>
        <div class="lang-selector">
              <a href="#" data-language-name="shell">cURL</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#version" class="toc-h2 toc-link" data-title="Version">Version</a>
                  </li>
                  <li>
                    <a href="#multi-format" class="toc-h2 toc-link" data-title="Multi-format">Multi-format</a>
                  </li>
                  <li>
                    <a href="#nomenclature" class="toc-h2 toc-link" data-title="Nomenclature">Nomenclature</a>
                  </li>
                  <li>
                    <a href="#our-ids-vs-customer-ids" class="toc-h2 toc-link" data-title="Our IDs vs Customer IDs">Our IDs vs Customer IDs</a>
                  </li>
                  <li>
                    <a href="#paginated" class="toc-h2 toc-link" data-title="Paginated">Paginated</a>
                  </li>
                  <li>
                    <a href="#trees" class="toc-h2 toc-link" data-title="Trees">Trees</a>
                  </li>
                  <li>
                    <a href="#script-example-exporting-recently-created-calls-via-retreaver-api" class="toc-h2 toc-link" data-title="Script Example: Exporting recently created calls via Retreaver API">Script Example: Exporting recently created calls via Retreaver API</a>
                  </li>
                  <li>
                    <a href="#data-retrieval--real-time-sync" class="toc-h2 toc-link" data-title="Data Retrieval &amp; Real-Time Sync">Data Retrieval &amp; Real-Time Sync</a>
                  </li>
                  <li>
                    <a href="#benchmarks" class="toc-h2 toc-link" data-title="Benchmarks">Benchmarks</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#authentication" class="toc-h1 toc-link" data-title="Authentication">Authentication</a>
          </li>
          <li>
            <a href="#calls" class="toc-h1 toc-link" data-title="Calls">Calls</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#v1---get-recent-calls" class="toc-h2 toc-link" data-title="V1 - Get recent Calls">V1 - Get recent Calls</a>
                  </li>
                  <li>
                    <a href="#v1---enumerate-through-all-calls" class="toc-h2 toc-link" data-title="V1 - Enumerate through all calls">V1 - Enumerate through all calls</a>
                  </li>
                  <li>
                    <a href="#v1---enumerate-through-calls-in-a-specific-datetime-range" class="toc-h2 toc-link" data-title="V1 - Enumerate through Calls in a specific date/time range.">V1 - Enumerate through Calls in a specific date/time range.</a>
                  </li>
                  <li>
                    <a href="#v1---get-a-specific-call" class="toc-h2 toc-link" data-title="V1 - Get a specific Call">V1 - Get a specific Call</a>
                  </li>
                  <li>
                    <a href="#v2---get-recent-calls" class="toc-h2 toc-link" data-title="V2 - Get recent Calls">V2 - Get recent Calls</a>
                  </li>
                  <li>
                    <a href="#v2---enumerate-through-all-calls" class="toc-h2 toc-link" data-title="V2 - Enumerate through all calls">V2 - Enumerate through all calls</a>
                  </li>
                  <li>
                    <a href="#v2---enumerate-through-calls-in-a-specific-datetime-range" class="toc-h2 toc-link" data-title="V2 - Enumerate through Calls in a specific date/time range.">V2 - Enumerate through Calls in a specific date/time range.</a>
                  </li>
                  <li>
                    <a href="#v2---get-a-specific-call" class="toc-h2 toc-link" data-title="V2 - Get a specific Call">V2 - Get a specific Call</a>
                  </li>
                  <li>
                    <a href="#v3---calls" class="toc-h2 toc-link" data-title="V3 - Calls">V3 - Calls</a>
                  </li>
                  <li>
                    <a href="#call-data-writing" class="toc-h2 toc-link" data-title="Call Data Writing">Call Data Writing</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#affiliates" class="toc-h1 toc-link" data-title="Affiliates">Affiliates</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-all-affiliates" class="toc-h2 toc-link" data-title="Get all Affiliates">Get all Affiliates</a>
                  </li>
                  <li>
                    <a href="#get-a-specific-affiliate-by-your-id" class="toc-h2 toc-link" data-title="Get a specific Affiliate by your ID">Get a specific Affiliate by your ID</a>
                  </li>
                  <li>
                    <a href="#create-an-affiliate" class="toc-h2 toc-link" data-title="Create an Affiliate">Create an Affiliate</a>
                  </li>
                  <li>
                    <a href="#update-an-affiliate" class="toc-h2 toc-link" data-title="Update an Affiliate">Update an Affiliate</a>
                  </li>
                  <li>
                    <a href="#remove-an-affiliate" class="toc-h2 toc-link" data-title="Remove an affiliate">Remove an affiliate</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#targets" class="toc-h1 toc-link" data-title="Targets">Targets</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-all-targets" class="toc-h2 toc-link" data-title="Get all Targets">Get all Targets</a>
                  </li>
                  <li>
                    <a href="#get-a-specific-target" class="toc-h2 toc-link" data-title="Get a specific Target">Get a specific Target</a>
                  </li>
                  <li>
                    <a href="#create-a-target" class="toc-h2 toc-link" data-title="Create a Target">Create a Target</a>
                  </li>
                  <li>
                    <a href="#update-a-target" class="toc-h2 toc-link" data-title="Update a Target">Update a Target</a>
                  </li>
                  <li>
                    <a href="#remove-a-target" class="toc-h2 toc-link" data-title="Remove a Target">Remove a Target</a>
                  </li>
                  <li>
                    <a href="#tagging-a-target" class="toc-h2 toc-link" data-title="Tagging a Target">Tagging a Target</a>
                  </li>
                  <li>
                    <a href="#changing-a-targets-caps" class="toc-h2 toc-link" data-title="Changing a Target’s Caps">Changing a Target’s Caps</a>
                  </li>
                  <li>
                    <a href="#resetting-a-hard-cap" class="toc-h2 toc-link" data-title="Resetting a Hard Cap">Resetting a Hard Cap</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#campaigns" class="toc-h1 toc-link" data-title="Campaigns">Campaigns</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-all-campaigns" class="toc-h2 toc-link" data-title="Get all Campaigns">Get all Campaigns</a>
                  </li>
                  <li>
                    <a href="#get-a-specific-campaign" class="toc-h2 toc-link" data-title="Get a specific Campaign">Get a specific Campaign</a>
                  </li>
                  <li>
                    <a href="#create-a-campaign" class="toc-h2 toc-link" data-title="Create a Campaign">Create a Campaign</a>
                  </li>
                  <li>
                    <a href="#update-a-campaign" class="toc-h2 toc-link" data-title="Update a Campaign">Update a Campaign</a>
                  </li>
                  <li>
                    <a href="#remove-a-campaign" class="toc-h2 toc-link" data-title="Remove a Campaign">Remove a Campaign</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#numbers" class="toc-h1 toc-link" data-title="Numbers">Numbers</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-all-numbers" class="toc-h2 toc-link" data-title="Get all Numbers">Get all Numbers</a>
                  </li>
                  <li>
                    <a href="#get-a-specific-number" class="toc-h2 toc-link" data-title="Get a specific Number">Get a specific Number</a>
                  </li>
                  <li>
                    <a href="#create-a-number" class="toc-h2 toc-link" data-title="Create a Number">Create a Number</a>
                  </li>
                  <li>
                    <a href="#update-a-number" class="toc-h2 toc-link" data-title="Update a Number">Update a Number</a>
                  </li>
                  <li>
                    <a href="#remove-a-number" class="toc-h2 toc-link" data-title="Remove a Number">Remove a Number</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#number-pools" class="toc-h1 toc-link" data-title="Number Pools">Number Pools</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-all-number-pools" class="toc-h2 toc-link" data-title="Get all Number Pools">Get all Number Pools</a>
                  </li>
                  <li>
                    <a href="#get-a-specific-number-pool" class="toc-h2 toc-link" data-title="Get a specific Number Pool">Get a specific Number Pool</a>
                  </li>
                  <li>
                    <a href="#create-a-number-pool" class="toc-h2 toc-link" data-title="Create a Number Pool">Create a Number Pool</a>
                  </li>
                  <li>
                    <a href="#update-a-number-pool" class="toc-h2 toc-link" data-title="Update a Number Pool">Update a Number Pool</a>
                  </li>
                  <li>
                    <a href="#remove-a-number-pool" class="toc-h2 toc-link" data-title="Remove a Number Pool">Remove a Number Pool</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#companies" class="toc-h1 toc-link" data-title="Companies">Companies</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-the-active-company" class="toc-h2 toc-link" data-title="Get the active Company">Get the active Company</a>
                  </li>
                  <li>
                    <a href="#get-a-specific-company" class="toc-h2 toc-link" data-title="Get a specific Company">Get a specific Company</a>
                  </li>
                  <li>
                    <a href="#get-all-companies" class="toc-h2 toc-link" data-title="Get all Companies">Get all Companies</a>
                  </li>
                  <li>
                    <a href="#create-a-company" class="toc-h2 toc-link" data-title="Create a Company">Create a Company</a>
                  </li>
                  <li>
                    <a href="#update-a-company" class="toc-h2 toc-link" data-title="Update a Company">Update a Company</a>
                  </li>
                  <li>
                    <a href="#remove-a-company" class="toc-h2 toc-link" data-title="Remove a Company">Remove a Company</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#contacts" class="toc-h1 toc-link" data-title="Contacts">Contacts</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-all-contacts" class="toc-h2 toc-link" data-title="Get all Contacts">Get all Contacts</a>
                  </li>
                  <li>
                    <a href="#get-a-specific-contact-by-id" class="toc-h2 toc-link" data-title="Get a Specific Contact by ID">Get a Specific Contact by ID</a>
                  </li>
                  <li>
                    <a href="#create-a-contact" class="toc-h2 toc-link" data-title="Create a Contact">Create a Contact</a>
                  </li>
                  <li>
                    <a href="#update-a-contact" class="toc-h2 toc-link" data-title="Update a Contact">Update a Contact</a>
                  </li>
                  <li>
                    <a href="#remove-a-contact" class="toc-h2 toc-link" data-title="Remove a Contact">Remove a Contact</a>
                  </li>
                  <li>
                    <a href="#get-a-specific-contact-by-phone-number" class="toc-h2 toc-link" data-title="Get a specific Contact by phone number">Get a specific Contact by phone number</a>
                  </li>
                  <li>
                    <a href="#update-a-contact-by-phone-number" class="toc-h2 toc-link" data-title="Update a Contact by phone number">Update a Contact by phone number</a>
                  </li>
                  <li>
                    <a href="#delete-a-contact-by-phone-number" class="toc-h2 toc-link" data-title="Delete a Contact by phone number">Delete a Contact by phone number</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#contact-numbers" class="toc-h1 toc-link" data-title="Contact Numbers">Contact Numbers</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#delete-a-contact-number-from-a-contact-by-phone-number" class="toc-h2 toc-link" data-title="Delete a Contact Number from a Contact by phone number">Delete a Contact Number from a Contact by phone number</a>
                  </li>
                  <li>
                    <a href="#update-a-contact-number-by-phone-number" class="toc-h2 toc-link" data-title="Update a Contact Number by phone number">Update a Contact Number by phone number</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#caller-lists" class="toc-h1 toc-link" data-title="Caller Lists">Caller Lists</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#access" class="toc-h2 toc-link" data-title="Access">Access</a>
                  </li>
                  <li>
                    <a href="#caller-list" class="toc-h2 toc-link" data-title="Caller List">Caller List</a>
                  </li>
                  <li>
                    <a href="#caller-list-number" class="toc-h2 toc-link" data-title="Caller List Number">Caller List Number</a>
                  </li>
                  <li>
                    <a href="#caller-list-checks" class="toc-h2 toc-link" data-title="Caller List Checks">Caller List Checks</a>
                  </li>
                  <li>
                    <a href="#caller-list-uploads" class="toc-h2 toc-link" data-title="Caller List Uploads">Caller List Uploads</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#suppressed-numbers" class="toc-h1 toc-link" data-title="Suppressed Numbers">Suppressed Numbers</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#check-whether-or-not-the-company-has-any-suppressed-numbers" class="toc-h2 toc-link" data-title="Check whether or not the company has any Suppressed Numbers">Check whether or not the company has any Suppressed Numbers</a>
                  </li>
                  <li>
                    <a href="#get-all-suppressed-numbers-for-a-company" class="toc-h2 toc-link" data-title="Get all Suppressed Numbers for a Company">Get all Suppressed Numbers for a Company</a>
                  </li>
                  <li>
                    <a href="#get-a-specific-suppressed-number" class="toc-h2 toc-link" data-title="Get a specific Suppressed Number">Get a specific Suppressed Number</a>
                  </li>
                  <li>
                    <a href="#delete-a-number-from-the-companys-suppressed-numbers" class="toc-h2 toc-link" data-title="Delete a number from the company’s Suppressed Numbers">Delete a number from the company’s Suppressed Numbers</a>
                  </li>
                  <li>
                    <a href="#create-a-suppressed-number-for-a-company" class="toc-h2 toc-link" data-title="Create a Suppressed Number for a Company">Create a Suppressed Number for a Company</a>
                  </li>
                  <li>
                    <a href="#update-a-suppressed-number-for-a-company" class="toc-h2 toc-link" data-title="Update a Suppressed Number for a Company">Update a Suppressed Number for a Company</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#static-caller-numbers" class="toc-h1 toc-link" data-title="Static Caller Numbers">Static Caller Numbers</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-all-static-caller-numbers" class="toc-h2 toc-link" data-title="Get all Static Caller Numbers">Get all Static Caller Numbers</a>
                  </li>
                  <li>
                    <a href="#create-a-static-caller-number" class="toc-h2 toc-link" data-title="Create a Static Caller Number">Create a Static Caller Number</a>
                  </li>
                  <li>
                    <a href="#delete-a-static-caller-number" class="toc-h2 toc-link" data-title="Delete a Static Caller Number">Delete a Static Caller Number</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#target-groups" class="toc-h1 toc-link" data-title="Target Groups">Target Groups</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-all-target-groups" class="toc-h2 toc-link" data-title="Get all Target Groups">Get all Target Groups</a>
                  </li>
                  <li>
                    <a href="#get-a-specific-target-group" class="toc-h2 toc-link" data-title="Get a specific Target Group">Get a specific Target Group</a>
                  </li>
                  <li>
                    <a href="#create-a-target-group" class="toc-h2 toc-link" data-title="Create a Target Group">Create a Target Group</a>
                  </li>
                  <li>
                    <a href="#update-a-target-group" class="toc-h2 toc-link" data-title="Update a Target Group">Update a Target Group</a>
                  </li>
                  <li>
                    <a href="#delete-a-target-group" class="toc-h2 toc-link" data-title="Delete a Target Group">Delete a Target Group</a>
                  </li>
                  <li>
                    <a href="#replacing-targets-in-a-target-group" class="toc-h2 toc-link" data-title="Replacing Targets in a Target Group">Replacing Targets in a Target Group</a>
                  </li>
                  <li>
                    <a href="#adding-targets-to-a-target-group" class="toc-h2 toc-link" data-title="Adding Targets to a Target Group">Adding Targets to a Target Group</a>
                  </li>
                  <li>
                    <a href="#removing-targets-from-a-target-group" class="toc-h2 toc-link" data-title="Removing Targets from a Target Group">Removing Targets from a Target Group</a>
                  </li>
                  <li>
                    <a href="#changing-a-target-groups-caps" class="toc-h2 toc-link" data-title="Changing a Target Group’s Caps">Changing a Target Group’s Caps</a>
                  </li>
                  <li>
                    <a href="#resetting-all-hard-caps-on-targets-in-a-target-group" class="toc-h2 toc-link" data-title="Resetting all Hard Caps on Targets in a Target Group">Resetting all Hard Caps on Targets in a Target Group</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#real-time-bidding-rtb" class="toc-h1 toc-link" data-title="Real-Time Bidding (RTB)">Real-Time Bidding (RTB)</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#create-a-reservation" class="toc-h2 toc-link" data-title="Create a reservation">Create a reservation</a>
                  </li>
                  <li>
                    <a href="#confirm-a-reservation" class="toc-h2 toc-link" data-title="Confirm a reservation">Confirm a reservation</a>
                  </li>
                  <li>
                    <a href="#retreaver-ping-shield" class="toc-h2 toc-link" data-title="Retreaver Ping Shield">Retreaver Ping Shield</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#reports" class="toc-h1 toc-link" data-title="Reports">Reports</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#tag-value-report" class="toc-h2 toc-link" data-title="Tag Value Report">Tag Value Report</a>
                  </li>
                  <li>
                    <a href="#tag-value-name-report" class="toc-h2 toc-link" data-title="Tag Value Name Report">Tag Value Name Report</a>
                  </li>
                  <li>
                    <a href="#not-all-tag-values-are-indexed" class="toc-h2 toc-link" data-title="Not all tag values are indexed">Not all tag values are indexed</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#deprecated-routes" class="toc-h1 toc-link" data-title="DEPRECATED ROUTES">DEPRECATED ROUTES</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#check-whether-or-not-you-have-any-suppressed-numbers" class="toc-h2 toc-link" data-title="Check whether or not you have any Suppressed Numbers">Check whether or not you have any Suppressed Numbers</a>
                  </li>
                  <li>
                    <a href="#delete-a-contact-number-from-the-suppression-list-by-phone-number" class="toc-h2 toc-link" data-title="Delete a Contact Number from the Suppression List by phone number">Delete a Contact Number from the Suppression List by phone number</a>
                  </li>
                  <li>
                    <a href="#suppress-a-contact-number-by-phone-number" class="toc-h2 toc-link" data-title="Suppress a Contact Number by phone number">Suppress a Contact Number by phone number</a>
                  </li>
                  <li>
                    <a href="#get-the-active-company---deprecated" class="toc-h2 toc-link" data-title="Get the active Company - DEPRECATED">Get the active Company - DEPRECATED</a>
                  </li>
                  <li>
                    <a href="#get-a-specific-company---deprecated" class="toc-h2 toc-link" data-title="Get a specific Company - DEPRECATED">Get a specific Company - DEPRECATED</a>
                  </li>
                  <li>
                    <a href="#get-all-companies---deprecated" class="toc-h2 toc-link" data-title="Get all Companies - DEPRECATED">Get all Companies - DEPRECATED</a>
                  </li>
                  <li>
                    <a href="#create-a-company---deprecated" class="toc-h2 toc-link" data-title="Create a Company - DEPRECATED">Create a Company - DEPRECATED</a>
                  </li>
                  <li>
                    <a href="#update-a-company---deprecated" class="toc-h2 toc-link" data-title="Update a Company - DEPRECATED">Update a Company - DEPRECATED</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="Errors">Errors</a>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='https://retreaver.com/users/sign_up'>Sign Up for a Developer Key</a></li>
            <li><a href='https://learn.retreaver.com/'>Knowledge Base</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="introduction">Introduction</h1>

<p>The Retreaver Core API can be used to automate core business processes, like changing where calls are routed, and many other
features that would normally be accessed through our account portal.</p>

<p>If you’re looking for information on tracking visitors and displaying phone numbers on your landing pages, please see
our <a href="https://github.com/retreaver/retreaver-js">Retreaver.js</a> library.</p>

<p>The API can be used to automate core business processes, but does not currently support all functionality.</p>

<p><em>Please note: We’re currently working on a better, versioned replacement for this API. But don’t worry, this API isn’t going away.</em></p>

<h2 id="version">Version</h2>

<p>This is our <em>unversioned</em> API and for sake of clarity we’ll refer to it henceforth as:</p>

<p><code>Retreaver Core API</code></p>

<h2 id="multi-format">Multi-format</h2>

<p>The Retreaver Core API can be accessed by JSON or XML. Simply change the file extension and Content-Type header to match your preferences.</p>

<p>We recommend using JSON since XML is archaic, has high overhead, and is generally awful.</p>

<table>
  <thead>
    <tr>
      <th>Format</th>
      <th>Content-Type</th>
      <th>Extension</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>JSON</td>
      <td>application/json</td>
      <td>json</td>
    </tr>
    <tr>
      <td>XML</td>
      <td>text/xml</td>
      <td>xml</td>
    </tr>
  </tbody>
</table>

<h2 id="nomenclature">Nomenclature</h2>

<p>Retreaver has gone through many revisions and currently uses two new sets of terms to refer to objects. Please note, this API uses our Old nomenclature.</p>

<table>
  <thead>
    <tr>
      <th>Old</th>
      <th>Performance Marketing Edition</th>
      <th>Enterprise Edition</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Affiliate</td>
      <td>Publisher</td>
      <td>Source</td>
    </tr>
    <tr>
      <td>Target</td>
      <td>Buyer</td>
      <td>Contact Handler/Call Endpoint</td>
    </tr>
    <tr>
      <td>Target Group</td>
      <td>Buyer Group</td>
      <td>Handler Group</td>
    </tr>
  </tbody>
</table>

<h2 id="our-ids-vs-customer-ids">Our IDs vs Customer IDs</h2>

<p>For convenience, some objects can be accessed both by the IDs set by our customers and by our internal IDs.</p>

<p>Affiliates, Targets, and Campaigns can be accessed via customer editable IDs as “afid”, “tid”, and “cid” respectively.</p>

<p>The “id” property in the JSON/XML document refers to our internal ID.</p>

<table>
  <thead>
    <tr>
      <th>Object</th>
      <th>Our Internal ID URL</th>
      <th>Customer Editable ID URL</th>
      <th>Customer Editable ID Accessor</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Affiliate</td>
      <td>/affiliates/{id}</td>
      <td>/affiliates/afid/{afid}</td>
      <td>afid</td>
    </tr>
    <tr>
      <td>Target</td>
      <td>/targets/{id}</td>
      <td>/targets/tid/{tid}</td>
      <td>tid</td>
    </tr>
    <tr>
      <td>Campaign</td>
      <td>/campaigns/{id}</td>
      <td>/campaigns/cid/{cid}</td>
      <td>cid</td>
    </tr>
  </tbody>
</table>

<p>These URLs work with GET, PUT, and DELETE HTTP verbs.</p>

<p>Please note, in many sections of the documentation below, we are referring to the Customer Editable ID URL.</p>

<h2 id="paginated">Paginated</h2>

<p>Retreaver is a RESTful paginated API that returns 25 results per page. Each relevant index response will have a <a href="https://www.w3.org/wiki/LinkHeader">Link HTTP header</a> present.</p>

<p><code>Link: &lt;https://retreaver.com/calls.json?api_key=woofwoofwoof&amp;company_id=1&amp;sort_by=created_at&amp;order=asc&amp;page=6996&gt;; rel="last", &lt;https://retreaver.com/calls.json?api_key=woofwoofwoof&amp;company_id=1&amp;sort_by=created_at&amp;order=asc&amp;page=2&gt;; rel="next"</code></p>

<p>By parsing the Link header, you can determine the last, next, and previous pages.</p>

<h2 id="trees">Trees</h2>

<p>Please note, for brevity, in appropriate places we have truncated the API output by eliminating properties of certain objects. We’re also trying to save some trees in case someone actually tries to print this.</p>

<h2 id="script-example-exporting-recently-created-calls-via-retreaver-api">Script Example: Exporting recently created calls via Retreaver API</h2>

<p>This here is an example script for getting started with the API. It moves through the last 2 hours of calls on the campaign.</p>

<div class="highlight"><pre class="highlight ruby"><code><span class="c1"># Script Example: Exporting recently created calls via Retreaver API</span>
<span class="c1">#</span>
<span class="c1"># Implemented in Ruby</span>
<span class="c1">#</span>
<span class="c1"># Description:</span>
<span class="c1"># This script retrieves all calls from the last 2 hours using pagination.</span>
<span class="c1"># It includes performance benchmarking to help estimate execution time.</span>
<span class="c1">#</span>
<span class="c1"># How to run:</span>
<span class="c1"># 1. Save the script to a file retreaver_example.rb</span>
<span class="c1"># 2. Make sure you have ruby installed</span>
<span class="c1"># 3. Edit the file changing the API_KEY and COMPANY_ID</span>
<span class="c1"># 4. Run with ruby</span>
<span class="c1">#   $ ruby retreaver_example.rb</span>
<span class="c1">#</span>
<span class="c1"># Performance Benchmarks:</span>
<span class="c1"># - Sequential Processing: For an account with ~1.5k calls, the script takes</span>
<span class="c1">#   approximately 35 seconds (16 requests at ~2s each).</span>
<span class="c1">#</span>
<span class="c1"># Optimizing Throughput:</span>
<span class="c1"># - To improve performance, consider implementing parallel requests.</span>
<span class="c1"># - Using 4 concurrent threads can reduce the execution time for 1.5k calls</span>
<span class="c1">#   to roughly 10–15 seconds.</span>
<span class="c1"># - Note: Please consult with the Retreaver team for current concurrency limits</span>
<span class="c1">#   before implementing a high-thread-count solution.</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>
<span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'json'</span>
<span class="nb">require</span> <span class="s1">'benchmark'</span>

<span class="c1"># Configuration</span>
<span class="no">API_KEY</span> <span class="o">=</span> <span class="s2">"woofwoofwoof"</span>
<span class="no">COMPANY_ID</span> <span class="o">=</span> <span class="s2">"1"</span>

<span class="c1"># 2 hours in the past. Use iso8601 as a format</span>
<span class="c1"># 2026-02-25T18:08:31Z</span>
<span class="c1"># Note that the api accepts other params like</span>
<span class="c1"># updated_at_end, updated_at_start, created_at_end</span>
<span class="c1"># and that calls could be sorted in different ways. Consult the documentation.</span>
<span class="n">created_at_start</span> <span class="o">=</span> <span class="no">Time</span><span class="p">.</span><span class="nf">at</span><span class="p">(</span><span class="no">Time</span><span class="p">.</span><span class="nf">now</span><span class="p">.</span><span class="nf">to_i</span><span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="mi">3600</span><span class="p">).</span><span class="nf">utc</span><span class="p">.</span><span class="nf">iso8601</span>

<span class="n">per_page</span> <span class="o">=</span> <span class="mi">100</span>
<span class="c1"># We start with the base URL provided (requesting 100 per page)</span>
<span class="no">BASE_URL</span> <span class="o">=</span> <span class="s2">"https://api.retreaver.com/calls.json?api_key=</span><span class="si">#{</span><span class="no">API_KEY</span><span class="si">}</span><span class="s2">&amp;created_at_start=</span><span class="si">#{</span><span class="n">created_at_start</span><span class="si">}</span><span class="s2">&amp;company_id=</span><span class="si">#{</span><span class="no">COMPANY_ID</span><span class="si">}</span><span class="s2">&amp;per_page=</span><span class="si">#{</span><span class="n">per_page</span><span class="si">}</span><span class="s2">"</span>

<span class="k">def</span> <span class="nf">fetch_calls</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
  <span class="n">uri</span> <span class="o">=</span> <span class="no">URI</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
  <span class="n">response</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">get_response</span><span class="p">(</span><span class="n">uri</span><span class="p">)</span>

  <span class="k">if</span> <span class="n">response</span><span class="p">.</span><span class="nf">is_a?</span><span class="p">(</span><span class="no">Net</span><span class="o">::</span><span class="no">HTTPSuccess</span><span class="p">)</span>
    <span class="c1"># 1. Parse the JSON body</span>
    <span class="n">calls</span> <span class="o">=</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)</span>

    <span class="c1"># 2. Extract the 'next' link from the HTTP headers</span>
    <span class="c1"># Header looks like: &lt;url&gt;; rel="last", &lt;url&gt;; rel="next"</span>
    <span class="n">link_header</span> <span class="o">=</span> <span class="n">response</span><span class="p">[</span><span class="s1">'Link'</span><span class="p">]</span>
    <span class="n">next_url</span> <span class="o">=</span> <span class="kp">nil</span>

    <span class="k">if</span> <span class="n">link_header</span>
      <span class="n">links</span> <span class="o">=</span> <span class="n">link_header</span><span class="p">.</span><span class="nf">split</span><span class="p">(</span><span class="s1">','</span><span class="p">).</span><span class="nf">map</span><span class="p">(</span><span class="o">&amp;</span><span class="ss">:strip</span><span class="p">)</span>
      <span class="n">next_link</span> <span class="o">=</span> <span class="n">links</span><span class="p">.</span><span class="nf">find</span> <span class="p">{</span> <span class="o">|</span><span class="n">l</span><span class="o">|</span> <span class="n">l</span><span class="p">.</span><span class="nf">include?</span><span class="p">(</span><span class="s1">'rel="next"'</span><span class="p">)</span> <span class="p">}</span>
      <span class="n">next_url</span> <span class="o">=</span> <span class="n">next_link</span><span class="p">.</span><span class="nf">match</span><span class="p">(</span><span class="sr">/&lt;(.*)&gt;/</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span> <span class="k">if</span> <span class="n">next_link</span>
    <span class="k">end</span>

    <span class="p">{</span> <span class="ss">calls: </span><span class="n">calls</span><span class="p">,</span> <span class="ss">next_url: </span><span class="n">next_url</span> <span class="p">}</span>
  <span class="k">else</span>
    <span class="nb">puts</span> <span class="s2">"Error: </span><span class="si">#{</span><span class="n">response</span><span class="p">.</span><span class="nf">code</span><span class="si">}</span><span class="s2"> - </span><span class="si">#{</span><span class="n">response</span><span class="p">.</span><span class="nf">message</span><span class="si">}</span><span class="s2">"</span>
    <span class="kp">nil</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="n">all_calls</span> <span class="o">=</span> <span class="p">[]</span>

<span class="c1"># Execution with Benchmarking</span>
<span class="n">time</span> <span class="o">=</span> <span class="no">Benchmark</span><span class="p">.</span><span class="nf">realtime</span> <span class="k">do</span>
  <span class="n">current_url</span> <span class="o">=</span> <span class="no">BASE_URL</span>
  <span class="n">total_calls</span> <span class="o">=</span> <span class="mi">0</span>
  <span class="n">page_count</span> <span class="o">=</span> <span class="mi">0</span>

  <span class="nb">puts</span> <span class="s2">"Starting call retrieval..."</span>

  <span class="k">while</span> <span class="n">current_url</span>
    <span class="n">page_count</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">fetch_calls</span><span class="p">(</span><span class="n">current_url</span><span class="p">)</span>

    <span class="k">break</span> <span class="k">unless</span> <span class="n">result</span>

    <span class="n">all_calls</span><span class="p">.</span><span class="nf">concat</span><span class="p">(</span><span class="n">result</span><span class="p">[</span><span class="ss">:calls</span><span class="p">])</span>
    <span class="n">batch_size</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="ss">:calls</span><span class="p">].</span><span class="nf">length</span>
    <span class="n">total_calls</span> <span class="o">+=</span> <span class="n">batch_size</span>

    <span class="nb">puts</span> <span class="s2">"Page </span><span class="si">#{</span><span class="n">page_count</span><span class="si">}</span><span class="s2">: Processed </span><span class="si">#{</span><span class="n">batch_size</span><span class="si">}</span><span class="s2"> calls (Total: </span><span class="si">#{</span><span class="n">total_calls</span><span class="si">}</span><span class="s2">)"</span>

    <span class="c1"># Move to the next URL provided by the header</span>
    <span class="n">current_url</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="ss">:next_url</span><span class="p">]</span>

    <span class="c1"># Safety break if you want to test with just a few pages first</span>
    <span class="c1"># break if page_count &gt;= 5</span>
  <span class="k">end</span>

  <span class="nb">puts</span> <span class="s2">"</span><span class="se">\n</span><span class="s2">Finished! Total calls processed: </span><span class="si">#{</span><span class="n">total_calls</span><span class="si">}</span><span class="s2">"</span>
<span class="k">end</span>

<span class="nb">puts</span> <span class="s2">"Total time elapsed: </span><span class="si">#{</span><span class="n">time</span><span class="p">.</span><span class="nf">round</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="si">}</span><span class="s2"> seconds"</span>

<span class="nb">puts</span> <span class="s2">"</span><span class="se">\n</span><span class="s2">All data for calls available at 'all_calls' array with size </span><span class="si">#{</span><span class="n">all_calls</span><span class="si">}</span><span class="s2">"</span>

</code></pre></div>
<h2 id="data-retrieval--real-time-sync">Data Retrieval &amp; Real-Time Sync</h2>
<ol>
  <li>Batch Retrieval (Polling)
Retrieving a full day’s worth of data can take from a few seconds to several minutes, depending on call volume.</li>
</ol>

<p>Recommendation: For historical syncing, poll the API every 10 minutes to retrieve calls updated within that specific window.</p>

<p>Note: A single call record may be updated multiple times as it progresses through different lifecycle stages. High-frequency polling ensures you capture these state changes.</p>

<ol>
  <li>Real-Time Updates (Webhooks)
For immediate synchronization, we recommend using Retreaver Webhooks. This shifts your integration from a “Pull” to a “Push” model, reducing overhead and latency.</li>
</ol>

<p>Workflow: Create a webhook that triggers at the end of a call (after all pixels have fired).</p>

<p>Benefits: Instead of constantly polling, your system is instantly notified at key moments—such as when a call starts, when it ends, or during specific lifecycle events.</p>

<h2 id="benchmarks">Benchmarks</h2>

<h3 id="execution-logs-sequence-processing---1923-seconds-for-772-calls">Execution Logs: Sequence Processing - 19.23 seconds for ~772 calls</h3>

<p>Starting call retrieval…</p>

<p>Page 1: Processed 100 calls (Total: 100) <br />
Page 2: Processed 100 calls (Total: 200) <br />
Page 3: Processed 100 calls (Total: 300) <br />
Page 4: Processed 100 calls (Total: 400) <br />
Page 5: Processed 100 calls (Total: 500) <br />
Page 6: Processed 100 calls (Total: 600) <br />
Page 7: Processed 100 calls (Total: 700) <br />
Page 8: Processed 72 calls (Total: 772) <br /></p>

<p>Finished! Total calls processed: 772
Total time elapsed: 19.23 seconds</p>

<h3 id="execution-logs-parallel-processing---884-seconds-for-1000-calls-in-4-threads">Execution Logs: Parallel Processing - 8.84 seconds for ~1000 calls in 4 threads</h3>

<p>Thread 3 finished Page 4  (100 calls) <br />
Thread 0 finished Page 1  (100 calls) <br />
Thread 1 finished Page 2  (100 calls) <br />
Thread 2 finished Page 3  (100 calls) <br />
Thread 0 finished Page 6  (100 calls) <br />
Thread 3 finished Page 5  (100 calls) <br />
Thread 1 finished Page 7  (100 calls) <br />
Thread 2 finished Page 8  (100 calls) <br />
Thread 3 finished Page 10 (39 calls) <br />
Thread 0 finished Page 9  (100 calls) <br /></p>

<p>Final Result: 939 calls processed in 8.84 seconds.</p>

<h1 id="authentication">Authentication</h1>

<blockquote>
  <p>To authorize, use this code:</p>
</blockquote>

<div class="highlight"><pre class="highlight shell"><code><span class="c"># With cURL, you can just pass the correct API key and company_id with each request.</span>
curl <span class="s2">"https://api.retreaver.com/call.json?api_key=woofwoofwoof&amp;company_id=1"</span>
</code></pre></div>
<blockquote>
  <p>Make sure to replace <code>woofwoofwoof</code> with your API key.</p>
</blockquote>

<p>Retreaver uses API keys to allow access to the API. You can register a new Retreaver Core API key at our <a href="https://retreaver.com/users/sign_up">account portal</a>.</p>

<p>If you have a Retreaver account, you can find your Core API key at the bottom of your <a href="https://retreaver.com/users/edit">user page</a>.</p>

<p>Retreaver expects for the API key to be included in all API requests to the server in a query string parameter that looks like the following:</p>

<p><code>?api_key=woofwoofwoof</code></p>

<aside class="notice">
You must replace <code>woofwoofwoof</code> with your personal API key.
</aside>

<p>If you have access to more than one company on Retreaver, you must also pass in the company ID of the company you want to work with:</p>

<p><code>?api_key=woofwoofwoof&amp;company_id=1</code></p>

<p>You can <a href="https://retreaver.com/company">find your company ID here</a>. We suggest passing it in anyways.</p>

<aside class="warning">
You should <strong>never, ever expose your Retreaver Core API key publicly</strong> as it can be used to access your entire Retreaver account without restriction!
</aside>

<p>If you suspect your API key has been publicly exposed, <a href="https://support.retreaver.com/faq/how-do-i-get-my-api-key/">reset it</a>.</p>

<h1 id="calls">Calls</h1>

<p>Or, more precisely, phone calls.</p>

<h2 id="v1---get-recent-calls">V1 - Get recent Calls</h2>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="s2">"https://api.retreaver.com/calls.json?api_key=woofwoofwoof&amp;company_id=1"</span>
</code></pre></div>
<blockquote>
  <p>The above command returns JSON structured like this:</p>
</blockquote>

<div class="highlight"><pre class="highlight json"><code><span class="p">[{</span><span class="w">
   </span><span class="nl">"call"</span><span class="p">:{</span><span class="w">
      </span><span class="nl">"uuid"</span><span class="p">:</span><span class="s2">"addcf985-017e-4962-be34-cf5d55e74afc"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"caller"</span><span class="p">:</span><span class="s2">"+17195220377"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"caller_zip"</span><span class="p">:</span><span class="s2">"80920"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"caller_state"</span><span class="p">:</span><span class="s2">"CO"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"caller_city"</span><span class="p">:</span><span class="s2">"COLORADO SPRINGS"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"caller_country"</span><span class="p">:</span><span class="s2">"US"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"dialed_call_duration"</span><span class="p">:</span><span class="mi">193</span><span class="p">,</span><span class="w">
      </span><span class="nl">"total_duration"</span><span class="p">:</span><span class="mi">204</span><span class="p">,</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="s2">"finished"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"start_time"</span><span class="p">:</span><span class="s2">"2012-04-29T12:29:40Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"forwarded_time"</span><span class="p">:</span><span class="s2">"2012-04-29T12:29:51Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"end_time"</span><span class="p">:</span><span class="s2">"2012-04-29T12:32:46Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"cid"</span><span class="p">:</span><span class="s2">"0003"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"afid"</span><span class="p">:</span><span class="s2">"03994"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sid"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"dialed_number"</span><span class="p">:</span><span class="s2">"+18668987878"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="s2">"2012-04-29T12:29:46Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created_at"</span><span class="p">:</span><span class="s2">"2012-04-29T12:29:40Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"recording_url"</span><span class="p">:</span><span class="s2">"http://callpixels.com/recordings/87d43a5f5c88041687f9fd1bb6a58d6f/call_17192096019_1342303189.mp3"</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">},</span><span class="w">
</span><span class="p">{</span><span class="w">
   </span><span class="nl">"call"</span><span class="p">:{</span><span class="w">
      </span><span class="nl">"uuid"</span><span class="p">:</span><span class="s2">"8ae0aa38-0173-4e62-5342-cf5d55e74afe"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"caller"</span><span class="p">:</span><span class="s2">"+14166686981"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"caller_zip"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"caller_state"</span><span class="p">:</span><span class="s2">"ON"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"caller_city"</span><span class="p">:</span><span class="s2">"TORONTO"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"caller_country"</span><span class="p">:</span><span class="s2">"CA"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"dialed_call_duration"</span><span class="p">:</span><span class="mi">33</span><span class="p">,</span><span class="w">
      </span><span class="nl">"total_duration"</span><span class="p">:</span><span class="mi">40</span><span class="p">,</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="s2">"finished"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"start_time"</span><span class="p">:</span><span class="s2">"2012-04-29T12:29:40Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"forwarded_time"</span><span class="p">:</span><span class="s2">"2012-04-29T12:29:51Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"end_time"</span><span class="p">:</span><span class="s2">"2012-04-29T12:32:46Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"cid"</span><span class="p">:</span><span class="s2">"0003"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"afid"</span><span class="p">:</span><span class="s2">"03994"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sid"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"dialed_number"</span><span class="p">:</span><span class="s2">"+18668987878"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="s2">"2012-04-29T12:29:46Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created_at"</span><span class="p">:</span><span class="s2">"2012-04-29T12:29:40Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"recording_url"</span><span class="p">:</span><span class="s2">"http://callpixels.com/recordings/87d43a5f5c88041687f9fd1bb6a58d6f/call_17192096019_1342303189.mp3"</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre></div>
<p>Provides access to the call log. The call log contains all the Calls which have been made through Numbers under your control.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code>GET https://api.retreaver.com/calls.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Format</th>
      <th>Default</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>company_id</td>
      <td><code>123456</code></td>
      <td> </td>
      <td>Return any Calls associated to the specific company IF you have access to that company.</td>
    </tr>
    <tr>
      <td>created_at_start</td>
      <td><code>YYYY-MM-DDTHH:MM:SS+HH:MM</code></td>
      <td>-4712-01-01T00:00:00+00:00</td>
      <td>Return any Calls that were created after this date.</td>
    </tr>
    <tr>
      <td>created_at_end</td>
      <td><code>YYYY-MM-DDTHH:MM:SS+HH:MM</code></td>
      <td>4712-01-01T00:00:00+00:00</td>
      <td>Return any Calls that were created before this date.</td>
    </tr>
    <tr>
      <td>sort_by</td>
      <td><code>created_at</code> or <code>updated_at</code></td>
      <td><code>created_at</code></td>
      <td>Calls will be sorted by this value. If you only want recently updated Calls, sort by <code>updated_at</code>. Note that calls sorted by <code>updated_at</code> will forcefully be returned in <code>desc</code> order even if order parameter is <code>asc</code>.</td>
    </tr>
    <tr>
      <td>order</td>
      <td><code>asc</code> or <code>desc</code></td>
      <td><code>desc</code></td>
      <td>Calls will be sorted in ascending or descending order of their <code>sort_by</code> column.</td>
    </tr>
    <tr>
      <td>caller</td>
      <td><code>%2B13015236555</code></td>
      <td> </td>
      <td>Return only calls from the specified caller number.</td>
    </tr>
    <tr>
      <td>client_afid</td>
      <td><code>123456</code></td>
      <td> </td>
      <td>Return calls for an affiliate.</td>
    </tr>
    <tr>
      <td>client_cid</td>
      <td><code>123456</code></td>
      <td> </td>
      <td>Return calls for a specific campaign.</td>
    </tr>
    <tr>
      <td>client_tid</td>
      <td><code>123456</code></td>
      <td> </td>
      <td>Return calls for a specific target.</td>
    </tr>
    <tr>
      <td>sub_id</td>
      <td><code>123456</code></td>
      <td> </td>
      <td>Return calls for a affiliate Sub ID.</td>
    </tr>
  </tbody>
</table>

<h2 id="v1---enumerate-through-all-calls">V1 - Enumerate through all calls</h2>

<blockquote>
  <p>First page…</p>
</blockquote>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="s2">"https://api.retreaver.com/calls.json?api_key=woofwoofwoof&amp;company_id=1&amp;sort_by=created_at&amp;order=asc&amp;page=1"</span>
</code></pre></div>
<blockquote>
  <p>Second page…</p>
</blockquote>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="s2">"https://api.retreaver.com/calls.json?api_key=woofwoofwoof&amp;company_id=1&amp;sort_by=created_at&amp;order=asc&amp;page=2"</span>
</code></pre></div>
<blockquote>
  <p>etc…</p>
</blockquote>

<p>To fetch all Calls on your Account, use the <code>sort_by</code> and <code>order</code> params to return your Calls in the order they were
created, and then paginate through all your calls.</p>

<h3 id="http-request-1">HTTP Request</h3>

<p><code>https://api.retreaver.com/calls.json?api_key=woofwoofwoof&amp;company_id=1&amp;sort_by=created_at&amp;order=asc&amp;page=1</code></p>

<p><code>https://api.retreaver.com/calls.json?api_key=woofwoofwoof&amp;company_id=1&amp;sort_by=created_at&amp;order=asc&amp;page=2</code></p>

<h2 id="v1---enumerate-through-calls-in-a-specific-datetime-range">V1 - Enumerate through Calls in a specific date/time range.</h2>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="s2">"https://api.retreaver.com/calls.json?api_key=woofwoofwoof&amp;company_id=1&amp;created_at_start=2016-01-01T00:00:00+00:00&amp;created_at_end=2016-01-02T00:00:00+00:00&amp;page=1"</span>
</code></pre></div>
<p>By passing in <code>created_at_start</code> and <code>created_at_end</code> parameters, you can control the start and end time of Calls returned.</p>

<p>The timestamp should be formatted according to <a href="https://validator.w3.org/feed/docs/error/InvalidRFC3339Date.html">rfc3339</a></p>

<h3 id="http-request-2">HTTP Request</h3>

<p><code>GET https://api.retreaver.com/calls.json?api_key=woofwoofwoof&amp;company_id=1&amp;created_at_start=2016-01-01T00:00:00+00:00&amp;created_at_end=2016-01-02T00:00:00+00:00&amp;page=1</code></p>

<h2 id="v1---get-a-specific-call">V1 - Get a specific Call</h2>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="s2">"https://api.retreaver.com/calls/addcf985-017e-4962-be34-cf5d55e74afc.json?api_key=woofwoofwoof&amp;company_id=1"</span>
</code></pre></div>
<blockquote>
  <p>The above command returns JSON structured like this:</p>
</blockquote>

<div class="highlight"><pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"call"</span><span class="p">:{</span><span class="w">
      </span><span class="nl">"uuid"</span><span class="p">:</span><span class="s2">"addcf985-017e-4962-be34-cf5d55e74afc"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"caller"</span><span class="p">:</span><span class="s2">"+17195220377"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"caller_zip"</span><span class="p">:</span><span class="s2">"80920"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"caller_state"</span><span class="p">:</span><span class="s2">"CO"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"caller_city"</span><span class="p">:</span><span class="s2">"COLORADO SPRINGS"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"caller_country"</span><span class="p">:</span><span class="s2">"US"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"dialed_call_duration"</span><span class="p">:</span><span class="mi">193</span><span class="p">,</span><span class="w">
      </span><span class="nl">"total_duration"</span><span class="p">:</span><span class="mi">204</span><span class="p">,</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="s2">"finished"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"start_time"</span><span class="p">:</span><span class="s2">"2012-04-29T12:29:40Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"forwarded_time"</span><span class="p">:</span><span class="s2">"2012-04-29T12:29:51Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"end_time"</span><span class="p">:</span><span class="s2">"2012-04-29T12:32:46Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"cid"</span><span class="p">:</span><span class="s2">"0003"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"afid"</span><span class="p">:</span><span class="s2">"03994"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sid"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"dialed_number"</span><span class="p">:</span><span class="s2">"+18668987878"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="s2">"2012-04-29T12:29:46Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created_at"</span><span class="p">:</span><span class="s2">"2012-04-29T12:29:40Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"recording_url"</span><span class="p">:</span><span class="s2">"http://callpixels.com/recordings/87d43a5f5c88041687f9fd1bb6a58d6f/call_17192096019_1342303189.mp3"</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Calls can be accessed by their UUID.</p>

<h3 id="http-request-3">HTTP Request</h3>

<p><code>GET https://api.retreaver.com/calls/addcf985-017e-4962-be34-cf5d55e74afc.json?api_key=woofwoofwoof</code></p>

<h2 id="v2---get-recent-calls">V2 - Get recent Calls</h2>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="s2">"https://api.retreaver.com/api/v2/calls.json?api_key=woofwoofwoof"</span>
</code></pre></div>
<blockquote>
  <p>The above command returns JSON structured like this:</p>
</blockquote>

<div class="highlight"><pre class="highlight json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"call"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f1abfb78-ab8a-4146-9946-8169fbcc6d6c"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"caller"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+13015236555"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"caller_number_sent"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"caller_zip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"28379"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"caller_state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NC"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"caller_city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rockingham"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"caller_country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"dialed_call_duration"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nl">"total_duration"</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ivr_duration"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
      </span><span class="nl">"hold_duration"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"finished"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-11-04T16:52:18.034Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"forwarded_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-11-04T16:52:25.423Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"end_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-11-04T16:52:32.882Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"cid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"afid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"dialed_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+12263399112"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"revenue"</span><span class="p">:</span><span class="w"> </span><span class="mf">5.0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"payout"</span><span class="p">:</span><span class="w"> </span><span class="mf">5.0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"postback_value"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"network_sale_timer_fired"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"affiliate_sale_timer_fired"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"target_sale_timer_fired"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"hung_up_by"</span><span class="p">:</span><span class="w"> </span><span class="s2">"caller"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"duplicate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"payable_duplicate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"receivable_duplicate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"callpixels_target_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">27449</span><span class="p">,</span><span class="w">
      </span><span class="nl">"system_target_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">27449</span><span class="p">,</span><span class="w">
      </span><span class="nl">"system_campaign_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">9872</span><span class="p">,</span><span class="w">
      </span><span class="nl">"system_affiliate_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"fired_pixels_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
      </span><span class="nl">"charge_total"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.08"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"keys_pressed"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"1"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"repeat"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"affiliate_repeat"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"target_repeat"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"number_repeat"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"visitor_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nl">"conversions_determined_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-11-04T16:52:54.744Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-11-04T16:53:00.756Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-11-04T16:52:18.177Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"billable_minutes"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"upstream_call_uuid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"downstream_call_uuids"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
      </span><span class="nl">"target_group"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1639</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Retreaver Team"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"recording_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+18886064349"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"converted"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"payable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"receivable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"conversion_seconds"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"tid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"attempt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0192f817-6fdc-f8b3-eb07-526dd16e2ade,0192f817-9147-eee3-25ea-e189df86dc6e"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"geo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"301,us,us-28379,us-nc"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0192f817-6fdc-f8b3-eb07-526dd16e2ade,0192f817-9147-eee3-25ea-e189df86dc6e"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"request_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0192f817-6fdc-f8b3-eb07-526dd16e2ade,0192f817-9147-eee3-25ea-e189df86dc6e"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"system_target_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"27449"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"fired_pixels"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"fired_pixel"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fire_order"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"batch_uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"39d94d6b-639a-486b-bb21-dbba5949dd2e"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-11-04T16:52:55.182Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fired_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"new"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"webhook_name"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"fired_pixel"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fire_order"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"batch_uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"343ccf9b-b3a1-4cd3-b2de-a351dcf40661"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-11-04T16:52:26.948Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fired_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-11-04T16:52:26.947Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fired"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"webhook_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Webhook"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"fired_pixel"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fire_order"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"batch_uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4ef5f708-aa5f-4918-9790-ffbe890a517d"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-11-04T16:52:27.154Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fired_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-11-04T16:52:27.087Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fired"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"webhook_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Webhook"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"fired_pixel"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fire_order"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"batch_uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"982e0d22-dd8e-4476-8e89-d967285a6929"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-11-04T16:52:18.589Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fired_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-11-04T16:52:18.533Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fired"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"webhook_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Webhook"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"via"</span><span class="p">:</span><span class="w"> </span><span class="s2">"inbound-dial"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"rescued"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"campaign_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">9872</span><span class="p">,</span><span class="w">
      </span><span class="nl">"campaign_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Retreaver Main - Sales &amp; Support"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"number_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4906092</span><span class="p">,</span><span class="w">
      </span><span class="nl">"target_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">27449</span><span class="p">,</span><span class="w">
      </span><span class="nl">"affiliate_name"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"connected"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"profit_gross"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.08"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"profit_net"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"target_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Taylor Anderson - Sales - +12263399112"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"time_to_call_in_seconds"</span><span class="p">:</span><span class="w"> </span><span class="mi">168096</span><span class="p">,</span><span class="w">
      </span><span class="nl">"time_to_connect_in_seconds"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w">
      </span><span class="nl">"total_cost"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.08"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"call"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f6e88162-c6f9-4dd5-9739-652bdfc86874"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"caller"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+13015236555"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"caller_number_sent"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"caller_zip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"28379"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"caller_state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NC"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"caller_city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rockingham"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"caller_country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"dialed_call_duration"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"total_duration"</span><span class="p">:</span><span class="w"> </span><span class="mi">31</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ivr_duration"</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w">
      </span><span class="nl">"hold_duration"</span><span class="p">:</span><span class="w"> </span><span class="mi">17</span><span class="p">,</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"finished"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-11-04T16:51:41.815Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"forwarded_time"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"end_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-11-04T16:52:14.092Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"cid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"afid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"dialed_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+16477159443"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"revenue"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"payout"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"postback_value"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"network_sale_timer_fired"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"affiliate_sale_timer_fired"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"target_sale_timer_fired"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"hung_up_by"</span><span class="p">:</span><span class="w"> </span><span class="s2">"caller"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"duplicate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"payable_duplicate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"receivable_duplicate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"callpixels_target_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"system_target_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"system_campaign_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">9872</span><span class="p">,</span><span class="w">
      </span><span class="nl">"system_affiliate_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"fired_pixels_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
      </span><span class="nl">"charge_total"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.07"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"keys_pressed"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"1"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"repeat"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"affiliate_repeat"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"target_repeat"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"number_repeat"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"visitor_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nl">"conversions_determined_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-11-04T16:52:37.091Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-11-04T16:52:37.170Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-11-04T16:51:41.969Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"billable_minutes"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"upstream_call_uuid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"downstream_call_uuids"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
      </span><span class="nl">"target_group"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
      </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+18886064349"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"converted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"payable"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"receivable"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"conversion_seconds"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"tid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"attempt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0192f816-e1ec-0db1-d23a-40362aa6bb75,0192f816-ff94-522c-ee88-7011550a8066"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"geo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"301,us,us-28379,us-nc"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"request_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0192f816-e1ec-0db1-d23a-40362aa6bb75,0192f816-ff94-522c-ee88-7011550a8066"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"fired_pixels"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"fired_pixel"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fire_order"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"batch_uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e2a0b1ff-99bb-469d-9feb-c0f4bb8312e4"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-11-04T16:52:37.296Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fired_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"new"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"webhook_name"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"fired_pixel"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fire_order"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"batch_uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"35ef3cf1-771b-46cf-9a32-514c61e21530"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-11-04T16:51:42.267Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fired_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-11-04T16:51:42.197Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fired"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"webhook_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Webhook"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"fired_pixel"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fire_order"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"batch_uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"48553bc2-e979-432e-9d21-e78870175e7a"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-11-04T16:51:50.561Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fired_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-11-04T16:51:50.560Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fired"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"webhook_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Webhook"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"fired_pixel"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fire_order"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"batch_uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6c0ca9ce-1b07-4216-8a95-dacd98a29230"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-11-04T16:51:49.728Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fired_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-11-04T16:51:49.728Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fired"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"webhook_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Webhook"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"fired_pixel"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fire_order"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"batch_uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"80871747-a08e-4ed9-9868-195ee2717663"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-11-04T16:51:49.851Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fired_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-11-04T16:51:49.787Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fired"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"webhook_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Webhook"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"via"</span><span class="p">:</span><span class="w"> </span><span class="s2">"inbound-dial"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"rescued"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"campaign_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">9872</span><span class="p">,</span><span class="w">
      </span><span class="nl">"campaign_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Retreaver Main - Sales &amp; Support"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"number_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4906092</span><span class="p">,</span><span class="w">
      </span><span class="nl">"target_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"affiliate_name"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"connected"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"profit_gross"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.07"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"profit_net"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"target_name"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"time_to_call_in_seconds"</span><span class="p">:</span><span class="w"> </span><span class="mi">168132</span><span class="p">,</span><span class="w">
      </span><span class="nl">"time_to_connect_in_seconds"</span><span class="p">:</span><span class="w"> </span><span class="mi">31</span><span class="p">,</span><span class="w">
      </span><span class="nl">"total_cost"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.07"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p>Provides access to the call log. The call log contains all the Calls which have been made through Numbers under your control.</p>

<h3 id="whats-new-in-v2">What’s new in V2?</h3>

<p>In addition to all of the attributes, that were returned by V1, this version also returns the following fields:</p>

<table>
  <thead>
    <tr>
      <th>attribute</th>
      <th>Format</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>affiliate_name</td>
      <td><code>"abcdef"</code></td>
      <td>The full name of the affiliate that sent the call.</td>
    </tr>
    <tr>
      <td>campaign_id</td>
      <td><code>123456</code></td>
      <td>The ID of the campaign the call was sent to.</td>
    </tr>
    <tr>
      <td>campaign_name</td>
      <td><code>"abcdef"</code></td>
      <td>The name of the campaign the call was sent to.</td>
    </tr>
    <tr>
      <td>connected</td>
      <td><code>true</code> or <code>false</code></td>
      <td>Whether the caller was successfully connected to a target.</td>
    </tr>
    <tr>
      <td>number_id</td>
      <td><code>123456</code></td>
      <td>The ID of the number that the call was received on.</td>
    </tr>
    <tr>
      <td>profit_gross</td>
      <td><code>0.00</code></td>
      <td>The gross profit on the call. This is calculated based on the following formula: <code>(revenue of the call) - (payout of the call) - (total cost of the call)</code></td>
    </tr>
    <tr>
      <td>profit_net</td>
      <td><code>0.00</code></td>
      <td>The net profit on the call. This is calculated based on the following formula: <code>(revenue of the call) - (payout of the call)</code></td>
    </tr>
    <tr>
      <td>target_id</td>
      <td><code>123456</code></td>
      <td>The target that the caller was connected to.</td>
    </tr>
    <tr>
      <td>target_name</td>
      <td><code>"John Doe"</code></td>
      <td>The full name of the target that the caller was connected to.</td>
    </tr>
    <tr>
      <td>time_to_call_in_seconds</td>
      <td><code>10</code></td>
      <td>The time it took for the caller to actually make the call.</td>
    </tr>
    <tr>
      <td>time_to_connect_in_seconds</td>
      <td><code>10</code></td>
      <td>The time it took for the caller to get connected to a buyer. This is calculated based on the following formula: <code>(IVR duration of the call) + (hold duration of the call)</code></td>
    </tr>
    <tr>
      <td>total_cost</td>
      <td><code>0.00</code></td>
      <td>The total cost of the call.</td>
    </tr>
  </tbody>
</table>

<h3 id="http-request-4">HTTP Request</h3>

<p><code>GET https://api.retreaver.com/api/v2/calls.json?api_key=woofwoofwoof</code></p>

<h3 id="query-parameters-1">Query Parameters</h3>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Format</th>
      <th>Default</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>company_id</td>
      <td><code>123456</code></td>
      <td> </td>
      <td>Return any Calls associated to the specific company IF you have access to that company.</td>
    </tr>
    <tr>
      <td>created_at_start</td>
      <td><code>YYYY-MM-DDTHH:MM:SS+HH:MM</code></td>
      <td>-4712-01-01T00:00:00+00:00</td>
      <td>Return any Calls that were created after this date.</td>
    </tr>
    <tr>
      <td>created_at_end</td>
      <td><code>YYYY-MM-DDTHH:MM:SS+HH:MM</code></td>
      <td>4712-01-01T00:00:00+00:00</td>
      <td>Return any Calls that were created before this date.</td>
    </tr>
    <tr>
      <td>sort_by</td>
      <td><code>created_at</code> or <code>updated_at</code></td>
      <td><code>created_at</code></td>
      <td>Calls will be sorted by this value. If you only want recently updated Calls, sort by <code>updated_at</code>. Note that calls sorted by <code>updated_at</code> will forcefully be returned in <code>desc</code> order even if order parameter is <code>asc</code>.</td>
    </tr>
    <tr>
      <td>order</td>
      <td><code>asc</code> or <code>desc</code></td>
      <td><code>desc</code></td>
      <td>Calls will be sorted in ascending or descending order of their <code>sort_by</code> column.</td>
    </tr>
    <tr>
      <td>caller</td>
      <td><code>%2B13015236555</code></td>
      <td> </td>
      <td>Return only calls from the specified caller number.</td>
    </tr>
    <tr>
      <td>client_afid</td>
      <td><code>123456</code></td>
      <td> </td>
      <td>Return calls for an affiliate.</td>
    </tr>
    <tr>
      <td>client_cid</td>
      <td><code>123456</code></td>
      <td> </td>
      <td>Return calls for a specific campaign.</td>
    </tr>
    <tr>
      <td>client_tid</td>
      <td><code>123456</code></td>
      <td> </td>
      <td>Return calls for a specific target.</td>
    </tr>
    <tr>
      <td>sub_id</td>
      <td><code>123456</code></td>
      <td> </td>
      <td>Return calls for a affiliate Sub ID.</td>
    </tr>
    <tr>
      <td>call_flow_events</td>
      <td>true/false</td>
      <td>false</td>
      <td>Returns the call flow events of what happened during the call</td>
    </tr>
  </tbody>
</table>

<h2 id="v2---enumerate-through-all-calls">V2 - Enumerate through all calls</h2>

<blockquote>
  <p>First page…</p>
</blockquote>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="s2">"https://api.retreaver.com/api/v2/calls.json?api_key=woofwoofwoof&amp;page=1"</span>
</code></pre></div>
<blockquote>
  <p>Second page…</p>
</blockquote>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="s2">"https://api.retreaver.com/api/v2/calls.json?api_key=woofwoofwoof&amp;page=2"</span>
</code></pre></div>
<blockquote>
  <p>etc…</p>
</blockquote>

<p>To fetch all Calls on your Account, use the <code>sort_by</code> and <code>order</code> params to return your Calls in the order they were
created, and then paginate through all your calls.</p>

<h3 id="http-request-5">HTTP Request</h3>

<p><code>https://api.retreaver.com/api/v2/calls.json?api_key=woofwoofwoof&amp;company_id=1&amp;sort_by=created_at&amp;order=asc&amp;page=1</code></p>

<p><code>https://api.retreaver.com/api/v2/calls.json?api_key=woofwoofwoof&amp;company_id=1&amp;sort_by=created_at&amp;order=asc&amp;page=2</code></p>

<h2 id="v2---enumerate-through-calls-in-a-specific-datetime-range">V2 - Enumerate through Calls in a specific date/time range.</h2>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="s2">"https://api.retreaver.com/calls.json?api_key=woofwoofwoof&amp;company_id=1&amp;created_at_start=2016-01-01T00:00:00+00:00&amp;created_at_end=2016-01-02T00:00:00+00:00&amp;page=1"</span>
</code></pre></div>
<p>By passing in <code>created_at_start</code> and <code>created_at_end</code> parameters, you can control the start and end time of Calls returned.</p>

<p>The timestamp should be formatted according to <a href="https://validator.w3.org/feed/docs/error/InvalidRFC3339Date.html">rfc3339</a></p>

<h3 id="http-request-6">HTTP Request</h3>

<p><code>GET https://api.retreaver.com/api/v2/calls.json?api_key=woofwoofwoof&amp;company_id=1&amp;created_at_start=2016-01-01T00:00:00+00:00&amp;created_at_end=2016-01-02T00:00:00+00:00&amp;page=1</code></p>

<h2 id="v2---get-a-specific-call">V2 - Get a specific Call</h2>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="s2">"https://api.retreaver.com/api/v2/calls/94079290-93f3-4527-9e78-88653aaf3c49.json?api_key=woofwoofwoof"</span>
</code></pre></div>
<blockquote>
  <p>The above command returns JSON structured like this:</p>
</blockquote>

<div class="highlight"><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"call"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"94079290-93f3-4527-9e78-88653aaf3c49"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"caller"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+13015236555"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"caller_number_sent"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"caller_zip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"28379"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"caller_state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NC"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"caller_city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rockingham"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"caller_country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"dialed_call_duration"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"total_duration"</span><span class="p">:</span><span class="w"> </span><span class="mi">43</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ivr_duration"</span><span class="p">:</span><span class="w"> </span><span class="mi">26</span><span class="p">,</span><span class="w">
    </span><span class="nl">"hold_duration"</span><span class="p">:</span><span class="w"> </span><span class="mi">17</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"finished"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-11-04T16:46:10.400Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"forwarded_time"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"end_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-11-04T16:46:54.037Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"cid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"afid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"sid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"dialed_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+16477159443"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"revenue"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"payout"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"postback_value"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"network_sale_timer_fired"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"affiliate_sale_timer_fired"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"target_sale_timer_fired"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"hung_up_by"</span><span class="p">:</span><span class="w"> </span><span class="s2">"caller"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"duplicate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"payable_duplicate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"receivable_duplicate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"callpixels_target_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"system_target_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"system_campaign_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">9872</span><span class="p">,</span><span class="w">
    </span><span class="nl">"system_affiliate_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fired_pixels_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="nl">"charge_total"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.07"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"keys_pressed"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"1"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"repeat"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"affiliate_repeat"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"target_repeat"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"number_repeat"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"visitor_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"conversions_determined_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-11-04T16:47:14.698Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-11-04T16:47:14.944Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-11-04T16:46:10.547Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"billable_minutes"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"upstream_call_uuid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"downstream_call_uuids"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nl">"target_group"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
    </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+18886064349"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"converted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"payable"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"receivable"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"conversion_seconds"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"geo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"301,us,us-28379,us-nc"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"request_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0192f811-d35d-85a4-7722-b3e39a2b3b6e,0192f812-0a4b-ab38-b471-e8332fac7ceb"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"robodial_blacklist"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"fired_pixels"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"fired_pixel"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"fire_order"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"batch_uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8530a03a-a661-4247-b80c-d4f3e4a52802"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-11-04T16:47:15.071Z"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"fired_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"new"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"webhook_name"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"fired_pixel"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"fire_order"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"batch_uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dce85836-8b98-4b03-91f6-b29ca9494aa9"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-11-04T16:46:10.937Z"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"fired_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-11-04T16:46:10.793Z"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fired"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"webhook_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Webhook 1"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"fired_pixel"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"fire_order"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"batch_uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c1b0c797-00bc-43ae-a5c4-4f58b2aa9278"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-11-04T16:46:24.788Z"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"fired_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-11-04T16:46:24.787Z"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fired"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"webhook_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Webhook 2"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"fired_pixel"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"fire_order"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"batch_uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3c117e83-6d94-43fa-971b-25e3599e59f9"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-11-04T16:46:24.920Z"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"fired_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-11-04T16:46:24.849Z"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fired"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"webhook_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Webhook 3"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"fired_pixel"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"fire_order"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"batch_uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7023c382-a52c-42f1-9339-a69e03942d5d"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-11-04T16:46:25.874Z"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"fired_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-11-04T16:46:25.873Z"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fired"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"webhook_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Webhook 4"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"via"</span><span class="p">:</span><span class="w"> </span><span class="s2">"inbound-dial"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"rescued"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"campaign_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">9872</span><span class="p">,</span><span class="w">
    </span><span class="nl">"campaign_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Retreaver Main - Sales &amp; Support"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"number_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4906092</span><span class="p">,</span><span class="w">
    </span><span class="nl">"target_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"affiliate_name"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"connected"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"profit_gross"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.07"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"profit_net"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"target_name"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"time_to_call_in_seconds"</span><span class="p">:</span><span class="w"> </span><span class="mi">168463</span><span class="p">,</span><span class="w">
    </span><span class="nl">"time_to_connect_in_seconds"</span><span class="p">:</span><span class="w"> </span><span class="mi">43</span><span class="p">,</span><span class="w">
    </span><span class="nl">"total_cost"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.07"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Calls can be accessed by their UUID.</p>

<h3 id="http-request-7">HTTP Request</h3>

<p><code>GET https://api.retreaver.com/api/v2/calls/addcf985-017e-4962-be34-cf5d55e74afc.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<h2 id="v3---calls">V3 - Calls</h2>

<p>V3 follows the same behavior as V2. Refer to it for specific calls and usage.</p>

<p>Check below for the differences</p>

<h3 id="whats-new-in-v3">What’s new in V3?</h3>

<ol>
  <li>When requesting a call the number property is no longer returned as string but as an object containing information
about the number like its name and the string representation</li>
</ol>

<blockquote>
  <p>V2</p>
</blockquote>

<div class="highlight"><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"call"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+18886064349"</span><span class="p">,</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
  <p>V3</p>
</blockquote>

<div class="highlight"><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"call"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+18886064349"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Publisher Joe Number"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<h2 id="call-data-writing">Call Data Writing</h2>

<p>Retreaver users can create data posting links that give publishers the ability to apply tags to an inbound caller using call data writing, these tags can be applied at any time, either before or after a call has been processed within a Retreaver campaign.</p>

<p>Call data writing is typically used when you need to apply tags to calls before connecting the caller to a campaign, or before transferring the call to another agent.</p>

<p>Check our guide: <a href="https://help.retreaver.com/hc/en-us/articles/360034356152-Publisher-Data-Posting-Applying-Tags-to-Calls-using-Call-Data-Writing">Applying Tags to Calls using Call Data Writing</a></p>

<h3 id="available-on-retreaverdatacom-domain">Available on retreaverdata.com domain</h3>

<p>Note that all requests must be made to <strong>retreaverdata.com</strong>.</p>

<h3 id="methods">Methods</h3>

<p>Requests could be made through POST and GET</p>

<p>When using GET place the params in the URL</p>

<blockquote>
  <p>GET</p>
</blockquote>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="s2">"https://reteaverdata.com/data_writing/:postback_key_uuid?caller_number=:caller_number&amp;age=39&amp;utm_campaign=auto"</span>
</code></pre></div>
<blockquote>
  <p>POST</p>
</blockquote>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="nt">-X</span> POST <span class="s2">"https://reteaverdata.com/data_writing"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="s1">'{
    "key": postback_key_uuid,
    "caller_number": :caller_number,
    "age": "39",
    "utm_campaign": "auto"
  }'</span>
</code></pre></div>
<blockquote>
  <p>Example Response with call_uuid</p>
</blockquote>

<div class="highlight"><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"tag_values"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"age"</span><span class="p">:</span><span class="s2">"39"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_campaign"</span><span class="p">:</span><span class="s2">"auto"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"call_uuid"</span><span class="p">:</span><span class="s2">"9b653cf0-4835-493b-860c-aed9b7af2a4a"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="s2">"completed call found, tags applied"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
  <p>Example Response with caller_number</p>
</blockquote>

<div class="highlight"><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"tag_values"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"age"</span><span class="p">:</span><span class="s2">"39"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_campaign"</span><span class="p">:</span><span class="s2">"auto"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"caller_number"</span><span class="p">:</span><span class="s2">"+3569878933094"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="s2">"call not found, tags stored"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<h3 id="http-request-8">HTTP Request</h3>

<p><code>POST/GET https://retreaverdata.com/data_writing</code></p>

<h3 id="parameters">Parameters</h3>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Type</th>
      <th>Required</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>key</td>
      <td>string</td>
      <td>Yes</td>
      <td>The UUID of the Postback Key used to authorize this change</td>
    </tr>
    <tr>
      <td>caller_number</td>
      <td>string</td>
      <td>Optional</td>
      <td>The caller number of the Call for which the tags should be applied. This or a call_uuid should be provider</td>
    </tr>
    <tr>
      <td>call_uuid</td>
      <td>string</td>
      <td>Optional</td>
      <td>The uuid of the Call for which the tags should be applied. This or a caller_number should be provided.</td>
    </tr>
    <tr>
      <td>:tag_key</td>
      <td>string</td>
      <td>Optional</td>
      <td>Dynamic key:value pairs in the form of ‘?key1=value1&amp;key2=value2’</td>
    </tr>
  </tbody>
</table>

<h3 id="call-not-found">Call not found</h3>

<p>The DataWriting API allows for tags to be sent before a call comes in. When the call is not found the tags are stored
and will be applied when a call from the caller number is received.</p>

<h3 id="completed-call-found">Completed call found</h3>

<p>When a call is found and is completed the tags are applied.</p>

<h3 id="in-progress-call-found">In progress call found</h3>

<p>When a call is in progress, tags can be stored but may not be applied to the call immediately. Instead, they are typically applied the next time they are needed—usually when a routing decision must be made. If no further routing decisions occur while the call remains in progress, the tags are applied at the end of the call.</p>

<p>As a result, it’s possible to use the Data Writing API to set tags on an in-progress call, but not see them immediately reflected in the UI or API. They may only become visible once the call has ended.</p>

<p>Note that if the call has already been routed, the tags will still be applied eventually—but since routing is complete, they will not influence the routing outcome.</p>

<h1 id="affiliates">Affiliates</h1>

<p>Entering Affiliates into our system allows you to attribute calls back to the Affiliate who created them, and to update any external tracking systems.</p>

<p>If you’re not in affiliate marketing, Affiliate objects can be used for whatever source attribution is relevant. Affiliates exist for your reference.</p>

<h2 id="get-all-affiliates">Get all Affiliates</h2>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="s2">"https://api.retreaver.com/affiliates.xml?api_key=woofwoofwoof&amp;company_id=1"</span>
</code></pre></div>
<blockquote>
  <p>The above command returns XML structured like this:</p>
</blockquote>

<div class="highlight"><pre class="highlight xml"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;affiliates</span> <span class="na">type=</span><span class="s">"array"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;affiliate&gt;</span>
    <span class="nt">&lt;afid&gt;</span>0002<span class="nt">&lt;/afid&gt;</span>
    <span class="nt">&lt;first-name&gt;</span>Nancy<span class="nt">&lt;/first-name&gt;</span>
    <span class="nt">&lt;last-name&gt;</span>Drew<span class="nt">&lt;/last-name&gt;</span>
    <span class="nt">&lt;company-name&gt;</span>Acme<span class="nt">&lt;/last-name&gt;</span>
    <span class="nt">&lt;updated-at</span> <span class="na">type=</span><span class="s">"datetime"</span><span class="nt">&gt;</span>2012-05-03T15:56:01Z<span class="nt">&lt;/updated-at&gt;</span>
    <span class="nt">&lt;created-at</span> <span class="na">type=</span><span class="s">"datetime"</span><span class="nt">&gt;</span>2012-05-03T15:56:01Z<span class="nt">&lt;/created-at&gt;</span>
  <span class="nt">&lt;/affiliate&gt;</span>
<span class="nt">&lt;/affiliates&gt;</span>
</code></pre></div>
<p>Provides a complete list of Affiliates.</p>

<h3 id="http-request-9">HTTP Request</h3>

<p><code>GET https://api.retreaver.com/affiliates.xml?api_key=woofwoofwoof&amp;company_id=1</code></p>

<h2 id="get-a-specific-affiliate-by-your-id">Get a specific Affiliate by your ID</h2>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="s2">"https://api.retreaver.com/affiliates/afid/0002.json?api_key=woofwoofwoof&amp;company_id=1"</span>
</code></pre></div>
<p>Finds an Affiliate by AFID.</p>

<h3 id="http-request-10">HTTP Request</h3>

<p><code>GET https://api.retreaver.com/affiliates/afid/0002.xml?api_key=woofwoofwoof&amp;company_id=1</code></p>

<h2 id="create-an-affiliate">Create an Affiliate</h2>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="nt">-s</span> <span class="se">\</span>
    <span class="nt">-X</span> POST <span class="se">\</span>
    https://api.retreaver.com/affiliates.json?api_key<span class="o">=</span>woofwoofwoof&amp;company_id<span class="o">=</span>1 <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    <span class="nt">-d</span> <span class="s1">'{"affiliate":{"first_name":"Nancy", "last_name":"Drew", "afid":"0002"}}'</span>
</code></pre></div>
<p>Creates an Affiliate.</p>

<h3 id="http-request-11">HTTP Request</h3>

<p><code>POST https://api.retreaver.com/affiliates.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<p><code>Content-Type: application/json</code></p>

<p><code>{"affiliate":{"first_name":"Nancy", "last_name":"Drew", "afid":"0002"}}</code></p>

<h3 id="parameters-1">Parameters</h3>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Type</th>
      <th>Default</th>
      <th>Required</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>afid</td>
      <td>string</td>
      <td>null</td>
      <td>required</td>
      <td>The affiliate’s ID. This should align with any external tracking systems you may be using.</td>
    </tr>
    <tr>
      <td>first_name</td>
      <td>string</td>
      <td>null</td>
      <td> </td>
      <td>The affiliate’s first name, for your reference.</td>
    </tr>
    <tr>
      <td>last_name</td>
      <td>string</td>
      <td>null</td>
      <td> </td>
      <td>Their last name.</td>
    </tr>
    <tr>
      <td>company_name</td>
      <td>string</td>
      <td>null</td>
      <td> </td>
      <td>Their company name.</td>
    </tr>
  </tbody>
</table>

<h2 id="update-an-affiliate">Update an Affiliate</h2>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="nt">-s</span> <span class="se">\</span>
    <span class="nt">-X</span> PUT <span class="se">\</span>
    https://api.retreaver.com/affiliates/afid/002.json <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    <span class="nt">-d</span> <span class="s1">'{"affiliate":{"first_name":"Nathan"}}'</span>
</code></pre></div>
<blockquote>
  <p>The above command returns JSON structured like this:</p>
</blockquote>

<div class="highlight"><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"affiliate"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"afid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"002"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nathan"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Drew"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"company_name"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-05-03T20:20:03Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-05-03T14:29:37Z"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Changes any attributes you have passed in on the Affiliate.</p>

<aside class="notice">
You must replace <code>0002</code> with the afid of the Affiliate you want to delete.
</aside>

<h3 id="http-request-12">HTTP Request</h3>

<p><code>PUT https://api.retreaver.com/affiliates/afid/0002.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<p><code>Content-Type: application/json</code></p>

<p><code>{"affiliate":{"first_name":"Nathan"}}</code></p>

<h2 id="remove-an-affiliate">Remove an affiliate</h2>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="nt">-X</span> DELETE https://api.retreaver.com/affiliates/afid/0002.json?api_key<span class="o">=</span>woofwoofwoof&amp;company_id<span class="o">=</span>1
</code></pre></div>
<p>Deletes the given Affiliate. You must delete any Numbers the Affiliate has before deleting the Affiliate.</p>

<h1 id="targets">Targets</h1>

<p>Targets are the destination phone numbers that calls are routed to, for instance, your call center.</p>

<h2 id="get-all-targets">Get all Targets</h2>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="s2">"https://api.retreaver.com/targets.json?api_key=woofwoofwoof&amp;company_id=1"</span>
</code></pre></div>
<blockquote>
  <p>The above command returns JSON structured like this:</p>
</blockquote>

<div class="highlight"><pre class="highlight json"><code><span class="p">[{</span><span class="w">
   </span><span class="nl">"target"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
     </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6588</span><span class="p">,</span><span class="w">
     </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+18668987878"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"sip_username"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
     </span><span class="nl">"sip_password"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
     </span><span class="nl">"cid_number_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
     </span><span class="nl">"obfuscate_cid"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
     </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-08-14T20:46:01.158-04:00"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-28T13:02:52.964-04:00"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"object_key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"40a9a73ff97cb35a0a16d1ec89fd9eddcf3727df932cea9f0f7a5a8ba1684fed"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"tid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
     </span><span class="nl">"priority"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
     </span><span class="nl">"weight"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
     </span><span class="nl">"timeout_seconds"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
     </span><span class="nl">"timer_offset"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
     </span><span class="nl">"send_digits"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
     </span><span class="nl">"concurrency_cap"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
     </span><span class="nl">"calls_in_progress"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
     </span><span class="nl">"inband_signals"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
     </span><span class="nl">"time_zone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Eastern Time (US &amp; Canada)"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"paused"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
     </span><span class="nl">"paused_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
     </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jason Cell"</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre></div>
<h3 id="http-request-13">HTTP Request</h3>

<p><code>GET https://api.retreaver.com/targets.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<h2 id="get-a-specific-target">Get a specific Target</h2>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="s2">"https://api.retreaver.com/targets/6588.json?api_key=woofwoofwoof&amp;company_id=1"</span>
</code></pre></div>
<blockquote>
  <p>The above command returns JSON structured like this:</p>
</blockquote>

<div class="highlight"><pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"target"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
     </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6588</span><span class="p">,</span><span class="w">
     </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+18668987878"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"sip_username"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
     </span><span class="nl">"sip_password"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
     </span><span class="nl">"cid_number_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
     </span><span class="nl">"obfuscate_cid"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
     </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-08-14T20:46:01.158-04:00"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-28T13:02:52.964-04:00"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"object_key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"40a9a73ff97cb35a0a16d1ec89fd9eddcf3727df932cea9f0f7a5a8ba1684fed"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"tid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
     </span><span class="nl">"priority"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
     </span><span class="nl">"weight"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
     </span><span class="nl">"timeout_seconds"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
     </span><span class="nl">"timer_offset"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
     </span><span class="nl">"send_digits"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
     </span><span class="nl">"concurrency_cap"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
     </span><span class="nl">"calls_in_progress"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
     </span><span class="nl">"inband_signals"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
     </span><span class="nl">"time_zone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Eastern Time (US &amp; Canada)"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"paused"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
     </span><span class="nl">"paused_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
     </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jason Cell"</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<h3 id="http-request-14">HTTP Request</h3>

<p><code>GET https://api.retreaver.com/targets/6588.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<h2 id="create-a-target">Create a Target</h2>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="nt">-s</span> <span class="se">\</span>
 <span class="nt">-X</span> POST <span class="se">\</span>
 https://api.retreaver.com/targets.json?api_key<span class="o">=</span>woofwoofwoof&amp;company_id<span class="o">=</span>1 <span class="se">\</span>
 <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
 <span class="nt">-d</span> <span class="s1">'{"target":{"number":"+18668987878", "name":"Retreaver Support"}}'</span>
</code></pre></div>
<blockquote>
  <p>The above command returns JSON structured like this:</p>
</blockquote>

<div class="highlight"><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"target"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">22592</span><span class="p">,</span><span class="w">
        </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+18668987878"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sip_username"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sip_password"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"cid_number_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"obfuscate_cid"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-28T23:13:51.434Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-28T23:13:51.434Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"object_key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"97bbce7555b96322e81155eb4b1ff5aa9a6a1ffc478a7ab21ed2e830483f0b20"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"priority"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"weight"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"timeout_seconds"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
        </span><span class="nl">"timer_offset"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"send_digits"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"concurrency_cap"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"calls_in_progress"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"inband_signals"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"time_zone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UTC"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"paused"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"paused_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Retreaver Support"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"caps"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">707900</span><span class="p">,</span><span class="w">
                </span><span class="nl">"filled"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"cap"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Daily"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">707898</span><span class="p">,</span><span class="w">
                </span><span class="nl">"filled"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"cap"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hard"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">707899</span><span class="p">,</span><span class="w">
                </span><span class="nl">"filled"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"cap"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hourly"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">707901</span><span class="p">,</span><span class="w">
                </span><span class="nl">"filled"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"cap"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Monthly"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"business_hours"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">156838</span><span class="p">,</span><span class="w">
                </span><span class="nl">"target_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">22592</span><span class="p">,</span><span class="w">
                </span><span class="nl">"work_day"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="nl">"time_open"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"time_close"</span><span class="p">:</span><span class="w"> </span><span class="mi">2400</span><span class="p">,</span><span class="w">
                </span><span class="nl">"day_of_week"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"invert"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-28T23:13:52.924Z"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-28T23:13:52.924Z"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">156839</span><span class="p">,</span><span class="w">
                </span><span class="nl">"target_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">22592</span><span class="p">,</span><span class="w">
                </span><span class="nl">"work_day"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="nl">"time_open"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"time_close"</span><span class="p">:</span><span class="w"> </span><span class="mi">2400</span><span class="p">,</span><span class="w">
                </span><span class="nl">"day_of_week"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="nl">"invert"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-28T23:13:53.093Z"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-28T23:13:53.093Z"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">156840</span><span class="p">,</span><span class="w">
                </span><span class="nl">"target_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">22592</span><span class="p">,</span><span class="w">
                </span><span class="nl">"work_day"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="nl">"time_open"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"time_close"</span><span class="p">:</span><span class="w"> </span><span class="mi">2400</span><span class="p">,</span><span class="w">
                </span><span class="nl">"day_of_week"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
                </span><span class="nl">"invert"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-28T23:13:53.281Z"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-28T23:13:53.281Z"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">156841</span><span class="p">,</span><span class="w">
                </span><span class="nl">"target_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">22592</span><span class="p">,</span><span class="w">
                </span><span class="nl">"work_day"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="nl">"time_open"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"time_close"</span><span class="p">:</span><span class="w"> </span><span class="mi">2400</span><span class="p">,</span><span class="w">
                </span><span class="nl">"day_of_week"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
                </span><span class="nl">"invert"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-28T23:13:53.684Z"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-28T23:13:53.684Z"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">156842</span><span class="p">,</span><span class="w">
                </span><span class="nl">"target_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">22592</span><span class="p">,</span><span class="w">
                </span><span class="nl">"work_day"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="nl">"time_open"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"time_close"</span><span class="p">:</span><span class="w"> </span><span class="mi">2400</span><span class="p">,</span><span class="w">
                </span><span class="nl">"day_of_week"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
                </span><span class="nl">"invert"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-28T23:13:53.846Z"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-28T23:13:53.846Z"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">156843</span><span class="p">,</span><span class="w">
                </span><span class="nl">"target_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">22592</span><span class="p">,</span><span class="w">
                </span><span class="nl">"work_day"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="nl">"time_open"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"time_close"</span><span class="p">:</span><span class="w"> </span><span class="mi">2400</span><span class="p">,</span><span class="w">
                </span><span class="nl">"day_of_week"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
                </span><span class="nl">"invert"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-28T23:13:54.008Z"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-28T23:13:54.008Z"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">156844</span><span class="p">,</span><span class="w">
                </span><span class="nl">"target_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">22592</span><span class="p">,</span><span class="w">
                </span><span class="nl">"work_day"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="nl">"time_open"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"time_close"</span><span class="p">:</span><span class="w"> </span><span class="mi">2400</span><span class="p">,</span><span class="w">
                </span><span class="nl">"day_of_week"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
                </span><span class="nl">"invert"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-28T23:13:54.165Z"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-28T23:13:54.165Z"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"tag_values"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Creates a new Target.</p>

<h3 id="http-request-15">HTTP Request</h3>

<p><code>POST https://api.retreaver.com/targets.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<p><code>Content-Type: application/json</code></p>

<p><code>{"target":{"number":"+18668987878", "name":"Retreaver Support"}}</code></p>

<h3 id="parameters-2">Parameters</h3>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Type</th>
      <th>Default</th>
      <th>Required</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>name</td>
      <td>string</td>
      <td> </td>
      <td> </td>
      <td>A descriptive moniker for this target so you’ll know what it is.</td>
    </tr>
    <tr>
      <td>number</td>
      <td>string</td>
      <td> </td>
      <td>required</td>
      <td>Either a phone number or <code>sip:user@domain.com</code> formatted SIP endpoint. PSTN numbers should be <a href="https://en.wikipedia.org/wiki/E.164">E.164 formatted</a>.</td>
    </tr>
    <tr>
      <td>sip_username</td>
      <td>string</td>
      <td> </td>
      <td> </td>
      <td>The SIP username, if using SIP-authentication to call a SIP endpoint.</td>
    </tr>
    <tr>
      <td>sip_password</td>
      <td>string</td>
      <td> </td>
      <td> </td>
      <td>The SIP password, if using SIP-authentication to call a SIP endpoint.</td>
    </tr>
    <tr>
      <td>tid</td>
      <td>string</td>
      <td> </td>
      <td> </td>
      <td>Your own internal ID for this target.</td>
    </tr>
    <tr>
      <td>priority</td>
      <td>integer</td>
      <td>1</td>
      <td> </td>
      <td>The target with the lowest priority value gets considered first when routing calls to a set of targets.</td>
    </tr>
    <tr>
      <td>weight</td>
      <td>integer</td>
      <td>1</td>
      <td> </td>
      <td>When more than one target has the same priority, the cumulative weight of the targets being considered is used to randomize their order.</td>
    </tr>
    <tr>
      <td>timeout_seconds</td>
      <td>integer</td>
      <td>30</td>
      <td> </td>
      <td>The maximum number of seconds we’ll wait while the target number is ringing before moving on.</td>
    </tr>
    <tr>
      <td>inband_signals</td>
      <td>boolean</td>
      <td>false</td>
      <td> </td>
      <td>Enables detection of in-band ringing in conjunction with <code>timer_offset</code>.</td>
    </tr>
    <tr>
      <td>timer_offset</td>
      <td>integer</td>
      <td>0</td>
      <td> </td>
      <td>Offsets any timers on Tracking URLs or Conversion Criteria when routing to this target. Can be used to simplify campaign management.</td>
    </tr>
    <tr>
      <td>send_digits</td>
      <td>string</td>
      <td> </td>
      <td> </td>
      <td>Send these digits as DTMF tones when the call recipient picks up. Use <code>w</code> to make a 0.5 second pause. This can be used to bypass IVR systems.</td>
    </tr>
    <tr>
      <td>concurrency_cap</td>
      <td>integer</td>
      <td>null</td>
      <td> </td>
      <td>Used to limit the maximum number of concurrent calls a target can receive.</td>
    </tr>
    <tr>
      <td>paused</td>
      <td>boolean</td>
      <td>false</td>
      <td> </td>
      <td>Targets which are paused will not be considered when routing calls.</td>
    </tr>
    <tr>
      <td>time_zone</td>
      <td>string</td>
      <td>UTC</td>
      <td> </td>
      <td>The time zone used when determining if a call is occuring during business hours.</td>
    </tr>
    <tr>
      <td>business_hours_attributes</td>
      <td>array</td>
      <td> </td>
      <td> </td>
      <td>An optional array of business hours. Targets are set to be open 24/7 by default.</td>
    </tr>
  </tbody>
</table>

<p><strong>Nested Attribute: Business Hours</strong></p>

<p>We’ll only attempt to route calls to your target during its Business Hours. These hours are based on the Target <code>time_zone</code>. Note that when <em>updating</em> business hours on a Target, you must pass in the existing <code>id</code> attribute that gets created on this request.</p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Type</th>
      <th>Default</th>
      <th>Required</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>day_of_week</td>
      <td>integer</td>
      <td> </td>
      <td>required</td>
      <td>A zero-indexed day of the week, with 0 being Sunday and 6 being Saturday.</td>
    </tr>
    <tr>
      <td>work_day</td>
      <td>boolean</td>
      <td>true</td>
      <td> </td>
      <td>Whether or not the target is open on this day.</td>
    </tr>
    <tr>
      <td>time_open</td>
      <td>integer</td>
      <td>0</td>
      <td> </td>
      <td>The 24 hour time the target opens, formatted <code>HHMM</code>.</td>
    </tr>
    <tr>
      <td>time_close</td>
      <td>integer</td>
      <td>2400</td>
      <td> </td>
      <td>The 24 hour time the target closes, formatted <code>HHMM</code>.</td>
    </tr>
    <tr>
      <td>inverted</td>
      <td>boolean</td>
      <td>false</td>
      <td> </td>
      <td>Open hours become closed! Closed become open! Oh the insanity! Great if you have overnight shifts.</td>
    </tr>
  </tbody>
</table>

<h3 id="valid-time-zones">Valid Time Zones</h3>

<p><a href="https://gist.github.com/jaygen/f6caa3305ec812344cc81175843f5ab0">Need to map IANA time zones to our format?</a></p>

<table>
  <thead>
    <tr>
      <th> </th>
      <th> </th>
      <th> </th>
      <th> </th>
      <th> </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>International Date Line West</td>
      <td>Midway Island</td>
      <td>American Samoa</td>
      <td>Hawaii</td>
      <td>Alaska</td>
    </tr>
    <tr>
      <td>Pacific Time (US &amp; Canada)</td>
      <td>Tijuana</td>
      <td>Mountain Time (US &amp; Canada)</td>
      <td>Arizona</td>
      <td>Chihuahua</td>
    </tr>
    <tr>
      <td>Mazatlan</td>
      <td>Central Time (US &amp; Canada)</td>
      <td>Saskatchewan</td>
      <td>Guadalajara</td>
      <td>Mexico City</td>
    </tr>
    <tr>
      <td>Monterrey</td>
      <td>Central America</td>
      <td>Eastern Time (US &amp; Canada)</td>
      <td>Indiana (East)</td>
      <td>Bogota</td>
    </tr>
    <tr>
      <td>Lima</td>
      <td>Quito</td>
      <td>Atlantic Time (Canada)</td>
      <td>Caracas</td>
      <td>La Paz</td>
    </tr>
    <tr>
      <td>Santiago</td>
      <td>Newfoundland</td>
      <td>Brasilia</td>
      <td>Buenos Aires</td>
      <td>Montevideo</td>
    </tr>
    <tr>
      <td>Georgetown</td>
      <td>Greenland</td>
      <td>Mid-Atlantic</td>
      <td>Azores</td>
      <td>Cape Verde Is.</td>
    </tr>
    <tr>
      <td>Dublin</td>
      <td>Edinburgh</td>
      <td>Lisbon</td>
      <td>London</td>
      <td>Casablanca</td>
    </tr>
    <tr>
      <td>Monrovia</td>
      <td>UTC</td>
      <td>Belgrade</td>
      <td>Bratislava</td>
      <td>Budapest</td>
    </tr>
    <tr>
      <td>Ljubljana</td>
      <td>Prague</td>
      <td>Sarajevo</td>
      <td>Skopje</td>
      <td>Warsaw</td>
    </tr>
    <tr>
      <td>Zagreb</td>
      <td>Brussels</td>
      <td>Copenhagen</td>
      <td>Madrid</td>
      <td>Paris</td>
    </tr>
    <tr>
      <td>Amsterdam</td>
      <td>Berlin</td>
      <td>Bern</td>
      <td>Rome</td>
      <td>Stockholm</td>
    </tr>
    <tr>
      <td>Vienna</td>
      <td>West Central Africa</td>
      <td>Bucharest</td>
      <td>Cairo</td>
      <td>Helsinki</td>
    </tr>
    <tr>
      <td>Kyiv</td>
      <td>Riga</td>
      <td>Sofia</td>
      <td>Tallinn</td>
      <td>Vilnius</td>
    </tr>
    <tr>
      <td>Athens</td>
      <td>Istanbul</td>
      <td>Minsk</td>
      <td>Jerusalem</td>
      <td>Harare</td>
    </tr>
    <tr>
      <td>Pretoria</td>
      <td>Moscow</td>
      <td>St. Petersburg</td>
      <td>Volgograd</td>
      <td>Kuwait</td>
    </tr>
    <tr>
      <td>Riyadh</td>
      <td>Nairobi</td>
      <td>Baghdad</td>
      <td>Tehran</td>
      <td>Abu Dhabi</td>
    </tr>
    <tr>
      <td>Muscat</td>
      <td>Baku</td>
      <td>Tbilisi</td>
      <td>Yerevan</td>
      <td>Kabul</td>
    </tr>
    <tr>
      <td>Ekaterinburg</td>
      <td>Islamabad</td>
      <td>Karachi</td>
      <td>Tashkent</td>
      <td>Chennai</td>
    </tr>
    <tr>
      <td>Kolkata</td>
      <td>Mumbai</td>
      <td>New Delhi</td>
      <td>Kathmandu</td>
      <td>Astana</td>
    </tr>
    <tr>
      <td>Dhaka</td>
      <td>Sri Jayawardenepura</td>
      <td>Almaty</td>
      <td>Novosibirsk</td>
      <td>Rangoon</td>
    </tr>
    <tr>
      <td>Bangkok</td>
      <td>Hanoi</td>
      <td>Jakarta</td>
      <td>Krasnoyarsk</td>
      <td>Beijing</td>
    </tr>
    <tr>
      <td>Chongqing</td>
      <td>Hong Kong</td>
      <td>Urumqi</td>
      <td>Kuala Lumpur</td>
      <td>Singapore</td>
    </tr>
    <tr>
      <td>Taipei</td>
      <td>Perth</td>
      <td>Irkutsk</td>
      <td>Ulaanbaatar</td>
      <td>Seoul</td>
    </tr>
    <tr>
      <td>Osaka</td>
      <td>Sapporo</td>
      <td>Tokyo</td>
      <td>Yakutsk</td>
      <td>Darwin</td>
    </tr>
    <tr>
      <td>Adelaide</td>
      <td>Canberra</td>
      <td>Melbourne</td>
      <td>Sydney</td>
      <td>Brisbane</td>
    </tr>
    <tr>
      <td>Hobart</td>
      <td>Vladivostok</td>
      <td>Guam</td>
      <td>Port Moresby</td>
      <td>Magadan</td>
    </tr>
    <tr>
      <td>Solomon Is.</td>
      <td>New Caledonia</td>
      <td>Fiji</td>
      <td>Kamchatka</td>
      <td>Marshall Is.</td>
    </tr>
    <tr>
      <td>Auckland</td>
      <td>Wellington</td>
      <td>Nuku’alofa</td>
      <td>Tokelau Is.</td>
      <td>Chatham Is.</td>
    </tr>
    <tr>
      <td>Samoa</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
  </tbody>
</table>

<h2 id="update-a-target">Update a Target</h2>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="nt">-s</span> <span class="se">\</span>
 <span class="nt">-X</span> PUT <span class="se">\</span>
 https://api.retreaver.com/targets/22592.json <span class="se">\</span>
 <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
 <span class="nt">-d</span> <span class="s1">'{"target":{"paused":true}}'</span>
</code></pre></div>
<blockquote>
  <p>The above command returns JSON structured like this:</p>
</blockquote>

<div class="highlight"><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"target"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">22592</span><span class="p">,</span><span class="w">
        </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+18668987878"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sip_username"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sip_password"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"cid_number_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-28T23:13:51.434Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-28T23:30:00.529Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"paused"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"paused_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-28T23:30:01.251Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Retreaver Support"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Changes any attributes you have passed in on the Target.</p>

<aside class="notice">
You must replace <code>22592</code> with the Retreaver ID of the Target you want to delete.
</aside>

<h3 id="http-request-16">HTTP Request</h3>

<p><code>PUT https://api.retreaver.com/targets/22592.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<p><code>Content-Type: application/json</code></p>

<p><code>{"target":{"paused":true}}</code></p>

<h2 id="remove-a-target">Remove a Target</h2>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="nt">-X</span> DELETE https://api.retreaver.com/targets/22592.json?api_key<span class="o">=</span>woofwoofwoof&amp;company_id<span class="o">=</span>1
</code></pre></div>
<p>Deletes the given Target.</p>

<h3 id="http-request-17">HTTP Request</h3>

<p><code>DELETE https://api.retreaver.com/targets/22592.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<h2 id="tagging-a-target">Tagging a Target</h2>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="nt">-s</span> <span class="se">\</span>
 <span class="nt">-X</span> PUT <span class="se">\</span>
 https://api.retreaver.com/targets/22592.json <span class="se">\</span>
 <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
 <span class="nt">-d</span> <span class="s1">'{"target":{"tag_list":"&lt;&lt;&lt;calling_about:support&gt;&gt;&gt;,&lt;&lt;&lt;calling_about:other&gt;&gt;&gt;"}}'</span>
</code></pre></div>
<blockquote>
  <p>Upon reloading the Target, the following JSON is returned with the tags included:</p>
</blockquote>

<div class="highlight"><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"target"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">22592</span><span class="p">,</span><span class="w">
        </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+18668987878"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Retreaver Support"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tag_values"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"calling_about"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"support"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"operator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"=="</span><span class="p">,</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">67589</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"calling_about"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"other"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"operator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"=="</span><span class="p">,</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">67591</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>To set tags on a Target, pass in a comma delineated, triple-angle-bracket enclosed string of tags as the <code>tag_list</code> value.</p>

<p>The system will create/find whatever tags you have set given this input without you having to track tag IDs. You must include the full list of tags you want set any time a tag_list parameter is passed in. To clear the tags, just pass in a blank string.</p>

<p>There is a limit of 100 tags added in this manner, but the system will automatically concatenate US zip <code>geo</code> tags.</p>

<h3 id="http-request-18">HTTP Request</h3>

<p><code>PUT https://api.retreaver.com/targets/22592.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<p><code>Content-Type: application/json</code></p>

<p><code>{"target":{"tag_list":"&lt;&lt;&lt;calling_about:support&gt;&gt;&gt;,&lt;&lt;&lt;calling_about:other&gt;&gt;&gt;"}}</code></p>

<h2 id="changing-a-targets-caps">Changing a Target’s Caps</h2>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="nt">-s</span> <span class="se">\</span>
 <span class="nt">-X</span> PUT <span class="se">\</span>
 https://api.retreaver.com/targets/22592.json <span class="se">\</span>
 <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
 <span class="nt">-d</span> <span class="s1">'{"target": { \
         "hard_cap_attributes": { \
             "cap": 100 \
             } \
         }'</span> <span class="se">\</span>
     <span class="o">}</span><span class="s1">'
</span></code></pre></div>
<blockquote>
  <p>The above command returns JSON structured like this:</p>
</blockquote>

<div class="highlight"><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"target"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">22592</span><span class="p">,</span><span class="w">
        </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+18668987878"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Retreaver Support"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"caps"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">707900</span><span class="p">,</span><span class="w">
                </span><span class="nl">"filled"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"cap"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Daily"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">707898</span><span class="p">,</span><span class="w">
                </span><span class="nl">"filled"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"cap"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
                </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hard"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">707899</span><span class="p">,</span><span class="w">
                </span><span class="nl">"filled"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"cap"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hourly"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">707901</span><span class="p">,</span><span class="w">
                </span><span class="nl">"filled"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"cap"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Monthly"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>There are 4 types of caps: Hard Cap, Hourly Cap, Daily Cap, and Monthly Cap. Hard cap is a hard limit, and once it is reached, the target will not receive more Calls until the Cap is reset. This is useful when routing Calls to buyers that have insertion orders for a set number of leads.</p>

<p>The other types of Cap reset periodically as expected.</p>

<p>You can modify these Caps by updating your Target with nested objects <code>hard_cap_attributes</code>, <code>hourly_cap_attributes</code>, <code>daily_cap_attributes</code>, and <code>monthly_cap_attributes</code>.</p>

<h3 id="http-request-19">HTTP Request</h3>

<p><code>PUT https://api.retreaver.com/targets/22592.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<p><code>Content-Type: application/json</code></p>

<p><code>{"target":{"hard_cap_attributes":{"cap":100}}}</code></p>

<h3 id="parameters-3">Parameters</h3>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Type</th>
      <th>Default</th>
      <th>Required</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>cap</td>
      <td>integer</td>
      <td> </td>
      <td>required</td>
      <td>The value for the cap.</td>
    </tr>
  </tbody>
</table>

<h2 id="resetting-a-hard-cap">Resetting a Hard Cap</h2>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="nt">-s</span> <span class="se">\</span>
 <span class="nt">-X</span> POST <span class="se">\</span>
 https://api.retreaver.com/targets/22592/reset_cap.json?api_key<span class="o">=</span>woofwoofwoof&amp;company_id<span class="o">=</span>1 <span class="se">\</span>
 <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span>
</code></pre></div>
<p>Clears any Calls contributing to the given Target’s hard cap, resetting it to 0. Returns HTTP 200 on success.</p>

<h3 id="http-request-20">HTTP Request</h3>

<p><code>POST https://api.retreaver.com/targets/22592/reset_cap.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<p><code>Content-Type: application/json</code></p>

<h1 id="campaigns">Campaigns</h1>

<p>By configuring a Campaign, you can reuse the settings of the Campaign when creating Numbers. Campaigns should be configured before creating Numbers.</p>

<h2 id="get-all-campaigns">Get all Campaigns</h2>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="s2">"https://api.retreaver.com/campaigns.json?api_key=woofwoofwoof&amp;company_id=1"</span>
</code></pre></div>
<blockquote>
  <p>The above command returns JSON structured like this:</p>
</blockquote>

<div class="highlight"><pre class="highlight json"><code><span class="p">[{</span><span class="w">
</span><span class="nl">"campaign"</span><span class="p">:{</span><span class="w">
   </span><span class="nl">"cid"</span><span class="p">:</span><span class="s2">"111"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"name"</span><span class="p">:</span><span class="s2">"SuperFuntime"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="s2">"2012-07-15T03:40:24Z"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"created_at"</span><span class="p">:</span><span class="s2">"2012-04-16T13:50:21Z"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"record_calls"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
   </span><span class="nl">"record_seconds"</span><span class="p">:</span><span class="mi">3600</span><span class="p">,</span><span class="w">
   </span><span class="nl">"dedupe_seconds"</span><span class="p">:</span><span class="mi">86400</span><span class="p">,</span><span class="w">
   </span><span class="nl">"affiliate_can_pull_number"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
   </span><span class="nl">"show_key"</span><span class="p">:</span><span class="s2">"5e2ba674a8a1fb34dddcf850139ffdd9"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"greeting"</span><span class="p">:{</span><span class="w">
      </span><span class="nl">"message"</span><span class="p">:</span><span class="s2">"Hi There! Press one to continue."</span><span class="p">,</span><span class="w">
      </span><span class="nl">"voice_gender"</span><span class="p">:</span><span class="s2">"Female"</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="nl">"timers"</span><span class="p">:[</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="nl">"timer"</span><span class="p">:{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="mi">195</span><span class="p">,</span><span class="w">
            </span><span class="nl">"seconds"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"url"</span><span class="p">:</span><span class="s2">"http://www.thertrack.com/click.track?CID=[campaign_id]&amp;AFID=[affiliate_id]&amp;SID=[sub_id]"</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="nl">"timer"</span><span class="p">:{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="mi">199</span><span class="p">,</span><span class="w">
            </span><span class="nl">"seconds"</span><span class="p">:</span><span class="mi">90</span><span class="p">,</span><span class="w">
            </span><span class="nl">"url"</span><span class="p">:</span><span class="s2">"http://www.thertrack.com/pixel.track?CID=[campaign_id]&amp;AFID=[affiliate_id]&amp;SID=[sub_id]&amp;MerchantReferenceID=[caller_id]-[called_number]-[call_duration]"</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">],</span><span class="w">
   </span><span class="nl">"menu_options"</span><span class="p">:[</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="nl">"menu_option"</span><span class="p">:{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="mi">61</span><span class="p">,</span><span class="w">
            </span><span class="nl">"option"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"target_cid"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"target_number"</span><span class="p">:</span><span class="s2">"+18987748833"</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre></div>
<p>List all the Campaigns in your Account.</p>

<h3 id="http-request-21">HTTP Request</h3>

<p><code>GET https://api.retreaver.com/campaigns.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<h2 id="get-a-specific-campaign">Get a specific Campaign</h2>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="s2">"https://api.retreaver.com/campaigns/cid/0044.json?api_key=woofwoofwoof&amp;company_id=1"</span>
</code></pre></div>
<blockquote>
  <p>The above command returns JSON structured like this:</p>
</blockquote>

<div class="highlight"><pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"campaign"</span><span class="p">:{</span><span class="w">
      </span><span class="nl">"cid"</span><span class="p">:</span><span class="s2">"0044"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="s2">"SuperFuntime"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="s2">"2012-07-15T03:40:24Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created_at"</span><span class="p">:</span><span class="s2">"2012-04-16T13:50:21Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"record_calls"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"record_seconds"</span><span class="p">:</span><span class="mi">3600</span><span class="p">,</span><span class="w">
      </span><span class="nl">"dedupe_seconds"</span><span class="p">:</span><span class="mi">86400</span><span class="p">,</span><span class="w">
      </span><span class="nl">"affiliate_can_pull_number"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"show_key"</span><span class="p">:</span><span class="s2">"5e2ba674a8a1fb34dddcf850139ffdd9"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"greeting"</span><span class="p">:{</span><span class="w">
         </span><span class="nl">"message"</span><span class="p">:</span><span class="s2">"Hi There! Press one to continue."</span><span class="p">,</span><span class="w">
         </span><span class="nl">"voice_gender"</span><span class="p">:</span><span class="s2">"Female"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"timers"</span><span class="p">:[</span><span class="w">
         </span><span class="p">{</span><span class="w">
            </span><span class="nl">"timer"</span><span class="p">:{</span><span class="w">
               </span><span class="nl">"id"</span><span class="p">:</span><span class="mi">195</span><span class="p">,</span><span class="w">
               </span><span class="nl">"seconds"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
               </span><span class="nl">"url"</span><span class="p">:</span><span class="s2">"http://www.thertrack.com/click.track?CID=[campaign_id]&amp;AFID=[affiliate_id]&amp;SID=[sub_id]"</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="p">{</span><span class="w">
            </span><span class="nl">"timer"</span><span class="p">:{</span><span class="w">
               </span><span class="nl">"id"</span><span class="p">:</span><span class="mi">199</span><span class="p">,</span><span class="w">
               </span><span class="nl">"seconds"</span><span class="p">:</span><span class="mi">90</span><span class="p">,</span><span class="w">
               </span><span class="nl">"url"</span><span class="p">:</span><span class="s2">"http://www.thertrack.com/pixel.track?CID=[campaign_id]&amp;AFID=[affiliate_id]&amp;SID=[sub_id]&amp;MerchantReferenceID=[caller_id]-[called_number]-[call_duration]"</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"menu_options"</span><span class="p">:[</span><span class="w">
         </span><span class="p">{</span><span class="w">
            </span><span class="nl">"menu_option"</span><span class="p">:{</span><span class="w">
               </span><span class="nl">"id"</span><span class="p">:</span><span class="mi">61</span><span class="p">,</span><span class="w">
               </span><span class="nl">"option"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
               </span><span class="nl">"target_cid"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
               </span><span class="nl">"target_number"</span><span class="p">:</span><span class="s2">"+18987748833"</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Get a campaign by your ID.</p>

<h3 id="http-request-22">HTTP Request</h3>

<p><code>GET https://api.retreaver.com/campaigns/cid/0044.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<h2 id="create-a-campaign">Create a Campaign</h2>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="nt">-s</span> <span class="se">\</span>
    <span class="nt">-X</span> POST <span class="se">\</span>
    https://api.retreaver.com/campaigns.json <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    <span class="nt">-d</span> <span class="s1">'{ \
            "campaign": { \
                "cid": "000333", \
                "name": "MyCampaign", \
                "message": "Thanks for calling, please press one to continue.", \
                "voice_gender": "Male", \
                "timers_attributes": [{ \
                    "seconds": 0, \
                    "url": "http://callpixels.com/click.html" \
                }, { \
                    "seconds": 90, \
                    "url": "http://callpixels.com/sale.html" \
                }], \
                "menu_options_attributes": [{ \
                    "option": "1", \
                    "target_number": "+16474570424" \
                   } \
                ] \
            } \
        }'</span> <span class="se">\</span>
</code></pre></div>
<blockquote>
  <p>The above command returns JSON structured like this:</p>
</blockquote>

<div class="highlight"><pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"campaign"</span><span class="p">:{</span><span class="w">
      </span><span class="nl">"cid"</span><span class="p">:</span><span class="s2">"0044"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="s2">"MyCampaign"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="s2">"2012-07-15T03:34:00Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created_at"</span><span class="p">:</span><span class="s2">"2012-07-15T03:34:00Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"record_calls"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"record_seconds"</span><span class="p">:</span><span class="mi">3600</span><span class="p">,</span><span class="w">
      </span><span class="nl">"dedupe_seconds"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"affiliate_can_pull_number"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"show_key"</span><span class="p">:</span><span class="s2">"5e2ba674a8a1fb34dddcf850139ffdd9"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"greeting"</span><span class="p">:{</span><span class="w">
         </span><span class="nl">"message"</span><span class="p">:</span><span class="s2">"Thanks for calling, please press one to continue."</span><span class="p">,</span><span class="w">
         </span><span class="nl">"voice_gender"</span><span class="p">:</span><span class="s2">"Male"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"timers"</span><span class="p">:[</span><span class="w">
         </span><span class="p">{</span><span class="w">
            </span><span class="nl">"timer"</span><span class="p">:{</span><span class="w">
               </span><span class="nl">"id"</span><span class="p">:</span><span class="mi">217</span><span class="p">,</span><span class="w">
               </span><span class="nl">"seconds"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
               </span><span class="nl">"url"</span><span class="p">:</span><span class="s2">"http://callpixels.com/click.html"</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="p">{</span><span class="w">
            </span><span class="nl">"timer"</span><span class="p">:{</span><span class="w">
               </span><span class="nl">"id"</span><span class="p">:</span><span class="mi">218</span><span class="p">,</span><span class="w">
               </span><span class="nl">"seconds"</span><span class="p">:</span><span class="mi">90</span><span class="p">,</span><span class="w">
               </span><span class="nl">"url"</span><span class="p">:</span><span class="s2">"http://callpixels.com/sale.html"</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"menu_options"</span><span class="p">:[</span><span class="w">
         </span><span class="p">{</span><span class="w">
            </span><span class="nl">"menu_option"</span><span class="p">:{</span><span class="w">
               </span><span class="nl">"id"</span><span class="p">:</span><span class="mi">77</span><span class="p">,</span><span class="w">
               </span><span class="nl">"option"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
               </span><span class="nl">"target_cid"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
               </span><span class="nl">"target_number"</span><span class="p">:</span><span class="s2">"+16474570424"</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Create a new Campaign.</p>

<h3 id="http-request-23">HTTP Request</h3>

<p><code>POST https://api.retreaver.com/campaigns.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<p><code>Content-Type: application/json</code></p>

<p><code>{"campaign":{"cid":"0044","name":"MyCampaign","message":"Thanks for calling, please press one to continue.","voice_gender":"Male","timers_attributes":[{"seconds":0,"url":"http://callpixels.com/click.html"},{"seconds":90,"url":"http://callpixels.com/sale.html"}],"menu_options_attributes":[{"option":"1","target_number":"+16474570424"}]}}</code></p>

<h3 id="parameters-4">Parameters</h3>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Type</th>
      <th>Default</th>
      <th>Required</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>cid</td>
      <td>string</td>
      <td>Random 8 characters</td>
      <td> </td>
      <td>Your internal campaign ID that will be referenced in the future.</td>
    </tr>
    <tr>
      <td>name</td>
      <td>string</td>
      <td> </td>
      <td> </td>
      <td>A name for the campaign for your reference.</td>
    </tr>
    <tr>
      <td>dedupe_seconds</td>
      <td>integer</td>
      <td>0 (Disabled)</td>
      <td> </td>
      <td>Prevent a repeat caller from causing any Connect (timer.seconds == 0) or Sale (timer.seconds &gt; 0) timer from firing within n seconds. Does not affect &lt; 0 second timers.</td>
    </tr>
    <tr>
      <td>affiliate_can_pull_number</td>
      <td>boolean</td>
      <td>false</td>
      <td> </td>
      <td>Allow affiliates to access this campaign via our LinkTrust integration.</td>
    </tr>
    <tr>
      <td>record_calls</td>
      <td>boolean</td>
      <td>true</td>
      <td> </td>
      <td>Toggles call recording on and off.</td>
    </tr>
    <tr>
      <td>message</td>
      <td>string</td>
      <td> </td>
      <td> </td>
      <td><em>Text-to-speech</em>  A message you want read aloud to the caller when they dial your number. Make sure to tell them to press one to continue.</td>
    </tr>
    <tr>
      <td>voice_gender</td>
      <td>string</td>
      <td>Male</td>
      <td> </td>
      <td><em>Text-to-speech</em>  Male or Female, the gender of the text-to-speech voice you want.</td>
    </tr>
    <tr>
      <td>message_file</td>
      <td>file</td>
      <td> </td>
      <td> </td>
      <td><em>Audio File</em> An audio file you would like played for the caller when they dial your number. Use this field with multipart/form-data submissions.</td>
    </tr>
    <tr>
      <td>message_file_b64_data</td>
      <td>string</td>
      <td> </td>
      <td> </td>
      <td><em>Audio File</em> A Base64-encoded audio file. Only use this field if you’re not using the message_file field.</td>
    </tr>
    <tr>
      <td>message_file_b64_filename</td>
      <td>string</td>
      <td> </td>
      <td> </td>
      <td><em>Audio File</em> The original file name for the Base64-encoded audio file. Something like ‘memo.flac’. We suggest using the highest quality audio available.</td>
    </tr>
    <tr>
      <td>repeat</td>
      <td>integer</td>
      <td>4</td>
      <td> </td>
      <td>The number of times to repeat the greeting.</td>
    </tr>
    <tr>
      <td>timers_attributes</td>
      <td>array</td>
      <td> </td>
      <td> </td>
      <td>An array of timers.</td>
    </tr>
    <tr>
      <td>menu_option_attributes</td>
      <td>array</td>
      <td> </td>
      <td> </td>
      <td>An array of menu options.</td>
    </tr>
    <tr>
      <td>destroy_nested</td>
      <td>boolean</td>
      <td>false</td>
      <td> </td>
      <td>When set, causes existing timers and menu_options to be destroyed. Existing timers and menu options can be updated by including their unique ID. Alternatively, you can simply remove all the existing timers and menu options by setting this to true and resubmit all the values.</td>
    </tr>
  </tbody>
</table>

<p><strong>Nested Attribute: Timer</strong></p>

<p>We will fire any 0 second timer (‘click timer’) before firing a sale timer (&gt; 0 seconds). Only the highest second value sale timer that is applicable to this call will be fired. If you have timers for 30 seconds and 90 seconds and the call lasts 2 minutes, only the 90 second sale timer will be fired.</p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Type</th>
      <th>Default</th>
      <th>Required</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>seconds</td>
      <td>integer</td>
      <td> </td>
      <td>required</td>
      <td>The minimum length of time the call must last for this pixel to be fired. If set to 0, the pixel will fire at the beginning of the call, much like a click.</td>
    </tr>
    <tr>
      <td>url</td>
      <td>string</td>
      <td> </td>
      <td>required</td>
      <td>The URL that should be called for this timer. The URL does not have to be a pixel, and will be passed any cookies that were set on the 0-second timer. Our bot follows redirects intelligently.</td>
    </tr>
  </tbody>
</table>

<p><strong>Nested Attribute: Menu Option</strong></p>

<p>Menu options are used to route calls based on what button the caller presses on their phone. Menu options can redirect a caller to a different phone number or another CallPixels campaign. You must provide at least one menu option, and you must provide an option for ‘1’, which is the option used to route calls when there is no greeting configured.</p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Type</th>
      <th>Default</th>
      <th>Required</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>option</td>
      <td>string</td>
      <td> </td>
      <td>required</td>
      <td>The button the caller will press. The default menu option for a campaign is the one for button press ‘1’, so if you aren’t using an IVR and want the call to forward instantly, set the option to ‘1’. (1 2 3 4 5 6 7 8 9 0 * #)</td>
    </tr>
    <tr>
      <td>target_number</td>
      <td>string</td>
      <td> </td>
      <td> </td>
      <td>A phone number to redirect the caller to. All &gt; 0 second timers will start when the call is answered.</td>
    </tr>
    <tr>
      <td>target_cid</td>
      <td>string</td>
      <td> </td>
      <td> </td>
      <td>A campaign ID to redirect the caller to. The campaign must be configured in the system. If this value is set, it will overrride the target number. This option can be used to allow the caller to replay the greeting.</td>
    </tr>
  </tbody>
</table>

<h2 id="update-a-campaign">Update a Campaign</h2>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="nt">-s</span> <span class="se">\</span>
    <span class="nt">-X</span> PUT <span class="se">\</span>
    https://api.retreaver.com/campaigns/cid/0044.json <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    <span class="nt">-d</span> <span class="s1">'{"campaign":{"name":"My Other Campaign"}}'</span>
</code></pre></div>
<blockquote>
  <p>The above command returns JSON structured like this:</p>
</blockquote>

<div class="highlight"><pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"campaign"</span><span class="p">:{</span><span class="w">
      </span><span class="nl">"cid"</span><span class="p">:</span><span class="s2">"0044"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="s2">"My Other Campaign"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="s2">"2012-07-15T03:34:00Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created_at"</span><span class="p">:</span><span class="s2">"2012-07-15T03:34:00Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"record_calls"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"record_seconds"</span><span class="p">:</span><span class="mi">3600</span><span class="p">,</span><span class="w">
      </span><span class="nl">"dedupe_seconds"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"affiliate_can_pull_number"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"show_key"</span><span class="p">:</span><span class="s2">"5e2ba674a8a1fb34dddcf850139ffdd9"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"greeting"</span><span class="p">:{</span><span class="w">
         </span><span class="nl">"message"</span><span class="p">:</span><span class="s2">"Thanks for calling, please press one to continue."</span><span class="p">,</span><span class="w">
         </span><span class="nl">"voice_gender"</span><span class="p">:</span><span class="s2">"Male"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"timers"</span><span class="p">:[</span><span class="w">
         </span><span class="p">{</span><span class="w">
            </span><span class="nl">"timer"</span><span class="p">:{</span><span class="w">
               </span><span class="nl">"id"</span><span class="p">:</span><span class="mi">217</span><span class="p">,</span><span class="w">
               </span><span class="nl">"seconds"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
               </span><span class="nl">"url"</span><span class="p">:</span><span class="s2">"http://callpixels.com/click.html"</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="p">{</span><span class="w">
            </span><span class="nl">"timer"</span><span class="p">:{</span><span class="w">
               </span><span class="nl">"id"</span><span class="p">:</span><span class="mi">218</span><span class="p">,</span><span class="w">
               </span><span class="nl">"seconds"</span><span class="p">:</span><span class="mi">90</span><span class="p">,</span><span class="w">
               </span><span class="nl">"url"</span><span class="p">:</span><span class="s2">"http://callpixels.com/sale.html"</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"menu_options"</span><span class="p">:[</span><span class="w">
         </span><span class="p">{</span><span class="w">
            </span><span class="nl">"menu_option"</span><span class="p">:{</span><span class="w">
               </span><span class="nl">"id"</span><span class="p">:</span><span class="mi">77</span><span class="p">,</span><span class="w">
               </span><span class="nl">"option"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
               </span><span class="nl">"target_cid"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
               </span><span class="nl">"target_number"</span><span class="p">:</span><span class="s2">"+16474570424"</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Changes any attributes you have passed in on the Campaign.</p>

<aside class="notice">
You must replace <code>0044</code> with the cid of the Campaign you want to update.
</aside>

<h3 id="http-request-24">HTTP Request</h3>

<p><code>PUT https://api.retreaver.com/campaigns/cid/0044.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<p><code>Content-Type: application/json</code></p>

<p><code>{"affiliate":{"first_name":"Nathan"}}</code></p>

<h2 id="remove-a-campaign">Remove a Campaign</h2>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="nt">-X</span> DELETE https://api.retreaver.com/campaigns/cid/0044.json?api_key<span class="o">=</span>woofwoofwoof&amp;company_id<span class="o">=</span>1
</code></pre></div>
<p>Delete a Campaign by CID. You must delete all the Numbers belonging to that Campaign first.</p>

<h1 id="numbers">Numbers</h1>

<p>Numbers are the physical phone numbers that you want routed to a Campaign. A Number can be routed directly to the Target phone number, or it can be screened with a greeting which requires the caller to press a button to continue. The IVR can be configured to have options that forward to other Campaigns if desired.</p>

<p>Numbers can be set to use the settings of an existing Campaign.</p>

<h2 id="get-all-numbers">Get all Numbers</h2>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="s2">"https://api.retreaver.com/numbers.json?api_key=woofwoofwoof&amp;company_id=1"</span>
</code></pre></div>
<blockquote>
  <p>The above command returns JSON structured like this:</p>
</blockquote>

<div class="highlight"><pre class="highlight json"><code><span class="p">[{</span><span class="w">
    </span><span class="nl">"number"</span><span class="p">:{</span><span class="w">
       </span><span class="nl">"id"</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span><span class="w">
       </span><span class="nl">"number"</span><span class="p">:</span><span class="s2">"+16479311232"</span><span class="p">,</span><span class="w">
       </span><span class="nl">"toll_free"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
       </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="s2">"2012-05-03T13:53:23Z"</span><span class="p">,</span><span class="w">
       </span><span class="nl">"created_at"</span><span class="p">:</span><span class="s2">"2012-04-18T06:05:05Z"</span><span class="p">,</span><span class="w">
       </span><span class="nl">"sid"</span><span class="p">:</span><span class="s2">"superaffiliate"</span><span class="p">,</span><span class="w">
       </span><span class="nl">"afid"</span><span class="p">:</span><span class="s2">"0001"</span><span class="p">,</span><span class="w">
       </span><span class="nl">"cid"</span><span class="p">:</span><span class="s2">"111"</span><span class="p">,</span><span class="w">
       </span><span class="nl">"uses_campaign_settings"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
       </span><span class="nl">"greeting"</span><span class="p">:{</span><span class="w">
          </span><span class="nl">"message"</span><span class="p">:</span><span class="s2">"Hi There! Press one to continue."</span><span class="p">,</span><span class="w">
          </span><span class="nl">"voice_gender"</span><span class="p">:</span><span class="s2">"Female"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"inherited"</span><span class="p">:</span><span class="kc">true</span><span class="w">
       </span><span class="p">},</span><span class="w">
       </span><span class="nl">"timers"</span><span class="p">:[</span><span class="w">
          </span><span class="p">{</span><span class="w">
             </span><span class="nl">"id"</span><span class="p">:</span><span class="mi">113</span><span class="p">,</span><span class="w">
             </span><span class="nl">"seconds"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
             </span><span class="nl">"url"</span><span class="p">:</span><span class="s2">"http://www.thertrack.com/click.track?CID=[campaign_id]&amp;AFID=[affiliate_id]&amp;SID=[sub_id]"</span><span class="p">,</span><span class="w">
             </span><span class="nl">"inherited"</span><span class="p">:</span><span class="kc">true</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
             </span><span class="nl">"id"</span><span class="p">:</span><span class="mi">114</span><span class="p">,</span><span class="w">
             </span><span class="nl">"seconds"</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span><span class="w">
             </span><span class="nl">"url"</span><span class="p">:</span><span class="s2">"http://www.thertrack.com/pixel.track?CID=[campaign_id]&amp;AFID=[affiliate_id]&amp;SID=[sub_id]&amp;MerchantReferenceID=[caller_id]-[called_number]-[call_duration]"</span><span class="p">,</span><span class="w">
             </span><span class="nl">"inherited"</span><span class="p">:</span><span class="kc">true</span><span class="w">
          </span><span class="p">}</span><span class="w">
       </span><span class="p">],</span><span class="w">
       </span><span class="nl">"menu_options"</span><span class="p">:[</span><span class="w">
          </span><span class="p">{</span><span class="w">
             </span><span class="nl">"menu_option"</span><span class="p">:{</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="mi">44</span><span class="p">,</span><span class="w">
                </span><span class="nl">"option"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"target_cid"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="nl">"target_number"</span><span class="p">:</span><span class="s2">"+18667878878"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"inherited"</span><span class="p">:</span><span class="kc">true</span><span class="w">
             </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
       </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre></div>
<p>Get all Numbers belonging to the Company.</p>

<h3 id="http-request-25">HTTP Request</h3>

<p><code>GET https://api.retreaver.com/numbers.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<h3 id="parameters-5">Parameters</h3>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Default</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>client_cid</td>
      <td>null</td>
      <td>Restrict results to Numbers that belong to the given Campaign “CID”. Note: CID is a hash (for example <code>07c5f595</code>) and is distinct from <code>campaign_id</code> which is a numerical ID.</td>
    </tr>
    <tr>
      <td>client_afid</td>
      <td>null</td>
      <td>Restrict results to Numbers that belong to the given Affiliate “AFID”. Note: AFID is a hash (for example: <code>b687ad95</code>) and is distinct from <code>affiliate_id</code> which is a numerical ID.</td>
    </tr>
    <tr>
      <td>sub_id</td>
      <td>null</td>
      <td>Restrict results to Numbers that belong to the given SubID.</td>
    </tr>
  </tbody>
</table>

<h2 id="get-a-specific-number">Get a specific Number</h2>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="s2">"https://api.retreaver.com/numbers/5.json?api_key=woofwoofwoof&amp;company_id=1"</span>
</code></pre></div>
<blockquote>
  <p>The above command returns JSON structured like this:</p>
</blockquote>

<div class="highlight"><pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"number"</span><span class="p">:{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span><span class="w">
      </span><span class="nl">"number"</span><span class="p">:</span><span class="s2">"+16479311232"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"toll_free"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="s2">"2012-05-03T13:53:23Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created_at"</span><span class="p">:</span><span class="s2">"2012-04-18T06:05:05Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sid"</span><span class="p">:</span><span class="s2">"superaffiliate"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"afid"</span><span class="p">:</span><span class="s2">"0001"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"cid"</span><span class="p">:</span><span class="s2">"111"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"uses_campaign_settings"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"greeting"</span><span class="p">:{</span><span class="w">
         </span><span class="nl">"message"</span><span class="p">:</span><span class="s2">"Hi There! Press one to continue."</span><span class="p">,</span><span class="w">
         </span><span class="nl">"voice_gender"</span><span class="p">:</span><span class="s2">"Female"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"inherited"</span><span class="p">:</span><span class="kc">true</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"timers"</span><span class="p">:[</span><span class="w">
         </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="mi">113</span><span class="p">,</span><span class="w">
            </span><span class="nl">"seconds"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"url"</span><span class="p">:</span><span class="s2">"http://www.thertrack.com/click.track?CID=[campaign_id]&amp;AFID=[affiliate_id]&amp;SID=[sub_id]"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"inherited"</span><span class="p">:</span><span class="kc">true</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="mi">114</span><span class="p">,</span><span class="w">
            </span><span class="nl">"seconds"</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span><span class="w">
            </span><span class="nl">"url"</span><span class="p">:</span><span class="s2">"http://www.thertrack.com/pixel.track?CID=[campaign_id]&amp;AFID=[affiliate_id]&amp;SID=[sub_id]&amp;MerchantReferenceID=[caller_id]-[called_number]-[call_duration]"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"inherited"</span><span class="p">:</span><span class="kc">true</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"menu_options"</span><span class="p">:[</span><span class="w">
         </span><span class="p">{</span><span class="w">
            </span><span class="nl">"menu_option"</span><span class="p">:{</span><span class="w">
               </span><span class="nl">"id"</span><span class="p">:</span><span class="mi">44</span><span class="p">,</span><span class="w">
               </span><span class="nl">"option"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
               </span><span class="nl">"target_cid"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
               </span><span class="nl">"target_number"</span><span class="p">:</span><span class="s2">"+18667878878"</span><span class="p">,</span><span class="w">
               </span><span class="nl">"inherited"</span><span class="p">:</span><span class="kc">true</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Get a Number by our internal ID.</p>

<h3 id="http-request-26">HTTP Request</h3>

<p><code>GET https://api.retreaver.com/numbers/5.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<h2 id="create-a-number">Create a Number</h2>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="nt">-s</span> <span class="se">\</span>
    <span class="nt">-X</span> POST <span class="se">\</span>
    https://api.retreaver.com/numbers.json <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    <span class="nt">-d</span> <span class="s1">'{"number":{"type":"Toll-free","desired_text":"TEST","afid":"0002","cid":"0001","sid":"superaffiliate"}}'</span>
</code></pre></div>
<blockquote>
  <p>The above command returns JSON structured like this:</p>
</blockquote>

<div class="highlight"><pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"number"</span><span class="p">:{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="mi">79</span><span class="p">,</span><span class="w">
      </span><span class="nl">"number"</span><span class="p">:</span><span class="s2">"+18008378206"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"toll_free"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="s2">"2012-07-15T03:15:42Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created_at"</span><span class="p">:</span><span class="s2">"2012-07-15T03:15:42Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sid"</span><span class="p">:</span><span class="s2">"superaffiliate"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"afid"</span><span class="p">:</span><span class="s2">"0002"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"cid"</span><span class="p">:</span><span class="s2">"0001"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"uses_campaign_settings"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"greeting"</span><span class="p">:{</span><span class="w">
         </span><span class="nl">"audio_file_name"</span><span class="p">:</span><span class="s2">"greeting.flac"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"audio_file_content_type"</span><span class="p">:</span><span class="s2">"application/octet-stream"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"audio_file_size"</span><span class="p">:</span><span class="mi">4990865</span><span class="p">,</span><span class="w">
         </span><span class="nl">"audio_file_updated_at"</span><span class="p">:</span><span class="s2">"2012-07-15T01:30:34Z"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"inherited"</span><span class="p">:</span><span class="kc">true</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"timers"</span><span class="p">:[</span><span class="w">
         </span><span class="p">{</span><span class="w">
            </span><span class="nl">"timer"</span><span class="p">:{</span><span class="w">
               </span><span class="nl">"id"</span><span class="p">:</span><span class="mi">201</span><span class="p">,</span><span class="w">
               </span><span class="nl">"seconds"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
               </span><span class="nl">"url"</span><span class="p">:</span><span class="s2">"http://callpixels.com.go2cloud.org/aff_c?offer_id=[campaign_id]&amp;aff_id=[affiliate_id]&amp;aff_sub=[sub_id]"</span><span class="p">,</span><span class="w">
               </span><span class="nl">"inherited"</span><span class="p">:</span><span class="kc">true</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="p">{</span><span class="w">
            </span><span class="nl">"timer"</span><span class="p">:{</span><span class="w">
               </span><span class="nl">"id"</span><span class="p">:</span><span class="mi">202</span><span class="p">,</span><span class="w">
               </span><span class="nl">"seconds"</span><span class="p">:</span><span class="mi">90</span><span class="p">,</span><span class="w">
               </span><span class="nl">"url"</span><span class="p">:</span><span class="s2">"http://callpixels.com.go2cloud.org/[has_offers_code]?adv_sub=[call_log_id]-[caller_id]-[called_number]-[call_duration]-[call_recording_url]"</span><span class="p">,</span><span class="w">
               </span><span class="nl">"inherited"</span><span class="p">:</span><span class="kc">true</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"menu_options"</span><span class="p">:[</span><span class="w">
         </span><span class="p">{</span><span class="w">
            </span><span class="nl">"menu_option"</span><span class="p">:{</span><span class="w">
               </span><span class="nl">"id"</span><span class="p">:</span><span class="mi">66</span><span class="p">,</span><span class="w">
               </span><span class="nl">"option"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
               </span><span class="nl">"target_cid"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
               </span><span class="nl">"target_number"</span><span class="p">:</span><span class="s2">"+18884899999"</span><span class="p">,</span><span class="w">
               </span><span class="nl">"inherited"</span><span class="p">:</span><span class="kc">true</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="p">{</span><span class="w">
            </span><span class="nl">"menu_option"</span><span class="p">:{</span><span class="w">
               </span><span class="nl">"id"</span><span class="p">:</span><span class="mi">71</span><span class="p">,</span><span class="w">
               </span><span class="nl">"option"</span><span class="p">:</span><span class="s2">"2"</span><span class="p">,</span><span class="w">
               </span><span class="nl">"target_cid"</span><span class="p">:</span><span class="s2">"399944"</span><span class="p">,</span><span class="w">
               </span><span class="nl">"target_number"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
               </span><span class="nl">"inherited"</span><span class="p">:</span><span class="kc">true</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Creates a new phone Number.</p>

<h3 id="http-request-27">HTTP Request</h3>

<p><code>POST https://api.retreaver.com/numbers.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<p><code>Content-Type: application/json</code></p>

<p><code>{"number":{"type":"Toll-free","desired_text":"TEST","afid":"0002","cid":"0001","sid":"superaffiliate"}}</code></p>

<h3 id="parameters-6">Parameters</h3>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Type</th>
      <th>Default</th>
      <th>Required</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>type</td>
      <td>string</td>
      <td>Toll-free</td>
      <td>required</td>
      <td>Toll-free or Local, the kind of number that is desired. Defaults to Toll-free.</td>
    </tr>
    <tr>
      <td>desired_text</td>
      <td>string</td>
      <td> </td>
      <td> </td>
      <td>If you would like us to attempt to get a number that contains a specific word, enter it here. We will fall back to normal numbers if a number containing your word is not found.</td>
    </tr>
    <tr>
      <td>country</td>
      <td>string</td>
      <td>US</td>
      <td> </td>
      <td>For Local numbers only, the 2 character country code for the country you would like the number to be in. Defaults to US. Possible values: US CA AT BE DK FI FR GB IE IT NL PL SE</td>
    </tr>
    <tr>
      <td>afid</td>
      <td>string</td>
      <td> </td>
      <td>required</td>
      <td>The affiliate ID this number belongs to. If not found, we will create a new affiliate with this AFID.</td>
    </tr>
    <tr>
      <td>cid</td>
      <td>string</td>
      <td> </td>
      <td>required</td>
      <td>The campaign ID this number belongs to. You must set up the campaign before creating a number for it.</td>
    </tr>
    <tr>
      <td>sid</td>
      <td>string</td>
      <td> </td>
      <td> </td>
      <td>The SubID this number belongs to.</td>
    </tr>
    <tr>
      <td>destroy_nested</td>
      <td>boolean</td>
      <td>false</td>
      <td> </td>
      <td>When set, causes existing timers and menu_options on this number to be destroyed.</td>
    </tr>
  </tbody>
</table>

<h3 id="optional-parameters">Optional Parameters</h3>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Type</th>
      <th>Default</th>
      <th>Required</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>message</td>
      <td>string</td>
      <td> </td>
      <td> </td>
      <td><em>Text-to-speech</em>  A message you want read aloud to the caller when they dial your number. Make sure to tell them to press one to continue.</td>
    </tr>
    <tr>
      <td>voice_gender</td>
      <td>string</td>
      <td>Male</td>
      <td> </td>
      <td><em>Text-to-speech</em>  Male or Female, the gender of the text-to-speech voice you want.</td>
    </tr>
    <tr>
      <td>message_file</td>
      <td>file</td>
      <td> </td>
      <td> </td>
      <td><em>Audio File</em> An audio file you would like played for the caller when they dial your number. Use this field with multipart/form-data submissions.</td>
    </tr>
    <tr>
      <td>message_file_b64_data</td>
      <td>string</td>
      <td> </td>
      <td> </td>
      <td><em>Audio File</em> A Base64-encoded audio file. Only use this field if you’re not using the message_file field.</td>
    </tr>
    <tr>
      <td>message_file_b64_filename</td>
      <td>string</td>
      <td> </td>
      <td> </td>
      <td><em>Audio File</em> The original file name for the Base64-encoded audio file. Something like ‘memo.flac’. We suggest using the highest quality audio available.</td>
    </tr>
    <tr>
      <td>repeat</td>
      <td>integer</td>
      <td>4</td>
      <td> </td>
      <td>The number of times to repeat the greeting.</td>
    </tr>
    <tr>
      <td>timers_attributes</td>
      <td>array</td>
      <td> </td>
      <td> </td>
      <td>An array of timers.</td>
    </tr>
    <tr>
      <td>menu_options_attributes</td>
      <td>array</td>
      <td> </td>
      <td> </td>
      <td>An array of menu options.</td>
    </tr>
  </tbody>
</table>

<p><strong>Nested Attribute: Timer</strong></p>

<p>Only include Timers if you want to override the Campaign settings. For more information on Timers, see <a href="#create-a-campaign">Campaign</a>.</p>

<p>If you do include Timers, the <code>inherited</code> attribute on them will be set to <code>false</code>.</p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Type</th>
      <th>Default</th>
      <th>Required</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>seconds</td>
      <td>integer</td>
      <td> </td>
      <td>required</td>
      <td>The minimum length of time the call must last for this pixel to be fired. If set to 0, the pixel will fire at the beginning of the call, much like a click.</td>
    </tr>
    <tr>
      <td>url</td>
      <td>string</td>
      <td> </td>
      <td>required</td>
      <td>The URL that should be called for this timer. The URL does not have to be a pixel, and will be passed any cookies that were set on the 0-second timer. Our bot follows redirects intelligently.</td>
    </tr>
  </tbody>
</table>

<p><strong>Nested Attribute: Menu Option</strong></p>

<p>Only include Menu Options if you want to override the Campaign settings. See <a href="#create-a-campaign">Campaign</a> for more details.</p>

<p>If you do include Menu Options, the <code>inherited</code> attribute on them will be set to <code>false</code>.</p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Type</th>
      <th>Default</th>
      <th>Required</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>option</td>
      <td>string</td>
      <td> </td>
      <td>required</td>
      <td>The button the caller will press. The default menu option for a campaign is the one for button press ‘1’, so if you aren’t using an IVR and want the call to forward instantly, set the option to ‘1’. (1 2 3 4 5 6 7 8 9 0 * #)</td>
    </tr>
    <tr>
      <td>target_number</td>
      <td>string</td>
      <td> </td>
      <td> </td>
      <td>A phone number to redirect the caller to. All &gt; 0 second timers will start when the call is answered.</td>
    </tr>
    <tr>
      <td>target_cid</td>
      <td>string</td>
      <td> </td>
      <td> </td>
      <td>A campaign ID to redirect the caller to. The campaign must be configured in the system. If this value is set, it will overrride the target number. This option can be used to allow the caller to replay the greeting.</td>
    </tr>
  </tbody>
</table>

<h2 id="update-a-number">Update a Number</h2>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="nt">-s</span> <span class="se">\</span>
    <span class="nt">-X</span> PUT <span class="se">\</span>
    https://api.retreaver.com/numbers/79.json?api_key<span class="o">=</span>woofwoofwoof&amp;company_id<span class="o">=</span>1 <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    <span class="nt">-d</span> <span class="s1">'{"number":{"afid":"0005"}}'</span>
</code></pre></div>
<blockquote>
  <p>The above command returns JSON structured like this:</p>
</blockquote>

<div class="highlight"><pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"number"</span><span class="p">:{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="mi">79</span><span class="p">,</span><span class="w">
      </span><span class="nl">"number"</span><span class="p">:</span><span class="s2">"+15558237206"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"toll_free"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="s2">"2012-07-15T03:15:42Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created_at"</span><span class="p">:</span><span class="s2">"2012-07-15T03:15:42Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sid"</span><span class="p">:</span><span class="s2">"superaffiliate"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"afid"</span><span class="p">:</span><span class="s2">"0005"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"cid"</span><span class="p">:</span><span class="s2">"0001"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"uses_campaign_settings"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"greeting"</span><span class="p">:{</span><span class="w">
         </span><span class="nl">"audio_file_name"</span><span class="p">:</span><span class="s2">"greeting.flac"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"audio_file_content_type"</span><span class="p">:</span><span class="s2">"application/octet-stream"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"audio_file_size"</span><span class="p">:</span><span class="mi">4990865</span><span class="p">,</span><span class="w">
         </span><span class="nl">"audio_file_updated_at"</span><span class="p">:</span><span class="s2">"2012-07-15T01:30:34Z"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"inherited"</span><span class="p">:</span><span class="kc">true</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"timers"</span><span class="p">:[</span><span class="w">
         </span><span class="p">{</span><span class="w">
            </span><span class="nl">"timer"</span><span class="p">:{</span><span class="w">
               </span><span class="nl">"id"</span><span class="p">:</span><span class="mi">201</span><span class="p">,</span><span class="w">
               </span><span class="nl">"seconds"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
               </span><span class="nl">"url"</span><span class="p">:</span><span class="s2">"http://callpixels.com.go2cloud.org/aff_c?offer_id=[campaign_id]&amp;aff_id=[affiliate_id]&amp;aff_sub=[sub_id]"</span><span class="p">,</span><span class="w">
               </span><span class="nl">"inherited"</span><span class="p">:</span><span class="kc">true</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="p">{</span><span class="w">
            </span><span class="nl">"timer"</span><span class="p">:{</span><span class="w">
               </span><span class="nl">"id"</span><span class="p">:</span><span class="mi">202</span><span class="p">,</span><span class="w">
               </span><span class="nl">"seconds"</span><span class="p">:</span><span class="mi">90</span><span class="p">,</span><span class="w">
               </span><span class="nl">"url"</span><span class="p">:</span><span class="s2">"http://callpixels.com.go2cloud.org/[has_offers_code]?adv_sub=[call_log_id]-[caller_id]-[called_number]-[call_duration]-[call_recording_url]"</span><span class="p">,</span><span class="w">
               </span><span class="nl">"inherited"</span><span class="p">:</span><span class="kc">true</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"menu_options"</span><span class="p">:[</span><span class="w">
         </span><span class="p">{</span><span class="w">
            </span><span class="nl">"menu_option"</span><span class="p">:{</span><span class="w">
               </span><span class="nl">"id"</span><span class="p">:</span><span class="mi">66</span><span class="p">,</span><span class="w">
               </span><span class="nl">"option"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
               </span><span class="nl">"target_cid"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
               </span><span class="nl">"target_number"</span><span class="p">:</span><span class="s2">"+18884899999"</span><span class="p">,</span><span class="w">
               </span><span class="nl">"inherited"</span><span class="p">:</span><span class="kc">true</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="p">{</span><span class="w">
            </span><span class="nl">"menu_option"</span><span class="p">:{</span><span class="w">
               </span><span class="nl">"id"</span><span class="p">:</span><span class="mi">71</span><span class="p">,</span><span class="w">
               </span><span class="nl">"option"</span><span class="p">:</span><span class="s2">"2"</span><span class="p">,</span><span class="w">
               </span><span class="nl">"target_cid"</span><span class="p">:</span><span class="s2">"399944"</span><span class="p">,</span><span class="w">
               </span><span class="nl">"target_number"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
               </span><span class="nl">"inherited"</span><span class="p">:</span><span class="kc">true</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Updates the Number with any attributes you have passed in.</p>

<aside class="notice">
You must replace <code>79</code> with the Retreaver ID of the Number you want to update.
</aside>

<h3 id="http-request-28">HTTP Request</h3>

<p><code>PUT https://api.retreaver.com/numbers/79.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<p><code>Content-Type: application/json</code></p>

<p><code>{"number":{"afid":"0005"}}</code></p>

<h2 id="remove-a-number">Remove a Number</h2>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="nt">-X</span> DELETE https://api.retreaver.com/numbers/79.json?api_key<span class="o">=</span>woofwoofwoof&amp;company_id<span class="o">=</span>1
</code></pre></div>
<p>Deletes the given number. Numbers will be deprovisioned within 24 hours. Do not delete Numbers if you are porting them to another provider,
until you have confirmed that the port has completed.</p>

<h1 id="number-pools">Number Pools</h1>

<p>Number Pools are used to dynamically assign Numbers whenever a user visits your website. Number Pools are used in lieu of static Numbers when
you want to track many different attributes.</p>

<h2 id="get-all-number-pools">Get all Number Pools</h2>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="s2">"https://api.retreaver.com/number_pools.json?api_key=woofwoofwoof&amp;company_id=1"</span>
</code></pre></div>
<blockquote>
  <p>The above command returns JSON structured like this:</p>
</blockquote>

<div class="highlight"><pre class="highlight json"><code><span class="p">[{</span><span class="w">
     </span><span class="nl">"number_pool"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
         </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
         </span><span class="nl">"numbers_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Toll-free"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CA"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"max_pool_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
         </span><span class="nl">"buffer_seconds"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-04-25T16:16:51Z"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-04-25T16:16:51Z"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"google_analytics"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
         </span><span class="nl">"hide_embedded_access"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
         </span><span class="nl">"afid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0001"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"cid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"111"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"reserve_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
     </span><span class="p">}</span><span class="w">
 </span><span class="p">}]</span><span class="w">
</span></code></pre></div>
<p>Returns all the Number Pools you have in our system.</p>

<h3 id="http-request-29">HTTP Request</h3>

<p><code>GET https://api.retreaver.com/number_pools.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<h3 id="parameters-7">Parameters</h3>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Default</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>cid</td>
      <td>null</td>
      <td>Restrict results to Number Pools that belong to the given Campaign ID.</td>
    </tr>
    <tr>
      <td>afid</td>
      <td>null</td>
      <td>Restrict results to Number Pools that belong to the given Affiliate ID.</td>
    </tr>
  </tbody>
</table>

<h2 id="get-a-specific-number-pool">Get a specific Number Pool</h2>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="s2">"https://api.retreaver.com/number_pools/1.json?api_key=woofwoofwoof&amp;company_id=1"</span>
</code></pre></div>
<blockquote>
  <p>The above command returns JSON structured like this:</p>
</blockquote>

<div class="highlight"><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"number_pool"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"numbers_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Toll-free"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"max_pool_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="nl">"buffer_seconds"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-04-25T16:16:51Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-04-25T16:16:51Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"google_analytics"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"hide_embedded_access"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"afid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0001"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"cid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"111"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"reserve_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Returns a single Number Pool based on our internal ID.</p>

<h3 id="http-request-30">HTTP Request</h3>

<p><code>GET https://api.retreaver.com/number_pools/1.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<h2 id="create-a-number-pool">Create a Number Pool</h2>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="nt">-s</span> <span class="se">\</span>
    <span class="nt">-X</span> POST <span class="se">\</span>
    https://api.retreaver.com/number_pools.json?api_key<span class="o">=</span>woofwoofwoof&amp;company_id<span class="o">=</span>1 <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    <span class="nt">-d</span> <span class="s1">'{ \
            "number_pool": { \
                "cid": "111", \
                "max_pool_size": 100, \
                "hide_embedded_access": true, \
                "google_analytics": true \
            } \
        }'</span>
</code></pre></div>
<blockquote>
  <p>The above command returns JSON structured like this:</p>
</blockquote>

<div class="highlight"><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"number_pool"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">49</span><span class="p">,</span><span class="w">
        </span><span class="nl">"numbers_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"max_pool_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
        </span><span class="nl">"buffer_seconds"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-04-25T16:53:52Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-04-25T16:53:52Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"hide_embedded_access"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"google_analytics"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"afid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"cid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"111"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Toll-free"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"reserve_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"google_analytics_paths"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Network timer (always)"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/callpixels/8ddc04aa-0020-45eb-89df-ed45b8ed43a7"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Network timer (connect)"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/callpixels/18135f62-00ff-4818-941d-d88b6a93f27d"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Creates a new Number Pool.</p>

<h3 id="http-request-31">HTTP Request</h3>

<p><code>POST https://api.retreaver.com/number_pools.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<p><code>Content-Type: application/json</code></p>

<p><code>{"number_pool":{"cid":"111","max_pool_size":100,"hide_embedded_access":true,"google_analytics":true}}</code></p>

<h3 id="parameters-8">Parameters</h3>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Type</th>
      <th>Default</th>
      <th>Required</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>cid</td>
      <td>string</td>
      <td> </td>
      <td>required</td>
      <td>The campaign ID this number pool belongs to. You must set up the campaign before creating a number pool for it.</td>
    </tr>
    <tr>
      <td>type</td>
      <td>string</td>
      <td>Toll-free</td>
      <td> </td>
      <td>Toll-free or Local, the type of number that is desired for this number pool.</td>
    </tr>
    <tr>
      <td>country</td>
      <td>string</td>
      <td>US</td>
      <td> </td>
      <td>For Local number pools only, the 2 character country code for the country you would like the numbers to be in. Possible values: US CA AT BE DK FI FR GB IE IT NL PL SE</td>
    </tr>
    <tr>
      <td>afid</td>
      <td>string</td>
      <td> </td>
      <td> </td>
      <td>The affiliate ID this number pool belongs to. You must set up the affiliate before you create the number pool.</td>
    </tr>
    <tr>
      <td>max_pool_size</td>
      <td>integer</td>
      <td>10</td>
      <td> </td>
      <td>The maximum number of numbers you want in this number pool.</td>
    </tr>
    <tr>
      <td>buffer_seconds</td>
      <td>integer</td>
      <td>0</td>
      <td> </td>
      <td>The number of seconds for a number to retain its assignment after the visitor has left your site.</td>
    </tr>
    <tr>
      <td>hide_embedded_access</td>
      <td>boolean</td>
      <td>false</td>
      <td> </td>
      <td>When true, will not show the embedded affiliate phone number management interface for this campaign.</td>
    </tr>
    <tr>
      <td>google_analytics</td>
      <td>boolean</td>
      <td>false</td>
      <td> </td>
      <td>Enables our Google Analytics integration. Incompatible with number pools that have an assigned affiliate.</td>
    </tr>
    <tr>
      <td>reserve_size</td>
      <td>integer</td>
      <td>1</td>
      <td> </td>
      <td>The number of numbers to pre-provision and hold in reserve. Allows numbers to be instantly assigned and helps avoid delays in provisioning numbers.</td>
    </tr>
  </tbody>
</table>

<h2 id="update-a-number-pool">Update a Number Pool</h2>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="nt">-s</span> <span class="se">\</span>
    <span class="nt">-X</span> PUT <span class="se">\</span>
    https://api.retreaver.com/number_pools/49.json <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    <span class="nt">-d</span> <span class="s1">'{"number_pool":{"max_pool_size":"1000"}}'</span>
</code></pre></div>
<blockquote>
  <p>The above command returns JSON structured like this:</p>
</blockquote>

<div class="highlight"><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"number_pool"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">49</span><span class="p">,</span><span class="w">
        </span><span class="nl">"numbers_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"max_pool_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"buffer_seconds"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-04-25T18:53:52Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-04-25T16:53:52Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"hide_embedded_access"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"google_analytics"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"afid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"cid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"111"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Toll-free"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"reserve_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"google_analytics_paths"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Network timer (always)"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/callpixels/8ddc04aa-0020-45eb-89df-ed45b8ed43a7"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Network timer (connect)"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/callpixels/18135f62-00ff-4818-941d-d88b6a93f27d"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Updates the Number Pool with any attributes you have passed in.</p>

<aside class="notice">
You must replace <code>49</code> with the Retreaver ID of the Number Pool you want to update.
</aside>

<h3 id="http-request-32">HTTP Request</h3>

<p><code>PUT https://api.retreaver.com/number_pools/49.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<p><code>Content-Type: application/json</code></p>

<p><code>{"number_pool":{"max_pool_size":"1000"}}</code></p>

<h2 id="remove-a-number-pool">Remove a Number Pool</h2>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="nt">-X</span> DELETE https://api.retreaver.com/number_pools/49.json?api_key<span class="o">=</span>woofwoofwoof&amp;company_id<span class="o">=</span>1
</code></pre></div>
<p>Deletes the given Number Pool.</p>

<aside class="warning">
This will also delete all Numbers associated with this Number Pool!
</aside>

<h1 id="companies">Companies</h1>

<p>Company exists to allow resellers to separate their resources by Company. AFID and CID collisions will not occur between Companies.</p>

<h2 id="get-the-active-company">Get the active Company</h2>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="s2">"https://api.retreaver.com/company.json?api_key=woofwoofwoof"</span>
</code></pre></div>
<blockquote>
  <p>The above command returns JSON structured like this:</p>
</blockquote>

<div class="highlight"><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"company"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Retreaver"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-04-17T22:58:17.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-12-19T11:00:37.896Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"embedded_key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6e1a3c121f83dad4c0bef78414b9e597"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"per_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"use_global_suppression_list"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100.0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"owner_user_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alice Bob"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Returns the currently active Company. This is the Company that will be modified if a request is sent in without a specific company_id.</p>

<aside class="warning">
You should always pass in the <code>company_id</code> parameter when requesting other objects, because switching Companies in the web interface will also switch Companies in the API.
</aside>

<h3 id="http-request-33">HTTP Request</h3>

<p><code>GET https://api.retreaver.com/company.json?api_key=woofwoofwoof</code></p>

<h2 id="get-a-specific-company">Get a specific Company</h2>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="s2">"https://api.retreaver.com/companies/1.json?api_key=woofwoofwoof"</span>
</code></pre></div>
<blockquote>
  <p>The above command returns JSON structured like this:</p>
</blockquote>

<div class="highlight"><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"company"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Retreaver"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-04-17T22:58:17.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-12-19T11:00:37.896Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"embedded_key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6e1a3c121f83dad4c0bef78414b9e597"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"per_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"use_global_suppression_list"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100.0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"owner_user_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alice Bob"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Returns the Company matching our internal ID.</p>

<h3 id="http-request-34">HTTP Request</h3>

<p><code>GET https://api.retreaver.com/companies/1.json?api_key=woofwoofwoof</code></p>

<h2 id="get-all-companies">Get all Companies</h2>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="s2">"https://api.retreaver.com/companies.json?api_key=woofwoofwoof"</span>
</code></pre></div>
<blockquote>
  <p>The above command returns JSON structured like this:</p>
</blockquote>

<div class="highlight"><pre class="highlight json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"company"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Foo Corp"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-10-08T15:23:31.777Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-15T02:55:46.690Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"embedded_key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6e1a3c121f83dad4c0bef78414b9e597"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"per_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"use_global_suppression_list"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200.0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"owner_user_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alice Bob"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"company"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Example Co"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-10-11T17:18:22.675Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-15T02:55:46.708Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"embedded_key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6e1a3c121f83dad4c0bef78414b9e597"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"per_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"use_global_suppression_list"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100.0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"owner_user_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Charlie Smith"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
 </span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p>Provides a complete list of Companies accessible via your Account.</p>

<h3 id="http-request-35">HTTP Request</h3>

<p><code>GET https://api.retreaver.com/companies.json?api_key=woofwoofwoof</code></p>

<h2 id="create-a-company">Create a Company</h2>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="nt">-s</span> <span class="se">\</span>
    <span class="nt">-X</span> POST <span class="se">\</span>
    https://api.retreaver.com/companies.json <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    <span class="nt">-d</span> <span class="s1">'{"company":{"name":"Retreaver"}}'</span>
</code></pre></div>
<blockquote>
  <p>The above command returns JSON structured like this:</p>
</blockquote>

<div class="highlight"><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"company"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Retreaver"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-01-28T12:18:44.131Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-01-28T12:18:44.131Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"embedded_key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6e1a3c121f83dad4c0bef78414b9e597"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"per_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"use_global_suppression_list"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100.0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"owner_user_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alice Bob"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Creates a Company.</p>

<aside class="info">
The Companies you create each have their own Accounts and payment settings.
</aside>

<h3 id="http-request-36">HTTP Request</h3>

<p><code>POST https://api.retreaver.com/companies.json?api_key=woofwoofwoof</code></p>

<p><code>Content-Type: application/json</code></p>

<p><code>{"company":{"name":"CallPixels.com"}}</code></p>

<h3 id="parameters-9">Parameters</h3>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Type</th>
      <th>Default</th>
      <th>Required</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>name</td>
      <td>string</td>
      <td> </td>
      <td>required</td>
      <td>The company name.</td>
    </tr>
  </tbody>
</table>

<h2 id="update-a-company">Update a Company</h2>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="nt">-s</span> <span class="se">\</span>
    <span class="nt">-X</span> PUT <span class="se">\</span>
    https://api.retreaver.com/companies/1.json <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    <span class="nt">-d</span> <span class="s1">'{"company":{"name":"Retreaver"}}'</span>
</code></pre></div>
<blockquote>
  <p>The above command returns JSON structured like this:</p>
</blockquote>

<div class="highlight"><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"company"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Retreaver"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-01-28T12:18:44.131Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-01-28T12:34:27.103Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"embedded_key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6e1a3c121f83dad4c0bef78414b9e597"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"per_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"use_global_suppression_list"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100.0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"owner_user_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alice Bob"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Updates the given Company with any attributes you have passed in.</p>

<aside class="notice">
You must replace <code>2</code> with the Retreaver ID of the Company you want to update.
</aside>

<h3 id="http-request-37">HTTP Request</h3>

<p><code>PUT https://api.retreaver.com/companies/2.json?api_key=woofwoofwoof</code></p>

<p><code>Content-Type: application/json</code></p>

<p><code>{"company":{"name":"Retreaver"}}</code></p>

<h2 id="remove-a-company">Remove a Company</h2>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="nt">-X</span> DELETE https://api.retreaver.com/companies/2.json?api_key<span class="o">=</span>woofwoofwoof
</code></pre></div>
<p>Deletes the given Company. You must delete any Numbers and Number Pools the Company has first.</p>

<h3 id="http-request-38">HTTP Request</h3>

<p><code>DELETE https://api.retreaver.com/companies/2.json?api_key=woofwoofwoof</code></p>

<h1 id="contacts">Contacts</h1>

<p>Contacts allow you to tie individual Calls from many Contact Numbers back to one person. You can also tag Contacts, and calls from their Contact Numbers will automatically inherit the tags.</p>

<h2 id="get-all-contacts">Get all Contacts</h2>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="s2">"https://api.retreaver.com/contacts.json?api_key=woofwoofwoof&amp;company_id=1"</span>
</code></pre></div>
<blockquote>
  <p>The above command returns JSON structured like this:</p>
</blockquote>

<div class="highlight"><pre class="highlight json"><code><span class="p">[{</span><span class="w">
    </span><span class="nl">"contact"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"contact_numbers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+18668987878"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Landline"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"tag_values"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"name"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Retreaver Support"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"operator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"=="</span><span class="p">,</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">154060720</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre></div>
<p>Provides a complete list of Contacts.</p>

<h3 id="http-request-39">HTTP Request</h3>

<p><code>GET https://api.retreaver.com/contacts.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<h2 id="get-a-specific-contact-by-id">Get a Specific Contact by ID</h2>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="s2">"https://api.retreaver.com/contacts/2.json?api_key=woofwoofwoof&amp;company_id=1"</span>
</code></pre></div>
<blockquote>
  <p>The above command returns JSON structured like this:</p>
</blockquote>

<div class="highlight"><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"contact"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"contact_numbers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+18668987878"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Landline"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"tag_values"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"name"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Retreaver Support"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"operator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"=="</span><span class="p">,</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">154060720</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Finds a Contact by its Retreaver ID.</p>

<h3 id="http-request-40">HTTP Request</h3>

<p><code>GET https://api.retreaver.com/contacts/2.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<h2 id="create-a-contact">Create a Contact</h2>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="nt">-s</span> <span class="se">\</span>
    <span class="nt">-X</span> POST <span class="se">\</span>
    https://api.retreaver.com/contacts.json <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    <span class="nt">-d</span> <span class="s1">'{"contact":{"tag_list":"&lt;&lt;&lt;name:Retreaver Support&gt;&gt;&gt;","contact_numbers_attributes":[{"number":"8668987878", "description":"Landline"}]}}'</span>
</code></pre></div>
<blockquote>
  <p>The above command returns JSON structured like this:</p>
</blockquote>

<div class="highlight"><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"contact"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"contact_numbers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+18668987878"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Landline"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"tag_values"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"name"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Retreaver Support"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"operator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"=="</span><span class="p">,</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">154060720</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Creates a Contact and associated Contact Number(s).</p>

<h3 id="http-request-41">HTTP Request</h3>

<p><code>POST https://api.retreaver.com/contacts.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<p><code>Content-Type: application/json</code></p>

<p><code>{"contact":{"tag_list":"&lt;&lt;&lt;name:Retreaver Support&gt;&gt;&gt;","contact_numbers_attributes":[{"number":"8668987878", "description":"Landline"}]}}</code></p>

<h3 id="parameters-10">Parameters</h3>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Type</th>
      <th>Default</th>
      <th>Required</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>tag_list</td>
      <td>string</td>
      <td> </td>
      <td> </td>
      <td>See notes below.</td>
    </tr>
    <tr>
      <td>contact_numbers_attributes</td>
      <td>array</td>
      <td> </td>
      <td>required</td>
      <td>An array of Contact Numbers.</td>
    </tr>
  </tbody>
</table>

<p><strong>Nested Attribute: Contact Number</strong></p>

<p>These are the phone numbers that are associated with your Contact.</p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Type</th>
      <th>Default</th>
      <th>Required</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>number</td>
      <td>string</td>
      <td> </td>
      <td>required</td>
      <td>Either a phone number or <code>sip:user@domain.com</code> formatted SIP endpoint. PSTN numbers should be <a href="https://en.wikipedia.org/wiki/E.164">E.164 formatted</a>.</td>
    </tr>
    <tr>
      <td>description</td>
      <td>string</td>
      <td> </td>
      <td> </td>
      <td>A description of the phone number, like ‘Home’, ‘Mobile’, ‘Work’, ‘iPhone’, etc.</td>
    </tr>
  </tbody>
</table>

<h3 id="taglist-notes">tag_list notes</h3>

<p>To set tags on a Contact, pass in a comma delineated, triple-angle-bracket enclosed string of tags as the <code>tag_list</code> value.</p>

<p>The system will create/find whatever tags you have set given this input without you having to track tag IDs. You must include the full list of tags you want set any time a tag_list parameter is passed in. To clear the tags, just pass in a blank string.</p>

<p>There is a limit of 100 tags added in this manner, but the system will automatically concatenate US zip <code>geo</code> tags.</p>

<h2 id="update-a-contact">Update a Contact</h2>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="nt">-s</span> <span class="se">\</span>
    <span class="nt">-X</span> PUT <span class="se">\</span>
    https://api.retreaver.com/contacts/2.json?api_key<span class="o">=</span>woofwoofwoof&amp;company_id<span class="o">=</span>1 <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    <span class="nt">-d</span> <span class="s1">'{"contact":{"contact_numbers_attributes":[{"id":2,"number":"+18001234567"}]}}'</span>
</code></pre></div>
<blockquote>
  <p>The above command returns JSON structured like this:</p>
</blockquote>

<div class="highlight"><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"contact"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"contact_numbers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+18001234567"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Landline"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"tag_values"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"name"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Retreaver Support"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"operator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"=="</span><span class="p">,</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">154060720</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Changes any attributes you have passed in on the Contact. To change a Contact Number, you must pass in the ID of the
existing Contact Number, or see <a href="#update-a-contact-number-by-phone-number">below</a> for an easier method.</p>

<h3 id="http-request-42">HTTP Request</h3>

<p><code>PUT https://api.retreaver.com/contacts/2.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<p><code>Content-Type: application/json</code></p>

<p><code>{"contact":{"contact_numbers_attributes":[{"id":2,"number":"+18001234567"}]}}</code></p>

<h2 id="remove-a-contact">Remove a Contact</h2>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="nt">-X</span> DELETE https://api.retreaver.com/contacts/2.json?api_key<span class="o">=</span>woofwoofwoof&amp;company_id<span class="o">=</span>1
</code></pre></div>
<p>Deletes the given Contact and all Contact Numbers associated with it.</p>

<h3 id="http-request-43">HTTP Request</h3>

<p><code>DELETE https://api.retreaver.com/contacts/2.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<h2 id="get-a-specific-contact-by-phone-number">Get a specific Contact by phone number</h2>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="s2">"https://api.retreaver.com/contact_numbers/+18001234567/contact.json?api_key=woofwoofwoof&amp;company_id=1"</span>
</code></pre></div>
<blockquote>
  <p>The above command returns JSON structured like this:</p>
</blockquote>

<div class="highlight"><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"contact"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"contact_numbers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+18001234567"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Landline"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"tag_values"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"name"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Retreaver Support"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"operator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"=="</span><span class="p">,</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">154060720</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Finds a Contact by phone number.</p>

<h3 id="http-request-44">HTTP Request</h3>

<p><code>GET https://api.retreaver.com/contact_numbers/+18001234567/contact.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<h2 id="update-a-contact-by-phone-number">Update a Contact by phone number</h2>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="nt">-s</span> <span class="se">\</span>
    <span class="nt">-X</span> PUT <span class="se">\</span>
    https://api.retreaver.com/contact_numbers/+18001234567/contact.json?api_key<span class="o">=</span>woofwoofwoof&amp;company_id<span class="o">=</span>1 <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    <span class="nt">-d</span> <span class="s1">'{"contact":{"tag_list":"&lt;&lt;&lt;name:Invalid Number&gt;&gt;&gt;"}}'</span>
</code></pre></div>
<blockquote>
  <p>The above command returns JSON structured like this:</p>
</blockquote>

<div class="highlight"><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"contact"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"contact_numbers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+18001234567"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Landline"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"tag_values"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"name"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid Number"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"operator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"=="</span><span class="p">,</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">154060721</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Updates a Contact by phone number.</p>

<h3 id="http-request-45">HTTP Request</h3>

<p><code>PUT https://api.retreaver.com/contact_numbers/+18001234567/contact.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<p><code>Content-Type: application/json</code></p>

<p><code>{"contact":{"tag_list":"&lt;&lt;&lt;name:Invalid Number&gt;&gt;&gt;"}}</code></p>

<h2 id="delete-a-contact-by-phone-number">Delete a Contact by phone number</h2>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="nt">-X</span> DELETE https://api.retreaver.com/contact_numbers/+18001234567/contact.json?api_key<span class="o">=</span>woofwoofwoof&amp;company_id<span class="o">=</span>1
</code></pre></div>
<p>Deletes the contact associated with the phone number and all other contact numbers associated with the contact.</p>

<h3 id="http-request-46">HTTP Request</h3>

<p><code>DELETE https://api.retreaver.com/contact_numbers/+18001234567/contact.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<h1 id="contact-numbers">Contact Numbers</h1>

<p>A convenience API for removing and updating Contact Numbers.</p>

<h2 id="delete-a-contact-number-from-a-contact-by-phone-number">Delete a Contact Number from a Contact by phone number</h2>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="nt">-X</span> DELETE https://api.retreaver.com/contact_numbers/+18668987878.json?api_key<span class="o">=</span>woofwoofwoof&amp;company_id<span class="o">=</span>1
</code></pre></div>
<p>Deletes the contact number from the Contact it is associated with, as long as the Contact has more than one Contact Number.</p>

<h3 id="http-request-47">HTTP Request</h3>

<p><code>DELETE https://api.retreaver.com/contact_numbers/+18668987878.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<h2 id="update-a-contact-number-by-phone-number">Update a Contact Number by phone number</h2>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="nt">-s</span> <span class="se">\</span>
    <span class="nt">-X</span> PUT <span class="se">\</span>
    https://api.retreaver.com/contact_numbers/+18001234567.json?api_key<span class="o">=</span>woofwoofwoof&amp;company_id<span class="o">=</span>1 <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    <span class="nt">-d</span> <span class="s1">'{"contact_number":{"number":"+18005551234"}}'</span>
</code></pre></div>
<blockquote>
  <p>The above command returns JSON structured like this:</p>
</blockquote>

<div class="highlight"><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"contact_number"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+18005551234"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Landline"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Easily updates a Contact Number.</p>

<h3 id="http-request-48">HTTP Request</h3>

<p><code>PUT https://api.retreaver.com/contact_numbers/+18001234567.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<p><code>Content-Type: application/json</code></p>

<p><code>{"contact_number":{"number":"+18005551234"}}</code></p>

<h1 id="caller-lists">Caller Lists</h1>

<p>Manage the caller lists on a Target. Add an remove numbers to the callers lists.</p>

<p>A Caller List allows you to associate a list of caller numbers with a target and use these caller number when making routing decision.
A common use case is a “suppressed” numbers list where certain calls should not be send to this target.</p>

<p>Another common use case is “a book of business” numbers list where a target has certain clients and they should only receive calls
when the caller is on their book of business.</p>

<h2 id="access">Access</h2>

<p>To use the API a postback key should be issued from the type “Caller List Management”</p>

<h2 id="caller-list">Caller List</h2>

<p>Caller lists are created on specific targets and companies</p>

<p>Numbers could be manages on the caller list after creating them.</p>

<h3 id="create-caller-list">Create caller list</h3>

<p>Send a POST request</p>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="nt">-X</span> POST <span class="s1">'https://api.retreaver.com/api/v2/targets/:target_id/caller_lists.json?key=:postback_key_uuid'</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Authorization: Bearer :postback_key_secret_key"</span> <span class="se">\</span>
    <span class="nt">-d</span> <span class="s1">'{"caller_list":  { "name": "suppressed" }}'</span>
</code></pre></div>
<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Required</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>target_id</td>
      <td>required</td>
      <td>the id of the target on Retreaver</td>
    </tr>
    <tr>
      <td>key</td>
      <td>required</td>
      <td>the postback_key UUID</td>
    </tr>
    <tr>
      <td>caller_list.name</td>
      <td>required</td>
      <td>the name of the list on this Target</td>
    </tr>
  </tbody>
</table>

<h3 id="delete-a-caller-list">Delete a caller list</h3>

<p>Send a DELETE request</p>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="nt">-X</span> DELETE <span class="s1">'https://api.retreaver.com/api/v2/targets/:target_id/caller_lists/:name.json?key=:postback_key_uuid'</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Authorization: Bearer :postback_key_secret_key"</span>
</code></pre></div>
<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Required</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>target_id</td>
      <td>required</td>
      <td>the id of the target on Retreaver</td>
    </tr>
    <tr>
      <td>key</td>
      <td>required</td>
      <td>the postback_key UUID</td>
    </tr>
    <tr>
      <td>name</td>
      <td>required</td>
      <td>the name of the list on this Target</td>
    </tr>
  </tbody>
</table>

<p>Deletes the caller list</p>

<h3 id="show-caller-list">Show caller list</h3>

<p>Send a GET request</p>

<p>Shows the name of the caller list along with some metadata</p>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="s1">'https://api.retreaver.com/api/v2/targets/:target_id/caller_lists/:name.json?key=:postback_key_uuid'</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Authorization: Bearer :postback_key_secret_key"</span>
</code></pre></div>
<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Required</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>target_id</td>
      <td>required</td>
      <td>the id of the target on Retreaver</td>
    </tr>
    <tr>
      <td>key</td>
      <td>required</td>
      <td>the postback_key UUID</td>
    </tr>
    <tr>
      <td>name</td>
      <td>required</td>
      <td>the name of the list on this Target</td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p>The above command returns JSON structured like this:</p>
</blockquote>

<div class="highlight"><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"caller_list"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"suppressed"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"caller_listable_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Target"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"caller_listable_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">43103</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<h2 id="caller-list-number">Caller List Number</h2>

<p>Manage a single number</p>

<h3 id="adding-a-single-number-to-a-caller-list">Adding a single number to a caller list</h3>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="nt">-X</span> POST <span class="s1">'https://api.retreaver.com/api/v2/targets/:target_id/caller_lists/:name/caller_list_numbers.json?key=:postback_key_uuid'</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Authorization: Bearer :postback_key_secret_key"</span> <span class="se">\</span>
    <span class="nt">-d</span> <span class="s1">'{"caller_list_number":  { "number": "+15855752500" }}'</span>
</code></pre></div>
<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Required</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>target_id</td>
      <td>required</td>
      <td>the id of the target on Retreaver</td>
    </tr>
    <tr>
      <td>name</td>
      <td>required</td>
      <td>the name of the list on this Target</td>
    </tr>
    <tr>
      <td>key</td>
      <td>required</td>
      <td>the postback_key UUID</td>
    </tr>
    <tr>
      <td>caller_list_number.number</td>
      <td>required</td>
      <td>A phone number in preferably in <a href="https://en.wikipedia.org/wiki/E.164">E.164 format</a>, but NANP format is also accepted</td>
    </tr>
  </tbody>
</table>

<h3 id="response-format">Response format</h3>

<p>API could respond in different formats. Use “.json/” for a json response or the “Accept: “ header.
If no format is provided the server will choose one json.</p>

<h3 id="deleting-a-single-number-from-caller-list">Deleting a single number from caller list</h3>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="nt">-X</span> DELETE <span class="s1">'https://api.retreaver.com/api/v2/targets/:target_id/caller_lists/:name/caller_list_numbers/+15855752500.json?key=:postback_key_uuid'</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Authorization: Bearer :postback_key_secret_key"</span>
</code></pre></div>
<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Type</th>
      <th>Default</th>
      <th>Required</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>key</td>
      <td>uuid</td>
      <td>null</td>
      <td>required</td>
      <td>the postback_key UUID</td>
    </tr>
    <tr>
      <td>number</td>
      <td>string</td>
      <td>null</td>
      <td>required</td>
      <td>A phone number in preferably in <a href="https://en.wikipedia.org/wiki/E.164">E.164 format</a>, but NANP format is also accepted</td>
    </tr>
  </tbody>
</table>

<h3 id="checking-if-a-number-is-on-a-caller-list">Checking if a number is on a caller list</h3>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="s1">'https://api.retreaver.com/api/v2/targets/:target_id/caller_lists/:name/caller_list_numbers/+15855752500.json?key=:postback_key_uuid'</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Authorization: Bearer :postback_key_secret_key"</span>
</code></pre></div>
<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Type</th>
      <th>Default</th>
      <th>Required</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>key</td>
      <td>uuid</td>
      <td>null</td>
      <td>required</td>
      <td>the postback_key UUID</td>
    </tr>
    <tr>
      <td>number</td>
      <td>string</td>
      <td>null</td>
      <td>required</td>
      <td>A phone number in preferably in <a href="https://en.wikipedia.org/wiki/E.164">E.164 format</a>, but NANP format is also accepted</td>
    </tr>
  </tbody>
</table>

<p>If the caller number is on the list there will be an HTTP 200 response showing the number and the number metadata.
When the caller number is not on the list there will be an HTTP 404 response and this caller number is not on the caller lists.
When a status number of 200 is required even when the caller number is not present on the list then
the endpoint for CallerListChecks could be used</p>

<h2 id="caller-list-checks">Caller List Checks</h2>

<p>The Caller List Checks endpoint returns a JSON object indicating whether a phone number is present in the caller list.</p>

<p>The preferred approach is to use the Caller List Number endpoint (GET <a href="#caller-list-number"> /…/caller_list_numbers/:number</a>). However, some platforms may not handle 404 Not Found responses correctly when a number does not exist. In such cases, the Caller List Checks endpoint provides an alternative — it always returns an HTTP 200 OK response with a status field describing the result.</p>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="nt">-X</span> POST <span class="s1">'https://api.retreaver.com/api/v2/targets/:target_id/caller_lists/:name/caller_list_checks.json?key=:postback_key_uuid'</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Authorization: Bearer :postback_key_secret_key"</span> <span class="se">\</span>
    <span class="nt">-d</span> <span class="s1">'{"caller_list_check":  { "number": "+15855752500" }}'</span>
</code></pre></div>
<blockquote>
  <p>The above command returns JSON structured like this:</p>
</blockquote>

<div class="highlight"><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"caller_list_check"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"present"</span><span class="p">,</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<h3 id="create-caller-list-check">Create Caller List Check</h3>

<h4 id="endpoint">Endpoint</h4>

<p>POST /api/v2/targets/:target_id/caller_lists/:name/caller_list_checks.json</p>

<h4 id="description">Description</h4>

<p>Checks for a caller number</p>

<h4 id="params">Params</h4>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Required</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>target_id</td>
      <td>required</td>
      <td>the id of the target on Retreaver</td>
    </tr>
    <tr>
      <td>name</td>
      <td>required</td>
      <td>the name of the list on this Target</td>
    </tr>
    <tr>
      <td>key</td>
      <td>required</td>
      <td>the postback_key UUID</td>
    </tr>
    <tr>
      <td>caller_list_check[number]</td>
      <td>required</td>
      <td>A phone number in preferably in <a href="https://en.wikipedia.org/wiki/E.164">E.164 format</a>, but NANP format is also accepted</td>
    </tr>
  </tbody>
</table>

<h4 id="response">Response</h4>

<table>
  <thead>
    <tr>
      <th>Field</th>
      <th>Type</th>
      <th>Description</th>
      <th>Possible Values</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>caller_list_check[status]</code></td>
      <td>string</td>
      <td>Indicates the caller number presence status</td>
      <td><code>present</code>, <code>not-present</code></td>
    </tr>
  </tbody>
</table>

<h2 id="caller-list-uploads">Caller List Uploads</h2>

<p>Mass update caller lists.</p>

<h3 id="add-many-numbers-to-a-caller-list">Add many numbers to a caller list</h3>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="nt">-X</span> POST <span class="s1">'https://api.retreaver.com/api/v2/targets/:target_id/caller_lists/:name/caller_list_uploads.json?key=:postback_key_uuid'</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Authorization: Bearer :postback_key_secret_key"</span> <span class="se">\</span>
    <span class="nt">-d</span> <span class="s1">'{
      "caller_list_upload":  {
        "numbers": "+15855752500\n15855752501",
      }
    }'</span>
</code></pre></div>
<blockquote>
  <p>The above command returns JSON structured like this:</p>
</blockquote>

<div class="highlight"><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"caller_list_upload"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Processing"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-04-30T13:29:40.100+03:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"error_messages"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nl">"clear_before_upload"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"create"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"csv_file_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://retreaver.com/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBHUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--026fb3531e87edb843c5fb432b766e56d3f1a9db/numbers_fb99fc78?disposition=attachment"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Required</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>target_id</td>
      <td>required</td>
      <td>the id of the target on Retreaver</td>
    </tr>
    <tr>
      <td>name</td>
      <td>required</td>
      <td>the name of the list on this Target</td>
    </tr>
    <tr>
      <td>key</td>
      <td>required</td>
      <td>the postback_key UUID</td>
    </tr>
    <tr>
      <td>caller_list_upload.numbers</td>
      <td>required</td>
      <td>A list of phone numbers, one number per line. Numbers could be in <a href="https://en.wikipedia.org/wiki/E.164">E.164 format</a> or NANP (e.g without the country code). When the number is without the country code, it will be prefixed automatically with +1..</td>
    </tr>
    <tr>
      <td>caller_list_upload.action</td>
      <td>optional</td>
      <td>‘create’ will create numbers on the caller list. ‘delete’ will delete the numbers from the caller list</td>
    </tr>
    <tr>
      <td>caller_list_upload.clear_before_upload</td>
      <td>optional</td>
      <td>when ‘true’ the caller list will be cleared before the provided numbers are processed.</td>
    </tr>
  </tbody>
</table>

<h3 id="remove-many-numbers-from-a-caller-list">Remove many numbers from a caller list</h3>

<p>Same parameters as Add</p>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="nt">-X</span> POST <span class="s1">'https://api.retreaver.com/api/v2/targets/:target_id/caller_lists/:name/caller_list_uploads.json?key=:postback_key_uuid'</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Authorization: Bearer :postback_key_secret_key"</span> <span class="se">\</span>
    <span class="nt">-d</span> <span class="s1">'{
      "caller_list_upload":  {
        "action": "delete",
        "numbers": "+15855752500\n15855752501",
      }
    }'</span>
</code></pre></div>
<h1 id="suppressed-numbers">Suppressed Numbers</h1>

<p>Manage the company’s Suppressed Numbers, including creating, updating, deleting, and retrieving suppressed numbers.</p>

<aside class="notice">
Suppressed Numbers exist regardless of whether or not there is a corresponding Contact Number or Contact.
</aside>

<h2 id="check-whether-or-not-the-company-has-any-suppressed-numbers">Check whether or not the company has any Suppressed Numbers</h2>

<p>Returns a boolean value (<code>true</code>/<code>false</code>) whether the Company has any suppressed numbers.</p>

<div class="highlight"><pre class="highlight shell"><code>curl https://api.retreaver.com/suppressed_numbers/check.json?api_key<span class="o">=</span>woofwoofwoof&amp;company_id<span class="o">=</span>1
</code></pre></div>
<blockquote>
  <p>The above command returns JSON structured like this:</p>
</blockquote>

<div class="highlight"><pre class="highlight json"><code><span class="p">{</span><span class="w"> </span><span class="nl">"suppressed_numbers_exist"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Returns true if the Company has any numbers suppressed.</p>

<h3 id="http-request-49">HTTP Request</h3>

<p><code>GET https://api.retreaver.com/suppressed_numbers/check.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<h2 id="get-all-suppressed-numbers-for-a-company">Get all Suppressed Numbers for a Company</h2>

<p>Get information about all of the numbers that are currently suppressed in a company.</p>

<div class="highlight"><pre class="highlight shell"><code>curl https://api.retreaver.com/suppressed_numbers.json?api_key<span class="o">=</span>woofwoofwoof&amp;company_id<span class="o">=</span>1
</code></pre></div>
<blockquote>
  <p>The above command returns JSON structured like this:</p>
</blockquote>

<aside class="notice">
    The Campaign ID `cid` will be returned only if the Suppressed Number is associated with a Campaign.
</aside>

<div class="highlight"><pre class="highlight json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"suppressed_number"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">18996945</span><span class="p">,</span><span class="w">
      </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+13213749611"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-09-30T21:09:54.769Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"can_resubscribe"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"cid"</span><span class="p">:</span><span class="w"> </span><span class="mi">159</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"suppressed_number"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">18996946</span><span class="p">,</span><span class="w">
      </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+13216065590"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-09-30T21:09:54.769Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"can_resubscribe"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"cid"</span><span class="p">:</span><span class="w"> </span><span class="mi">111</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"suppressed_number"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">18996947</span><span class="p">,</span><span class="w">
      </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+13216437667"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-09-30T21:09:54.769Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"can_resubscribe"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<h3 id="http-request-50">HTTP Request</h3>

<p><code>GET https://api.retreaver.com/suppressed_numbers.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<h2 id="get-a-specific-suppressed-number">Get a specific Suppressed Number</h2>

<p>Returns information about the Suppressed Number in the company, by the provided number. The number should be in the format: <code>+13216065590</code></p>

<div class="highlight"><pre class="highlight shell"><code>curl https://api.retreaver.com/suppressed_numbers/+13216065590.json?api_key<span class="o">=</span>woofwoofwoof&amp;company_id<span class="o">=</span>1
</code></pre></div>
<blockquote>
  <p>The above command returns JSON structured like this:</p>
</blockquote>

<aside class="notice">
    The Campaign ID `cid` will be returned only if the Suppressed Number is associated with a Campaign.
</aside>

<div class="highlight"><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"suppressed_number"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">18996946</span><span class="p">,</span><span class="w">
    </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+13216065590"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-09-30T21:09:54.769Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"can_resubscribe"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"cid"</span><span class="p">:</span><span class="w"> </span><span class="mi">111</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<h3 id="http-request-51">HTTP Request</h3>

<p><code>GET https://api.retreaver.com/suppressed_numbers/+13216065590.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<h2 id="delete-a-number-from-the-companys-suppressed-numbers">Delete a number from the company’s Suppressed Numbers</h2>

<p>Deletes the provided  number  from the company’s suppressed numbers. The number should be in the format: <code>+13216065590</code></p>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="nt">-X</span> DELETE https://api.retreaver.com/suppressed_numbers/+13216065590.json?api_key<span class="o">=</span>woofwoofwoof&amp;company_id<span class="o">=</span>1
</code></pre></div>
<h3 id="http-request-52">HTTP Request</h3>

<p><code>DELETE https://api.retreaver.com/suppressed_numbers/+13216065590.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<h2 id="create-a-suppressed-number-for-a-company">Create a Suppressed Number for a Company</h2>

<p>Adds a number to the company’s Suppressed Numbers. The <code>can_resubscribe</code> value toggles whether or not the caller can unblock themselves by pressing 7 if there is a “Caller Blocked” Prompt on the Campaign/Number they are calling.</p>

<p>The entire body of the post is optional, simply posting to <code>https://api.retreaver.com/suppressed_numbers/+13216065590.json?api_key=woofwoofwoof&amp;company_id=1</code> would block <code>+13216065590</code>; <code>can_resubscribe</code> is <code>true</code> by default. The intended use case is to allow callers to restore contact with a company after choosing to be routed to a “Add caller to suppressed numbers and hang up” routing option.</p>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="nt">-s</span> <span class="se">\</span>
    <span class="nt">-X</span> POST <span class="se">\</span>
    https://api.retreaver.com/suppressed_numbers/+13216065590.json?api_key<span class="o">=</span>woofwoofwoof&amp;company_id<span class="o">=</span>1 <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    <span class="nt">-d</span> <span class="s1">'{"suppressed_number": {"can_resubscribe": false}}'</span>
</code></pre></div>
<blockquote>
  <p>The above command returns JSON structured like this:</p>
</blockquote>

<div class="highlight"><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">18996958</span><span class="p">,</span><span class="w">
  </span><span class="nl">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"affiliate_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"campaign_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+13216065590"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-10-11T08:50:59.981Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-10-11T08:50:59.981Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"can_resubscribe"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<h3 id="http-request-53">HTTP Request</h3>

<p><code>POST https://api.retreaver.com/suppressed_numbers/+13216065590.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<p><code>Content-Type: application/json</code></p>

<p><code>{"suppressed_number": {"can_resubscribe": false}}</code></p>

<h2 id="update-a-suppressed-number-for-a-company">Update a Suppressed Number for a Company</h2>

<p>By sending a <code>PUT</code> request you can update properties such as <code>can_resubscribe</code> and <code>campaign_id</code> for an already created Suppressed Number. The number should be in the format: <code>+13216065590</code>.</p>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="nt">-s</span> <span class="se">\</span>
    <span class="nt">-X</span> POST <span class="se">\</span>
    https://api.retreaver.com/suppressed_numbers/+13216065590.json?api_key<span class="o">=</span>woofwoofwoof&amp;company_id<span class="o">=</span>1 <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    <span class="nt">-d</span> <span class="s1">'{"suppressed_number": {"can_resubscribe": false}}'</span>
</code></pre></div>
<h3 id="http-request-54">HTTP request</h3>

<p><code>PUT http://api.retreaver.com/suppressed_numbers/+13216065590.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<p><code>Content-Type: application/json</code></p>

<p><code>{"can_resubscribe": false, "campaign_id": "116dc0f6"}</code></p>

<h1 id="static-caller-numbers">Static Caller Numbers</h1>

<p>Static Caller Numbers are used to tell Retreaver that calls from a certain CallerID should be handled separately. Use
Static Caller Numbers when you have a call center sending you many calls with the same CallerID. Retreaver will either
prompt the caller for the caller’s real number, or will randomize the CallerID for use with our call control API.</p>

<h2 id="get-all-static-caller-numbers">Get all Static Caller Numbers</h2>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="s2">"https://api.retreaver.com/static_caller_numbers.json?api_key=woofwoofwoof&amp;company_id=1"</span>
</code></pre></div>
<blockquote>
  <p>The above command returns JSON structured like this:</p>
</blockquote>

<div class="highlight"><pre class="highlight json"><code><span class="p">[{</span><span class="w">
    </span><span class="nl">"static_caller_number"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w">
        </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+18668987878"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-10-02T14:36:14.166-04:00"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre></div>
<p>Provides a complete list of Static Numbers.</p>

<h3 id="http-request-55">HTTP Request</h3>

<p><code>GET https://api.retreaver.com/static_caller_numbers.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<h2 id="create-a-static-caller-number">Create a Static Caller Number</h2>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="nt">-s</span> <span class="se">\</span>
    <span class="nt">-X</span> POST <span class="se">\</span>
    https://api.retreaver.com/static_caller_numbers.json?api_key<span class="o">=</span>woofwoofwoof&amp;company_id<span class="o">=</span>1 <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    <span class="nt">-d</span> <span class="s1">'{"static_caller_number":{"number":"+18668987878"}}'</span>
</code></pre></div>
<p>Creates a Static Caller Number.</p>

<h3 id="http-request-56">HTTP Request</h3>

<p><code>POST https://api.retreaver.com/static_caller_numbers.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<p><code>Content-Type: application/json</code></p>

<p><code>{"static_caller_number": {"number": "+18668987878"}}</code></p>

<h3 id="parameters-11">Parameters</h3>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Type</th>
      <th>Default</th>
      <th>Required</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>number</td>
      <td>string</td>
      <td>null</td>
      <td>required</td>
      <td>A phone number in preferably in <a href="https://en.wikipedia.org/wiki/E.164">E.164 format</a>, but NANP format is also accepted</td>
    </tr>
  </tbody>
</table>

<h2 id="delete-a-static-caller-number">Delete a Static Caller Number</h2>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="nt">-X</span> DELETE https://api.retreaver.com/static_caller_numbers/1234.json?api_key<span class="o">=</span>woofwoofwoof&amp;company_id<span class="o">=</span>1
</code></pre></div>
<p>Removes the Static Caller Number.</p>

<h3 id="http-request-57">HTTP Request</h3>

<p><code>DELETE https://api.retreaver.com/static_caller_numbers/1234.json?api_key=woofwoofwoof&amp;company_id=1</code></p>
<h1 id="target-groups">Target Groups</h1>

<p>Target Groups group Target objects and can be used in Campaign/Number routing settings, allowing you to easily manage
how calls are routed.</p>

<h2 id="get-all-target-groups">Get all Target Groups</h2>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="s2">"https://api.retreaver.com/target_groups.json?api_key=woofwoofwoof&amp;company_id=1"</span>
</code></pre></div>
<blockquote>
  <p>The above command returns JSON structured like this:</p>
</blockquote>

<div class="highlight"><pre class="highlight json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"target_group"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"target_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="mi">3</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"concurrency_cap"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"calls_in_progress"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"behavior"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"priority"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"weight"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"caps"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">652980</span><span class="p">,</span><span class="w">
          </span><span class="nl">"filled"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"cap"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Daily"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">652978</span><span class="p">,</span><span class="w">
          </span><span class="nl">"filled"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"cap"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hard"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">652979</span><span class="p">,</span><span class="w">
          </span><span class="nl">"filled"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"cap"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hourly"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">652981</span><span class="p">,</span><span class="w">
          </span><span class="nl">"filled"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"cap"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Monthly"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<h3 id="http-request">HTTP Request</h3>

<p><code>GET https://api.retreaver.com/target_groups.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<h2 id="get-a-specific-target-group">Get a specific Target Group</h2>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="s2">"https://api.retreaver.com/target_groups/1.json?api_key=woofwoofwoof&amp;company_id=1"</span>
</code></pre></div>
<blockquote>
  <p>The above command returns JSON structured like this:</p>
</blockquote>

<div class="highlight"><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"target_group"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"target_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="mi">3</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"concurrency_cap"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"calls_in_progress"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"behavior"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"priority"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"weight"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"caps"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">652980</span><span class="p">,</span><span class="w">
        </span><span class="nl">"filled"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"cap"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Daily"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">652978</span><span class="p">,</span><span class="w">
        </span><span class="nl">"filled"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"cap"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hard"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">652979</span><span class="p">,</span><span class="w">
        </span><span class="nl">"filled"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"cap"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hourly"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">652981</span><span class="p">,</span><span class="w">
        </span><span class="nl">"filled"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"cap"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Monthly"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<h3 id="http-request-1">HTTP Request</h3>

<p><code>GET https://api.retreaver.com/target_groups/1.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<h2 id="create-a-target-group">Create a Target Group</h2>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="nt">-s</span> <span class="se">\</span>
 <span class="nt">-X</span> POST <span class="se">\</span>
 https://api.retreaver.com/target_groups.json?api_key<span class="o">=</span>woofwoofwoof&amp;company_id<span class="o">=</span>1 <span class="se">\</span>
 <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
 <span class="nt">-d</span> <span class="s1">'{"target_group":{"target_ids": [1, 2, 3], "name":"test", "concurrency_cap": 5}}'</span>
</code></pre></div>
<blockquote>
  <p>The above command returns JSON structured like this:</p>
</blockquote>

<div class="highlight"><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"target_group"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"target_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="mi">3</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"concurrency_cap"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="nl">"calls_in_progress"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"behavior"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"priority"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"weight"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"caps"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">652980</span><span class="p">,</span><span class="w">
        </span><span class="nl">"filled"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"cap"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Daily"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">652978</span><span class="p">,</span><span class="w">
        </span><span class="nl">"filled"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"cap"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hard"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">652979</span><span class="p">,</span><span class="w">
        </span><span class="nl">"filled"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"cap"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hourly"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">652981</span><span class="p">,</span><span class="w">
        </span><span class="nl">"filled"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"cap"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Monthly"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Creates a new Target Group.</p>

<h3 id="http-request-2">HTTP Request</h3>

<p><code>POST https://api.retreaver.com/target_groups.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<p><code>Content-Type: application/json</code></p>

<p><code>{"target_group":{"target_ids": [1, 2, 3], "name":"test", "concurrency_cap": 5}}</code></p>

<h3 id="parameters">Parameters</h3>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Type</th>
      <th>Default</th>
      <th>Required</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>name</td>
      <td>string</td>
      <td> </td>
      <td>required</td>
      <td>A descriptive moniker for this target group so you’ll know what it is.</td>
    </tr>
    <tr>
      <td>priority</td>
      <td>integer</td>
      <td>null</td>
      <td>if behavior = 2</td>
      <td>Used to set the priority of the group when dialing using simuldial. See Target documentation for more information.</td>
    </tr>
    <tr>
      <td>weight</td>
      <td>integer</td>
      <td>null</td>
      <td>if behavior = 2</td>
      <td>Used to set the weight of the group when dialing using simuldial. See Target documentation for more information.</td>
    </tr>
    <tr>
      <td>concurrency_cap</td>
      <td>integer</td>
      <td>null</td>
      <td> </td>
      <td>Used to limit the maximum number of concurrent calls this target group can receive.</td>
    </tr>
    <tr>
      <td>target_ids</td>
      <td>integer array</td>
      <td>[ ]</td>
      <td> </td>
      <td>A list of target IDs that will belong to this group.</td>
    </tr>
    <tr>
      <td>behavior</td>
      <td>integer</td>
      <td>1</td>
      <td> </td>
      <td>1 = Dial separately, 2 = Simuldial (dial all Targets within the group at the same time)</td>
    </tr>
  </tbody>
</table>

<h2 id="update-a-target-group">Update a Target Group</h2>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="nt">-s</span> <span class="se">\</span>
 <span class="nt">-X</span> PUT <span class="se">\</span>
 https://api.retreaver.com/target_groups/1.json <span class="se">\</span>
 <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
 <span class="nt">-d</span> <span class="s1">'{"target_group":{"name":"hello"}}'</span>
</code></pre></div>
<blockquote>
  <p>The above command returns JSON structured like this:</p>
</blockquote>

<div class="highlight"><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"target_group"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hello"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"target_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="mi">3</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"concurrency_cap"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="nl">"calls_in_progress"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"behavior"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"priority"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"weight"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"caps"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">652980</span><span class="p">,</span><span class="w">
        </span><span class="nl">"filled"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"cap"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Daily"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">652978</span><span class="p">,</span><span class="w">
        </span><span class="nl">"filled"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"cap"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hard"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">652979</span><span class="p">,</span><span class="w">
        </span><span class="nl">"filled"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"cap"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hourly"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">652981</span><span class="p">,</span><span class="w">
        </span><span class="nl">"filled"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"cap"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Monthly"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Changes any attributes you have passed in on the Target Group.</p>

<aside class="notice">
You must replace <code>1</code> with the Retreaver ID of the Target Group you want to update.
</aside>

<h3 id="http-request-3">HTTP Request</h3>

<p><code>PUT https://api.retreaver.com/target_groups/1.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<p><code>Content-Type: application/json</code></p>

<p><code>{"target_group":{"name":"hello"}}</code></p>

<h2 id="delete-a-target-group">Delete a Target Group</h2>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="nt">-X</span> DELETE https://api.retreaver.com/target_groups/1.json?api_key<span class="o">=</span>woofwoofwoof&amp;company_id<span class="o">=</span>1
</code></pre></div>
<p>Deletes the given Target Group.</p>

<h3 id="http-request-4">HTTP Request</h3>

<p><code>DELETE https://api.retreaver.com/target_groups/1.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<h2 id="replacing-targets-in-a-target-group">Replacing Targets in a Target Group</h2>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="nt">-s</span> <span class="se">\</span>
 <span class="nt">-X</span> PUT <span class="se">\</span>
 https://api.retreaver.com/target_groups/1.json <span class="se">\</span>
 <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
 <span class="nt">-d</span> <span class="s1">'{"target_group":{"target_ids":[5,6]}}'</span>
</code></pre></div>
<blockquote>
  <p>Upon reloading the Target, the following JSON is returned with the given targets:</p>
</blockquote>

<div class="highlight"><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"target_group"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hello"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"target_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="mi">5</span><span class="p">,</span><span class="w">
      </span><span class="mi">6</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"concurrency_cap"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="nl">"calls_in_progress"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"behavior"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"priority"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"weight"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"caps"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">652980</span><span class="p">,</span><span class="w">
        </span><span class="nl">"filled"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"cap"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Daily"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">652978</span><span class="p">,</span><span class="w">
        </span><span class="nl">"filled"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"cap"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hard"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">652979</span><span class="p">,</span><span class="w">
        </span><span class="nl">"filled"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"cap"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hourly"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">652981</span><span class="p">,</span><span class="w">
        </span><span class="nl">"filled"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"cap"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Monthly"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>To replace which Targets are in a Target Group, pass in an array of Target IDs as <code>target_ids</code>. All existing Targets
on the Target Group will be replaced with the Targets provided in this array.</p>

<p>This is the standard method of updating the Target ID list in which you have to pass in the entire list
each time. We also have 2 helper methods, below, for adding and removing Targets.</p>

<h3 id="http-request-5">HTTP Request</h3>

<p><code>PUT https://api.retreaver.com/target_groups/1.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<p><code>Content-Type: application/json</code></p>

<p><code>{"target_group":{"target_ids":[5,6]}}</code></p>

<h2 id="adding-targets-to-a-target-group">Adding Targets to a Target Group</h2>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="nt">-s</span> <span class="se">\</span>
 <span class="nt">-X</span> PUT <span class="se">\</span>
 https://api.retreaver.com/target_groups/1.json <span class="se">\</span>
 <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
 <span class="nt">-d</span> <span class="s1">'{"target_group":{"add_targets_by_id":[4]}}'</span>
</code></pre></div>
<blockquote>
  <p>Upon reloading the Target, the following JSON is returned with Target ID 4 added:</p>
</blockquote>

<div class="highlight"><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"target_group"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hello"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"target_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="mi">3</span><span class="p">,</span><span class="w">
      </span><span class="mi">4</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"concurrency_cap"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="nl">"calls_in_progress"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"behavior"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"priority"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"weight"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"caps"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">652980</span><span class="p">,</span><span class="w">
        </span><span class="nl">"filled"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"cap"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Daily"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">652978</span><span class="p">,</span><span class="w">
        </span><span class="nl">"filled"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"cap"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hard"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">652979</span><span class="p">,</span><span class="w">
        </span><span class="nl">"filled"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"cap"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hourly"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">652981</span><span class="p">,</span><span class="w">
        </span><span class="nl">"filled"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"cap"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Monthly"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>To add Targets to a Target Group, pass in an array of Target IDs as <code>add_targets_by_id</code>. This is a helper
attribute provided so that you don’t have to track which Targets are in each Group.</p>

<h3 id="http-request-6">HTTP Request</h3>

<p><code>PUT https://api.retreaver.com/target_groups/1.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<p><code>Content-Type: application/json</code></p>

<p><code>{"target_group":{"add_targets_by_id":[4]}}</code></p>

<h2 id="removing-targets-from-a-target-group">Removing Targets from a Target Group</h2>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="nt">-s</span> <span class="se">\</span>
 <span class="nt">-X</span> PUT <span class="se">\</span>
 https://api.retreaver.com/target_groups/1.json <span class="se">\</span>
 <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
 <span class="nt">-d</span> <span class="s1">'{"target_group":{"remove_targets_by_id":[1]}}'</span>
</code></pre></div>
<blockquote>
  <p>Upon reloading the Target, the following JSON is returned with Target ID 1 removed:</p>
</blockquote>

<div class="highlight"><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"target_group"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hello"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"target_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="mi">3</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"concurrency_cap"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="nl">"calls_in_progress"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"behavior"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"priority"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"weight"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"caps"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">652980</span><span class="p">,</span><span class="w">
        </span><span class="nl">"filled"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"cap"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Daily"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">652978</span><span class="p">,</span><span class="w">
        </span><span class="nl">"filled"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"cap"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hard"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">652979</span><span class="p">,</span><span class="w">
        </span><span class="nl">"filled"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"cap"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hourly"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">652981</span><span class="p">,</span><span class="w">
        </span><span class="nl">"filled"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"cap"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Monthly"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>To remove Targets from a Target Group, pass in an array of Target IDs as <code>remove_targets_by_id</code>. This is a helper 
attribute provided so that you don’t have to track which Targets are in each Group.</p>

<h3 id="http-request-7">HTTP Request</h3>

<p><code>PUT https://api.retreaver.com/target_groups/1.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<p><code>Content-Type: application/json</code></p>

<p><code>{"target_group":{"remove_targets_by_id":[1]}}</code></p>

<h2 id="changing-a-target-groups-caps">Changing a Target Group’s Caps</h2>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="nt">-s</span> <span class="se">\</span>
 <span class="nt">-X</span> PUT <span class="se">\</span>
 https://api.retreaver.com/target_groups/1.json <span class="se">\</span>
 <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
 <span class="nt">-d</span> <span class="s1">'{"target_group": { \
         "hard_cap_attributes": { \
             "cap": 100 \ 
             } \
         }'</span> <span class="se">\</span>
     <span class="o">}</span><span class="s1">'
</span></code></pre></div>
<blockquote>
  <p>The above command returns JSON structured like this:</p>
</blockquote>

<div class="highlight"><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"target_group"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"target_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="mi">3</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"concurrency_cap"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"calls_in_progress"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"behavior"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"priority"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"weight"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"caps"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">652980</span><span class="p">,</span><span class="w">
        </span><span class="nl">"filled"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"cap"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Daily"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">652978</span><span class="p">,</span><span class="w">
        </span><span class="nl">"filled"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"cap"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hard"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">652979</span><span class="p">,</span><span class="w">
        </span><span class="nl">"filled"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"cap"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hourly"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">652981</span><span class="p">,</span><span class="w">
        </span><span class="nl">"filled"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"cap"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Monthly"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>There are 4 types of caps: Hard Cap, Hourly Cap, Daily Cap, and Monthly Cap. Hard cap is a hard limit, and once it is reached, Targets in the Target Group will not receive more Calls until the Cap is reset. This is useful when routing Calls to buyers that have insertion orders for a set number of leads.</p>

<p>The other types of Cap reset periodically as expected.</p>

<p>You can modify these Caps by updating your Target Group with nested objects <code>hard_cap_attributes</code>, <code>hourly_cap_attributes</code>, <code>daily_cap_attributes</code>, and <code>monthly_cap_attributes</code>.</p>

<h3 id="http-request-8">HTTP Request</h3>

<p><code>PUT https://api.retreaver.com/target_groups/1.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<p><code>Content-Type: application/json</code></p>

<p><code>{"target_group":{"hard_cap_attributes":{"cap":100}}}</code></p>

<h3 id="parameters-1">Parameters</h3>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Type</th>
      <th>Default</th>
      <th>Required</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>cap</td>
      <td>integer</td>
      <td> </td>
      <td>required</td>
      <td>The value for the cap.</td>
    </tr>
  </tbody>
</table>

<h2 id="resetting-all-hard-caps-on-targets-in-a-target-group">Resetting all Hard Caps on Targets in a Target Group</h2>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="nt">-s</span> <span class="se">\</span>
 <span class="nt">-X</span> POST <span class="se">\</span>
 https://api.retreaver.com/target_groups/1/reset_cap.json?api_key<span class="o">=</span>woofwoofwoof&amp;company_id<span class="o">=</span>1 <span class="se">\</span>
 <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span>
</code></pre></div>
<p>Clears any Calls contributing to the given Target Group’s hard cap, resetting hard caps of all Targets within the Group to 0. Returns HTTP 200 on success.</p>

<h3 id="http-request-9">HTTP Request</h3>

<p><code>POST https://api.retreaver.com/target_groups/1/reset_cap.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<p><code>Content-Type: application/json</code></p>

<h1 id="real-time-bidding-rtb">Real-Time Bidding (RTB)</h1>

<p>The Retreaver Real-Time Bidding (RTB) API enables publishers to send requests to Retreaver and receive confirmation on whether a call buyer(endpoint) is available.</p>

<p>Each response includes key details such as:</p>

<div class="highlight"><pre class="highlight plaintext"><code>The destination phone number to route the call to
The expected payout
The required duration (in seconds) of the call
</code></pre></div>
<p>To learn more about the scenarios you can implement with the RTB API, see the guide:
<a href="https://help.retreaver.com/hc/en-us/articles/27282552552340-Working-with-the-Retreaver-Real-Time-Bidding-API">Working with the Retreaver Real-Time Bidding API</a></p>

<h2 id="create-a-reservation">Create a reservation</h2>

<blockquote>
  <p>Passing data as URL Params</p>
</blockquote>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="nt">-X</span> POST <span class="s2">"https://rtb.retreaver.com/rtbs.json?"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="s2">"key=7fc40342-f0a0-4e8f-bf09-b3887eedcb41"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="s2">"publisher_id=retreaver_pub"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="s2">"caller_number=+18558485518"</span>
</code></pre></div>
<blockquote>
  <p>or as JSON Body</p>
</blockquote>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="nt">-X</span> POST <span class="s2">"https://rtb.retreaver.com/rtbs.json"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="s1">'{
	"key": "7fc40342-f0a0-4e8f-bf09-b3887eedcb41",
	"publisher_id": "retreaver_pub",
	"caller_number": "+18558485518"
}'</span>
</code></pre></div>
<p>The request checks for availability and bidding, and then creates a reservation. This reservation is stored for a limited number of seconds.</p>

<p>If additional requests are sent for the same caller number while the reservation is active, the API will return the same reservation. For more details, see the documentation on Retreaver Ping Shield.</p>

<p>Note: A reservation can have different statuses. Creating a reservation does not necessarily mean that an agent is immediately available.</p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Mandatory</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>key</td>
      <td>Yes</td>
      <td>Postback key, found on the campaign page where the Real Time Bidding Postback Key is issued.</td>
    </tr>
    <tr>
      <td>publisher_id/source_id</td>
      <td>Yes</td>
      <td>The Source/Affiliate/Publisher this bid is going to be attributed to.</td>
    </tr>
    <tr>
      <td>caller_number</td>
      <td>Yes</td>
      <td>The caller number.</td>
    </tr>
    <tr>
      <td>inbound_number</td>
      <td>No</td>
      <td>If provided the <code>rtb</code> will expect the caller to call this number. If not provided the <code>rtb</code> will return a temporary number.</td>
    </tr>
    <tr>
      <td>tags</td>
      <td>No</td>
      <td>Providing additional query parameters will result in tagging the <code>rtb</code> with those additional values. Please view the examples below.</td>
    </tr>
  </tbody>
</table>

<p>If you want you can use body params to send the parameters into <code>rtb</code>.</p>

<h3 id="pass-additional-data">Pass additional data</h3>

<p>Additional information could be passed along as params to the request. In this case ‘age’ and ‘caller_zip’.</p>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="nt">-X</span> POST <span class="s2">"https://rtb.retreaver.com/rtbs.json"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="s1">'{
	"key": "7fc40342-f0a0-4e8f-bf09-b3887eedcb41",
	"publisher_id": "retreaver_pub",
	"caller_number": "+18558485518",
	"caller_zip": 12344,
	"age": 25
}'</span>
</code></pre></div>
<blockquote>
  <p>The above command returns JSON structured like this:</p>
</blockquote>

<div class="highlight"><pre class="highlight json"><code><span class="p">{</span><span class="w">
	</span><span class="nl">"uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c6e4ce37-9b49-46af-bd8e-16cb7753499d"</span><span class="p">,</span><span class="w">
	</span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"reserved"</span><span class="p">,</span><span class="w">
	</span><span class="nl">"retreaver_payout"</span><span class="p">:</span><span class="w"> </span><span class="mf">5.0</span><span class="p">,</span><span class="w">
	</span><span class="nl">"retreaver_seconds"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
	</span><span class="nl">"inbound_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+18772435010"</span><span class="p">,</span><span class="w">
	</span><span class="nl">"expires_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-10-28T12:08:49.880Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<h4 id="parameters">Parameters</h4>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>key</td>
      <td>7fc40342-f0a0-4e8f-bf09-b3887eedcb41</td>
    </tr>
    <tr>
      <td>publisher_id</td>
      <td>retreaver_pub</td>
    </tr>
    <tr>
      <td>caller_number</td>
      <td>+18558485518</td>
    </tr>
    <tr>
      <td>caller_zip</td>
      <td>12344</td>
    </tr>
    <tr>
      <td>age</td>
      <td>25</td>
    </tr>
  </tbody>
</table>

<h3 id="place-a-bid-on-a-static-inbound-number">Place a bid on a static inbound number.</h3>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="nt">-X</span> POST <span class="s2">"https://rtb.retreaver.com/rtbs.json"</span> <span class="se">\</span>
 	<span class="nt">-d</span> <span class="s1">'{
		"key": "7fc40342-f0a0-4e8f-bf09-b3887eedcb41",
		"publisher_id": "retreaver_pub",
		"caller_number": "+18558485518",
		"inbound_number": "+12029795452"
		}'</span>
</code></pre></div>
<blockquote>
  <p>The above command returns JSON structured like this:</p>
</blockquote>

<div class="highlight"><pre class="highlight json"><code><span class="p">{</span><span class="w">
	</span><span class="nl">"uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c6e4ce37-9b49-46af-bd8e-16cb7753499d"</span><span class="p">,</span><span class="w">
	</span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"reserved"</span><span class="p">,</span><span class="w">
	</span><span class="nl">"retreaver_payout"</span><span class="p">:</span><span class="w"> </span><span class="mf">5.0</span><span class="p">,</span><span class="w">
	</span><span class="nl">"retreaver_seconds"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
	</span><span class="nl">"inbound_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+18772435010"</span><span class="p">,</span><span class="w">
	</span><span class="nl">"expires_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-10-28T12:08:49.880Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>If you do not want to use a number pool and provide rtb using a static number you own in retreaver you, must provide it:</p>

<h4 id="parameters-1">Parameters</h4>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>key</td>
      <td>7fc40342-f0a0-4e8f-bf09-b3887eedcb41</td>
    </tr>
    <tr>
      <td>publisher_id</td>
      <td>retreaver_pub</td>
    </tr>
    <tr>
      <td>caller_number</td>
      <td>+18558485518</td>
    </tr>
    <tr>
      <td>caller_zip</td>
      <td>12344</td>
    </tr>
    <tr>
      <td>age</td>
      <td>25</td>
    </tr>
    <tr>
      <td>inbound_number</td>
      <td>+12029795452</td>
    </tr>
  </tbody>
</table>

<h2 id="confirm-a-reservation">Confirm a reservation</h2>

<p><code>PUT/PATCH https://rtb.retreaver.com/rtbs/{reservation_uuid}</code></p>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="nt">-X</span> PUT <span class="s2">"https://rtb.retreaver.com/rtbs/c6e4ce37-9b49-46af-bd8e-16cb7753499d.json"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="s1">'{
	"key": "7fc40342-f0a0-4e8f-bf09-b3887eedcb41",
	"status": "confirmed"
}'</span>
</code></pre></div>
<blockquote>
  <p>the reservation is confirmed</p>
</blockquote>

<div class="highlight"><pre class="highlight json"><code><span class="p">{</span><span class="w">
	</span><span class="nl">"uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c6e4ce37-9b49-46af-bd8e-16cb7753499d"</span><span class="p">,</span><span class="w">
	</span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"confirmed"</span><span class="p">,</span><span class="w">
	</span><span class="nl">"retreaver_payout"</span><span class="p">:</span><span class="w"> </span><span class="mf">5.0</span><span class="p">,</span><span class="w">
	</span><span class="nl">"retreaver_seconds"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
	</span><span class="nl">"inbound_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+18772435010"</span><span class="p">,</span><span class="w">
	</span><span class="nl">"expires_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-10-28T12:08:49.880Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
  <p>the reservation is ‘no-target’ if it can not be confirmed</p>
</blockquote>

<div class="highlight"><pre class="highlight json"><code><span class="p">{</span><span class="w">
	</span><span class="nl">"uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c6e4ce37-9b49-46af-bd8e-16cb7753499d"</span><span class="p">,</span><span class="w">
	</span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"no-target"</span><span class="p">,</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Call buyers (endpoints) on Retreaver can be limited by various caps, such as Concurrency Cap, Hourly Cap, Weekly Cap, and Monthly Cap.</p>

<p>When a reservation is created in Retreaver, it is not immediately counted against these caps. This is because most reservations do not result in actual calls.</p>

<p>To apply a reservation to the caps, it must first be confirmed.</p>

<p>To confirm the resevration send a PUT/PATCH request</p>

<h4 id="parameters-2">Parameters</h4>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Value</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>reservation_uuid</td>
      <td>c6e4ce37-9b49-46af-bd8e-16cb7753499d</td>
      <td>The reservation UUID that we are confirming. It is received from the first request when the reservation is created.</td>
    </tr>
    <tr>
      <td>key</td>
      <td>7fc40342-f0a0-4e8f-bf09-b3887eedcb41</td>
      <td>The postback key</td>
    </tr>
    <tr>
      <td>status</td>
      <td>“confirmed”</td>
      <td>‘confirmed’ will confirm the reservation</td>
    </tr>
  </tbody>
</table>

<aside class="notice">
Reservations can be automatically applied to caps if this behavior is enabled on the postback key.

Otherwise, they must be explicitly confirm by sending a PUT/PATCH request to the reservation URL with a status="confirmed" param.
</aside>

<aside class="notice">
Important: It is possible that a reservation cannot be confirmed if the caps are filled in the time between creation and confirmation.
Make sure you check the response from the request and see what the status is.
</aside>

<aside class="warning">
When a reservation is confirmed, the publisher is <strong>expected to place the call</strong>. Failing to do so may lead to penalties in both the short and long term, since holding a reservation ties up an agent and wastes their time.
</aside>

<h2 id="retreaver-ping-shield">Retreaver Ping Shield</h2>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="nt">-X</span> POST <span class="s2">"https://rtb.retreaver.com/rtbs.json"</span> <span class="se">\</span>
 <span class="nt">-d</span> <span class="s1">'{
 	"key": 7fc40342-f0a0-4e8f-bf09-b3887eedcb41"
 	"publisher_id": "retreaver_pub",
 	"caller_number": "+18558485518"
 }'</span>

curl <span class="nt">-X</span> POST <span class="s2">"https://rtb.retreaver.com/rtbs.json"</span> <span class="se">\</span>
 <span class="nt">-d</span> <span class="s1">'{
 	"key": 7fc40342-f0a0-4e8f-bf09-b3887eedcb41"
 	"publisher_id": "retreaver_pub",
 	"caller_number": "+18558485518"
 }'</span>
</code></pre></div>
<blockquote>
  <p>The above command returns JSON structured like this:</p>
</blockquote>

<div class="highlight"><pre class="highlight json"><code><span class="p">{</span><span class="w">
	</span><span class="nl">"uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4454ffc8-c1b4-4420-81d2-4bbd1a1e132e"</span><span class="p">,</span><span class="w">
	</span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"reserved"</span><span class="p">,</span><span class="w">
	</span><span class="nl">"retreaver_payout"</span><span class="p">:</span><span class="w"> </span><span class="mf">5.0</span><span class="p">,</span><span class="w">
	</span><span class="nl">"retreaver_seconds"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
	</span><span class="nl">"inbound_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+18778955221"</span><span class="p">,</span><span class="w">
	</span><span class="nl">"expires_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-10-28T12:29:04.397Z"</span><span class="p">,</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="p">{</span><span class="w">
	</span><span class="nl">"uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4454ffc8-c1b4-4420-81d2-4bbd1a1e132e"</span><span class="p">,</span><span class="w">
	</span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"reserved"</span><span class="p">,</span><span class="w">
	</span><span class="nl">"retreaver_payout"</span><span class="p">:</span><span class="w"> </span><span class="mf">5.0</span><span class="p">,</span><span class="w">
	</span><span class="nl">"retreaver_seconds"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
	</span><span class="nl">"inbound_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+18778955221"</span><span class="p">,</span><span class="w">
	</span><span class="nl">"expires_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-10-28T12:29:04.397Z"</span><span class="p">,</span><span class="w">
	</span><span class="nl">"retreaver_ping_shield"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><blockquote>
  <p>Note that the response is the same, but the second on has ‘“retreaver_ping_shield”: true’ which indicates it has been shielded.</p>
</blockquote>

<p>If a publisher sends multiple RTB requests for the same caller_number before the initial reservation expires, Retreaver Ping Shield will activate.</p>

<p>Ping Shield caches the first response and prevents unnecessary processing of duplicate requests. This ensures that buyers are not pinged multiple times for the same caller on the same postback key, while still returning the original reservation to the publisher.</p>
<h1 id="reports">Reports</h1>
<p>## Reports Parameters
<code>GET https://api.retreaver.com/api/v1/reports.json?....</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Mandatory</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>api_key</td>
      <td>Yes</td>
      <td>The api_key used to authenticate this request.</td>
    </tr>
    <tr>
      <td>company_id</td>
      <td>No</td>
      <td>Return reports associated to the specific company IF you have access to that company. If left blank it will default to the current company associated with the user using the api_key.</td>
    </tr>
    <tr>
      <td>domain</td>
      <td>Yes</td>
      <td>The domain of the report. Currently only ‘calls’</td>
    </tr>
    <tr>
      <td>facet</td>
      <td>Yes</td>
      <td>One of: [‘publisher’, ‘buyer’, ‘campaign’, ‘number’, ‘daily’, ‘tag_value’, ‘state’]. This is the object that you will want to generate a report for.</td>
    </tr>
    <tr>
      <td>created_at_start</td>
      <td>Yes</td>
      <td> </td>
    </tr>
    <tr>
      <td>created_at_end</td>
      <td>Yes</td>
      <td> </td>
    </tr>
    <tr>
      <td>page</td>
      <td>No</td>
      <td> </td>
    </tr>
    <tr>
      <td>per_page</td>
      <td>No</td>
      <td> </td>
    </tr>
    <tr>
      <td>tag_value_key</td>
      <td>No</td>
      <td>When faceting by tag_value you may want to provide a second facet to drill down on. <a href="#tag-value-name-report">Example</a></td>
    </tr>
  </tbody>
</table>

<p>NOTE: created_at_start must be before created_at_end and the two must be smaller that 2 years apart.</p>

<h2 id="tag-value-report">Tag Value Report</h2>
<div class="highlight"><pre class="highlight shell"><code>curl <span class="s2">"https://api.retreaver.com/api/v1/reports.json?api_key=woofwoofwoof&amp;company_id=1&amp;facet=tag_value&amp;domain=calls&amp;created_at_start=2024-10-25&amp;created_at_end=2024-10-28"</span>
</code></pre></div>
<blockquote>
  <p>The above command returns JSON structured like this:</p>
</blockquote>

<div class="highlight"><pre class="highlight json"><code><span class="p">{</span><span class="w">
	</span><span class="nl">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
	</span><span class="nl">"count_total"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
	</span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
		</span><span class="p">{</span><span class="w">
			</span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"utm_campaign"</span><span class="p">,</span><span class="w">
			</span><span class="nl">"facet_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"utm_campaign"</span><span class="p">,</span><span class="w">
			</span><span class="nl">"total_calls"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
			</span><span class="nl">"repeat_count"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.0</span><span class="p">,</span><span class="w">
			</span><span class="nl">"duplicate_count"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
			</span><span class="nl">"unique_calls"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
			</span><span class="nl">"converted_count"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
			</span><span class="nl">"revenue"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
			</span><span class="nl">"payout"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
			</span><span class="nl">"cost"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.12</span><span class="p">,</span><span class="w">
			</span><span class="nl">"total_duration"</span><span class="p">:</span><span class="w"> </span><span class="mf">3.666666666666667</span><span class="p">,</span><span class="w">
			</span><span class="nl">"total_duration_percent"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.4714045207910327</span><span class="p">,</span><span class="w">
			</span><span class="nl">"rescued_count"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
			</span><span class="nl">"rescued_revenue"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
			</span><span class="nl">"connected_duration"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
			</span><span class="nl">"connected_duration_percent"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
			</span><span class="nl">"in_progress_count"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
			</span><span class="nl">"profit"</span><span class="p">:</span><span class="w"> </span><span class="mf">-0.12</span><span class="p">,</span><span class="w">
			</span><span class="nl">"repeat_count_percent"</span><span class="p">:</span><span class="w"> </span><span class="mf">66.66666666666666</span><span class="p">,</span><span class="w">
			</span><span class="nl">"duplicate_count_percent"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
			</span><span class="nl">"converted_count_percent"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
			</span><span class="nl">"rescued_count_percent"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
			</span><span class="nl">"epc"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
			</span><span class="nl">"cpc"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
		</span><span class="p">}</span><span class="w">
	</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Get a report for all calls between 2024-10-25 and 2024-10-28 faceted by tag_value name.</p>

<p><code>GET https://api.retreaver.com/api/v1/reports.json?api_key=woofwoofwoof&amp;company_id=1&amp;facet=tag_value&amp;domain=calls&amp;created_at_start=2024-10-25&amp;created_at_end=2024-10-28</code></p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>api_key</td>
      <td>woofwoofwoof</td>
    </tr>
    <tr>
      <td>company_id</td>
      <td>1</td>
    </tr>
    <tr>
      <td>domain</td>
      <td>calls</td>
    </tr>
    <tr>
      <td>facet</td>
      <td>tag_value</td>
    </tr>
    <tr>
      <td>created_at_start</td>
      <td>2024-10-25</td>
    </tr>
    <tr>
      <td>created_at_end</td>
      <td>2024-10-28</td>
    </tr>
  </tbody>
</table>

<h2 id="tag-value-name-report">Tag Value Name Report</h2>
<div class="highlight"><pre class="highlight shell"><code>curl <span class="s2">"https://api.retreaver.com/api/v1/reports.json?api_key=woofwoofwoof&amp;company_id=1&amp;facet=tag_value&amp;domain=calls&amp;created_at_start=2024-10-25&amp;created_at_end=2024-10-28&amp;tag_value_key=utm_campaign"</span>
</code></pre></div>
<blockquote>
  <p>The above command returns JSON structured like this:</p>
</blockquote>

<div class="highlight"><pre class="highlight json"><code><span class="p">{</span><span class="w">
	</span><span class="nl">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
	</span><span class="nl">"count_total"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
	</span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
		</span><span class="p">{</span><span class="w">
			</span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ret_campaign_123"</span><span class="p">,</span><span class="w">
			</span><span class="nl">"facet_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ret_campaign_123"</span><span class="p">,</span><span class="w">
			</span><span class="nl">"total_calls"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
			</span><span class="nl">"repeat_count"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.0</span><span class="p">,</span><span class="w">
			</span><span class="nl">"duplicate_count"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
			</span><span class="nl">"unique_calls"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
			</span><span class="nl">"converted_count"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
			</span><span class="nl">"revenue"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
			</span><span class="nl">"payout"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
			</span><span class="nl">"cost"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.12</span><span class="p">,</span><span class="w">
			</span><span class="nl">"total_duration"</span><span class="p">:</span><span class="w"> </span><span class="mf">3.666666666666667</span><span class="p">,</span><span class="w">
			</span><span class="nl">"total_duration_percent"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.4714045207910327</span><span class="p">,</span><span class="w">
			</span><span class="nl">"rescued_count"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
			</span><span class="nl">"rescued_revenue"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
			</span><span class="nl">"connected_duration"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
			</span><span class="nl">"connected_duration_percent"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
			</span><span class="nl">"in_progress_count"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
			</span><span class="nl">"profit"</span><span class="p">:</span><span class="w"> </span><span class="mf">-0.12</span><span class="p">,</span><span class="w">
			</span><span class="nl">"repeat_count_percent"</span><span class="p">:</span><span class="w"> </span><span class="mf">66.66666666666666</span><span class="p">,</span><span class="w">
			</span><span class="nl">"duplicate_count_percent"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
			</span><span class="nl">"converted_count_percent"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
			</span><span class="nl">"rescued_count_percent"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
			</span><span class="nl">"epc"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
			</span><span class="nl">"cpc"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
		</span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
			</span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ret_campaign_456"</span><span class="p">,</span><span class="w">
			</span><span class="nl">"facet_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ret_campaign_456"</span><span class="p">,</span><span class="w">
			</span><span class="nl">"total_calls"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
			</span><span class="nl">"repeat_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
			</span><span class="nl">"duplicate_count"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
			</span><span class="nl">"unique_calls"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
			</span><span class="nl">"converted_count"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
			</span><span class="nl">"revenue"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
			</span><span class="nl">"payout"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
			</span><span class="nl">"cost"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.12</span><span class="p">,</span><span class="w">
			</span><span class="nl">"total_duration"</span><span class="p">:</span><span class="w"> </span><span class="mf">3.666666666666667</span><span class="p">,</span><span class="w">
			</span><span class="nl">"total_duration_percent"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.4714045207910327</span><span class="p">,</span><span class="w">
			</span><span class="nl">"rescued_count"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
			</span><span class="nl">"rescued_revenue"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
			</span><span class="nl">"connected_duration"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
			</span><span class="nl">"connected_duration_percent"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
			</span><span class="nl">"in_progress_count"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
			</span><span class="nl">"profit"</span><span class="p">:</span><span class="w"> </span><span class="mf">-0.12</span><span class="p">,</span><span class="w">
			</span><span class="nl">"repeat_count_percent"</span><span class="p">:</span><span class="w"> </span><span class="mf">66.66666666666666</span><span class="p">,</span><span class="w">
			</span><span class="nl">"duplicate_count_percent"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
			</span><span class="nl">"converted_count_percent"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
			</span><span class="nl">"rescued_count_percent"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
			</span><span class="nl">"epc"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
			</span><span class="nl">"cpc"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
		</span><span class="p">}</span><span class="w">
	</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Get a report for all calls between 2024-10-25 and 2024-10-28 faceted by the tag ‘utm_campaign’.</p>

<p><code>GET https://api.retreaver.com/api/v1/reports.json?api_key=woofwoofwoof&amp;company_id=1&amp;facet=tag_value&amp;domain=calls&amp;created_at_start=2024-10-25&amp;created_at_end=2024-10-28&amp;tag_value_key=utm_campaign</code></p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>api_key</td>
      <td>woofwoofwoof</td>
    </tr>
    <tr>
      <td>company_id</td>
      <td>1</td>
    </tr>
    <tr>
      <td>domain</td>
      <td>calls</td>
    </tr>
    <tr>
      <td>facet</td>
      <td>tag_value</td>
    </tr>
    <tr>
      <td>created_at_start</td>
      <td>2024-10-25</td>
    </tr>
    <tr>
      <td>created_at_end</td>
      <td>2024-10-28</td>
    </tr>
    <tr>
      <td>tag_value_key</td>
      <td>utm_campaign</td>
    </tr>
  </tbody>
</table>

<h2 id="not-all-tag-values-are-indexed">Not all tag values are indexed</h2>
<div class="highlight"><pre class="highlight shell"><code>curl <span class="s2">"https://api.retreaver.com/api/v1/reports.json?api_key=woofwoofwoof&amp;company_id=1&amp;facet=tag_value&amp;domain=calls&amp;created_at_start=2024-10-25&amp;created_at_end=2024-10-28&amp;tag_value_key=unindexed_tag_value"</span>
</code></pre></div>
<blockquote>
  <p>The above command returns JSON structured like this:</p>
</blockquote>

<div class="highlight"><pre class="highlight json"><code><span class="p">{</span><span class="w">
	</span><span class="nl">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
	</span><span class="nl">"count_total"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
	</span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>To reduce the noise from billions of uninteresting values, we only report the values for Tags explicitly created for the company along with a few system Tags. To see a report on the values of ‘unindexed_tag_value’, please visit the Tags page and create a tag with key ‘unindexed_tag_value’. We will start indexing it from today. Let us know if you would like us to re-index past calls.</p>

<p><code>GET https://api.retreaver.com/api/v1/reports.json?api_key=woofwoofwoof&amp;company_id=1&amp;facet=tag_value&amp;domain=calls&amp;created_at_start=2024-10-25&amp;created_at_end=2024-10-28&amp;tag_value_key=unindexed_tag_value</code></p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>api_key</td>
      <td>woofwoofwoof</td>
    </tr>
    <tr>
      <td>company_id</td>
      <td>1</td>
    </tr>
    <tr>
      <td>domain</td>
      <td>calls</td>
    </tr>
    <tr>
      <td>facet</td>
      <td>tag_value</td>
    </tr>
    <tr>
      <td>created_at_start</td>
      <td>2024-10-25</td>
    </tr>
    <tr>
      <td>created_at_end</td>
      <td>2024-10-28</td>
    </tr>
    <tr>
      <td>tag_value_key</td>
      <td>unindexed_tag_value</td>
    </tr>
  </tbody>
</table>
<h1 id="deprecated-routes">DEPRECATED ROUTES</h1>

<h2 id="check-whether-or-not-you-have-any-suppressed-numbers">Check whether or not you have any Suppressed Numbers</h2>

<aside class="warning">
    This route is no longer supported. Please use <a href="https://retreaver.github.io/core-api-docs/#check-whether-or-not-the-company-has-any-suppressed-numbers">the updated route</a> for all future requests.
</aside>

<div class="highlight"><pre class="highlight shell"><code>curl https://api.retreaver.com/suppression_list/check.json?api_key<span class="o">=</span>woofwoofwoof&amp;company_id<span class="o">=</span>1
</code></pre></div>
<blockquote>
  <p>The above command returns JSON structured like this:</p>
</blockquote>

<div class="highlight"><pre class="highlight json"><code><span class="p">{</span><span class="nl">"suppression_list"</span><span class="p">:</span><span class="kc">true</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Returns true if the Company has any numbers suppressed.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code>GET https://api.retreaver.com/suppression_list/check.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<h2 id="delete-a-contact-number-from-the-suppression-list-by-phone-number">Delete a Contact Number from the Suppression List by phone number</h2>

<aside class="warning">
    This route is no longer supported. Please use <a href="https://retreaver.github.io/core-api-docs/#delete-a-number-from-the-company-39-s-suppressed-numbers">the updated route</a> for all future requests.
</aside>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="nt">-X</span> DELETE https://api.retreaver.com/contact_numbers/+18668987878/suppressed_number.json?api_key<span class="o">=</span>woofwoofwoof&amp;company_id<span class="o">=</span>1
</code></pre></div>
<p>Removes the Contact Number from your Suppression List.</p>

<h3 id="http-request-1">HTTP Request</h3>

<p><code>DELETE https://api.retreaver.com/contact_numbers/+18668987878/suppressed_number.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<h2 id="suppress-a-contact-number-by-phone-number">Suppress a Contact Number by phone number</h2>

<aside class="warning">
    This route is no longer supported. Please use <a href="https://retreaver.github.io/core-api-docs/#create-a-suppressed-number-for-a-company">the updated route</a> for all future requests.
</aside>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="nt">-s</span> <span class="se">\</span>
    <span class="nt">-X</span> POST <span class="se">\</span>
    https://api.retreaver.com/contact_numbers/+18668987878/suppressed_number.json?api_key<span class="o">=</span>woofwoofwoof&amp;company_id<span class="o">=</span>1 <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    <span class="nt">-d</span> <span class="s1">'{"suppressed_number":{"can_resubscribe":false}}'</span>
</code></pre></div>
<blockquote>
  <p>The above command returns JSON structured like this:</p>
</blockquote>

<div class="highlight"><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"suppressed_number"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">502997</span><span class="p">,</span><span class="w">
        </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+18668987878"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"can_resubscribe"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-10-02T14:36:14.166-04:00"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Adds a Contact Number to the Company’s Suppression List. The <code>can_resubscribe</code> value toggles whether or not the contact
can unblock themselves by pressing 7 if there is a “Caller Blocked” Prompt on the Campaign/Number they are calling.</p>

<p>The entire body of the post is optional, simply posting to
<code>https://api.retreaver.com/contact_numbers/+18668987878/suppressed_number.json?api_key=woofwoofwoof&amp;company_id=1</code>
would block +18668987878; <code>can_resubscribe</code> is <code>true</code> by default. The intended use case is to allow callers to restore
contact with a company after choosing to be routed to a “add caller to suppression list and hang up” routing option.</p>

<h3 id="http-request-2">HTTP Request</h3>

<p><code>POST https://api.retreaver.com/contact_numbers/+18668987878/suppressed_number.json?api_key=woofwoofwoof&amp;company_id=1</code></p>

<p><code>Content-Type: application/json</code></p>

<p><code>{"suppressed_number": {"can_resubscribe": false}}</code></p>

<h2 id="get-the-active-company---deprecated">Get the active Company - DEPRECATED</h2>

<aside class="warning">
    This route is no longer supported. Please use <a href="https://retreaver.github.io/core-api-docs/#get-the-active-company">the updated route</a> for all future requests.
</aside>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="s2">"https://api.retreaver.com/company.json?api_key=woofwoofwoof"</span>
</code></pre></div>
<blockquote>
  <p>The above command returns JSON structured like this:</p>
</blockquote>

<div class="highlight"><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"company"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CallPixels"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"default_click_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://callpixels.com/?a=[affiliate_id]&amp;c=[campaign_id]&amp;cp=js&amp;s1=[sub_id]"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"default_sale_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://callpixels.com/p.ashx?o=[campaign_id]&amp;t=[call_log_id]-[caller_id]-[called_number]-[call_duration]-[call_recording_url]"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-04-15T05:44:10Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-05-07T15:32:44Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Returns the currently active Company. This is the Company that will be modified if a request is sent in without a specific company_id.</p>

<h3 id="http-request-3">HTTP Request</h3>

<p><code>GET https://api.retreaver.com/company.json?api_key=woofwoofwoof</code></p>

<h2 id="get-a-specific-company---deprecated">Get a specific Company - DEPRECATED</h2>

<aside class="warning">
    This route is no longer supported. Please use <a href="https://retreaver.github.io/core-api-docs/#get-a-specific-company">the updated route</a> for all future requests.
</aside>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="s2">"https://api.retreaver.com/companies/1.json?api_key=woofwoofwoof"</span>
</code></pre></div>
<blockquote>
  <p>The above command returns JSON structured like this:</p>
</blockquote>

<div class="highlight"><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"company"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CallPixels"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"default_click_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://callpixels.com/?a=[affiliate_id]&amp;c=[campaign_id]&amp;cp=js&amp;s1=[sub_id]"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"default_sale_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://callpixels.com/p.ashx?o=[campaign_id]&amp;t=[call_log_id]-[caller_id]-[called_number]-[call_duration]-[call_recording_url]"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-04-15T05:44:10Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-05-07T15:32:44Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Returns the Company matching our internal ID.</p>

<h3 id="http-request-4">HTTP Request</h3>

<p><code>GET https://api.retreaver.com/companies/1.json?api_key=woofwoofwoof</code></p>

<h2 id="get-all-companies---deprecated">Get all Companies - DEPRECATED</h2>

<aside class="warning">
    This route is no longer supported. Please use <a href="https://retreaver.github.io/core-api-docs/#get-all-companies">the updated route</a> for all future requests.
</aside>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="s2">"https://api.retreaver.com/companies.json?api_key=woofwoofwoof"</span>
</code></pre></div>
<blockquote>
  <p>The above command returns JSON structured like this:</p>
</blockquote>

<div class="highlight"><pre class="highlight json"><code><span class="p">[{</span><span class="w">
     </span><span class="nl">"company"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
         </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
         </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CallPixels"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"default_click_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://callpixels.com/?a=[affiliate_id]&amp;c=[campaign_id]&amp;cp=js&amp;s1=[sub_id]"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"default_sale_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://callpixels.com/p.ashx?o=[campaign_id]&amp;t=[call_log_id]-[caller_id]-[called_number]-[call_duration]-[call_recording_url]"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-04-15T05:44:10Z"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-05-07T15:32:44Z"</span><span class="w">
     </span><span class="p">}</span><span class="w">
 </span><span class="p">}]</span><span class="w">
</span></code></pre></div>
<p>Provides a complete list of Companies accessible via your Account.</p>

<h3 id="http-request-5">HTTP Request</h3>

<p><code>GET https://api.retreaver.com/companies.json?api_key=woofwoofwoof</code></p>

<h2 id="create-a-company---deprecated">Create a Company - DEPRECATED</h2>

<aside class="warning">
    This route is no longer supported. Please use <a href="https://retreaver.github.io/core-api-docs/#create-a-company">the updated route</a> for all future requests.
</aside>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="nt">-s</span> <span class="se">\</span>
    <span class="nt">-X</span> POST <span class="se">\</span>
    https://api.retreaver.com/companies.json <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    <span class="nt">-d</span> <span class="s1">'{"company":{"name":"CallPixels.com"}}'</span>
</code></pre></div>
<blockquote>
  <p>The above command returns JSON structured like this:</p>
</blockquote>

<div class="highlight"><pre class="highlight json"><code><span class="p">{</span><span class="w">
     </span><span class="nl">"company"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
         </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
         </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CallPixels"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"default_click_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://callpixels.com/?a=[affiliate_id]&amp;c=[campaign_id]&amp;cp=js&amp;s1=[sub_id]"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"default_sale_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://callpixels.com/p.ashx?o=[campaign_id]&amp;t=[call_log_id]-[caller_id]-[called_number]-[call_duration]-[call_recording_url]"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-04-15T05:44:10Z"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-05-07T15:32:44Z"</span><span class="w">
     </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Creates a Company.</p>

<aside class="info">
    The Companies you create each have their own Accounts and payment settings.
</aside>

<h3 id="http-request-6">HTTP Request</h3>

<p><code>POST https://api.retreaver.com/companies.json?api_key=woofwoofwoof</code></p>

<p><code>Content-Type: application/json</code></p>

<p><code>{"company":{"name":"CallPixels.com"}}</code></p>

<h3 id="parameters">Parameters</h3>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Type</th>
      <th>Default</th>
      <th>Required</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>name</td>
      <td>string</td>
      <td> </td>
      <td>required</td>
      <td>The company name.</td>
    </tr>
    <tr>
      <td>default_click_url</td>
      <td>string</td>
      <td> </td>
      <td> </td>
      <td>The default click URL to set as a Timer @ 0 seconds when creating a campaign.</td>
    </tr>
    <tr>
      <td>default_sale_url</td>
      <td>string</td>
      <td> </td>
      <td> </td>
      <td>The default sale URL to set as a Timer @ 90 seconds when creating a campaign</td>
    </tr>
  </tbody>
</table>

<h2 id="update-a-company---deprecated">Update a Company - DEPRECATED</h2>

<aside class="warning">
    This route is no longer supported. Please use <a href="https://retreaver.github.io/core-api-docs/#update-a-company">the updated route</a> for all future requests.
</aside>

<div class="highlight"><pre class="highlight shell"><code>curl <span class="nt">-s</span> <span class="se">\</span>
    <span class="nt">-X</span> PUT <span class="se">\</span>
    https://api.retreaver.com/companies/2.json <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    <span class="nt">-d</span> <span class="s1">'{"company":{"name":"Retreaver"}}'</span>
</code></pre></div>
<blockquote>
  <p>The above command returns JSON structured like this:</p>
</blockquote>

<div class="highlight"><pre class="highlight json"><code><span class="p">{</span><span class="w">
     </span><span class="nl">"company"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
         </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
         </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Retreaver"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"default_click_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://callpixels.com/?a=[affiliate_id]&amp;c=[campaign_id]&amp;cp=js&amp;s1=[sub_id]"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"default_sale_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://callpixels.com/p.ashx?o=[campaign_id]&amp;t=[call_log_id]-[caller_id]-[called_number]-[call_duration]-[call_recording_url]"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-04-15T05:44:10Z"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-05-07T15:32:44Z"</span><span class="w">
     </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Updates the given Company with any attributes you have passed in.</p>

<aside class="notice">
    You must replace <code>2</code> with the Retreaver ID of the Company you want to update.
</aside>

<h3 id="http-request-7">HTTP Request</h3>

<p><code>PUT https://api.retreaver.com/companies/2.json?api_key=woofwoofwoof</code></p>

<p><code>Content-Type: application/json</code></p>

<p><code>{"company":{"name":"Retreaver"}}</code></p>
<h1 id="errors">Errors</h1>

<p>The Retreaver Core API uses the following error codes:</p>

<table>
  <thead>
    <tr>
      <th>Error Code</th>
      <th>Meaning</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>400</td>
      <td>Bad Request – Your request was unintelligible. Check your formatting.</td>
    </tr>
    <tr>
      <td>401</td>
      <td>Unauthorized – Your API key is wrong or missing.</td>
    </tr>
    <tr>
      <td>403</td>
      <td>Forbidden – You didn’t pass in your Company ID or you’re using the wrong API key.</td>
    </tr>
    <tr>
      <td>404</td>
      <td>Not Found – It actually, really doesn’t exist.</td>
    </tr>
    <tr>
      <td>405</td>
      <td>Method Not Allowed – It doesn’t respond to the HTTP action you used.</td>
    </tr>
    <tr>
      <td>406</td>
      <td>Not Acceptable – You requested a format that isn’t JSON, or, sigh, XML.</td>
    </tr>
    <tr>
      <td>410</td>
      <td>Gone – It up and left or was otherwise deleted.</td>
    </tr>
    <tr>
      <td>418</td>
      <td>I’m a little teapot!</td>
    </tr>
    <tr>
      <td>429</td>
      <td>Too Many Requests – Slow down. Highly concurrent requests are frowned upon.</td>
    </tr>
    <tr>
      <td>500</td>
      <td>Internal Server Error – We had a problem with our server. Try again later.</td>
    </tr>
    <tr>
      <td>503</td>
      <td>Service Unavailable – We’re temporarily offline for maintenance. Please try again later.</td>
    </tr>
  </tbody>
</table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">cURL</a>
          </div>
      </div>
    </div>
  </body>
</html>
